(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[373],{PyEA:function(e,t,n){"use strict";n.r(t);var r=n("wx14"),o=n("rePB"),c=n("o0o1"),a=n.n(c),s=n("HaE+"),i=n("ODXe"),u=n("q1tI"),l=n.n(u),p=n("/MKj"),b=n("GR0a"),f=n("/BuZ"),O=n("e18T"),C=n("cHig"),j=n("yy36"),h=n("Ff2n"),d=n("1OyB"),m=n("vuIU"),y=n("JX7q"),v=n("Ji7U"),w=n("md7G"),P=n("foSv"),g=n("cQ3R"),I=n("b0K7"),_=n("FsEs"),E=n("wMKF"),x=n("1xSP"),S=n("lzsc"),A=n("c8W1"),D=n("2oex"),T=n("CWAm"),R=n("raiL"),k=n("givd"),K=n("J2dO"),L=["currentContentItem","hasCourseAccess","hasCourseContentItemAccess","platformPage","contentTitle"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=Object(P.a)(e);if(t){var o=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var F={showModal:k.c,nextContentItemRequested:A.b,trackVisit:T.i},N=function CourseRouteComponent(e){var t=x.c[e.currentContentItem.type].component;return l.a.createElement(t,e)},B=function(e){Object(v.default)(CourseContentItem,e);var t=_createSuper(CourseContentItem);function CourseContentItem(){var e;Object(d.default)(this,CourseContentItem);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(o.a)(Object(y.a)(e),"state",{contentCompleted:!1}),Object(o.a)(Object(y.a)(e),"componentDidUpdate",(function(t){t.hasCourseContentItemAccess&&!e.props.hasCourseContentItemAccess&&e.showProExclusiveCourseInterstitial()})),Object(o.a)(Object(y.a)(e),"redirectToContainerCourse",(function(){var t=e.props.locationQuery.course_redirect;return!!t&&(window.location.assign(Object(I.lb)(t)),!0)})),Object(o.a)(Object(y.a)(e),"showNextContentInterstitial",(function(){var t=e.props,n=t.hasNextContent,r=t.isCourseCompleted,o=t.interstitialsFeatureFlagEnabled;if(n||r)o?e.setState({contentCompleted:!0}):e.props.nextContentItemRequested({returnPath:e.returnPath()});else{if(e.redirectToContainerCourse())return;window.location.assign(e.returnPath())}})),Object(o.a)(Object(y.a)(e),"showProExclusiveCourseInterstitial",(function(){e.props.showModal({type:"ProExclusiveCourseInterstitial",returnPath:e.returnPath()})})),e}return Object(m.default)(CourseContentItem,[{key:"componentDidMount",value:function componentDidMount(){var e;this.props.contentIds&&((e=window).dataLayer||(e.dataLayer=[]),window.dataLayer.push({event:"content_id_loaded",content_id:Object(E.a)(this.props.contentIds)}));this.props.hasCourseContentItemAccess||this.showProExclusiveCourseInterstitial()}},{key:"returnPath",value:function returnPath(){var e=this.props.locationParams;return Object(I.lb)(e.trackSlug)}},{key:"renderCourseRouteComponent",value:function renderCourseRouteComponent(){var e=this.props,t=e.currentContentItem,n=(e.hasCourseAccess,e.hasCourseContentItemAccess),o=e.platformPage,c=(e.contentTitle,_objectSpread(_objectSpread({},Object(h.a)(e,L)),{},{exitPaths:{logo:"/",back:this.returnPath()},navigateToExercise:this.props.navigateToExercise,redirectToContainerCourse:this.redirectToContainerCourse,showNextContentInterstitial:this.showNextContentInterstitial}));return n?l.a.createElement(N,Object(r.a)({next:function next(){}},c,{platformPage:o,currentContentItem:t})):"lesson"===t.type?l.a.createElement(K.a,{contentItemSlug:t.slug,isFreeTrack:!1,hideSignUp:!0}):l.a.createElement(f.a,null)}},{key:"render",value:function render(){var e=this.props.contentTitle,t=this.state.contentCompleted;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{title:e}),t?l.a.createElement(_.a,null):this.renderCourseRouteComponent())}}]),CourseContentItem}(u.Component),M=Object(p.connect)((function mapStateToProps(e){return{currentCourse:Object(D.K)(e),contentTitle:Object(D.j)(e),currentContentItem:Object(D.r)(e),nextContentItems:Object(D.Z)(e),hasNextContent:Object(D.W)(e),isCourseCompleted:Object(S.b)(e),hasCourseAccess:Object(D.P)(e),hasCourseContentItemAccess:Object(D.Q)(e),contentIds:Object(D.i)(e),interstitialsFeatureFlagEnabled:Object(R.b)(e,"interstitials_techdebt")}}),F)(B);function course_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function course_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?course_ownKeys(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):course_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={fetchInitialCourseContent:C.b};t.default=Object(p.connect)((function mapStateToProps(e){return{isAnonymous:Object(j.C)(e)}}),U)((function CourseContainer(e){var t=Object(u.useState)(!0),n=Object(i.a)(t,2),o=n[0],c=n[1],p=e.locationParams,C=e.locationQuery,j=e.dispatch,h=e.fetchInitialCourseContent,d=e.isAnonymous;if(Object(u.useEffect)((function(){if(!d){var e=function(){var e=Object(s.a)(a.a.mark((function _callee(){return a.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:c(!1);case 3:case"end":return e.stop()}}),_callee)})));return function fetchData(){return e.apply(this,arguments)}}();c(!0),e()}}),[d,p.trackSlug,h]),d||o)return l.a.createElement(f.a,null);return l.a.createElement(M,Object(r.a)({navigateToExercise:function navigateToExercise(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=O.d(course_objectSpread(course_objectSpread({},p),{},{sectionType:"exercises",exerciseSlug:e,query:C}));t&&(n=Object(b.redirect)(n)),j(n)}},e))}))}}]);
//# sourceMappingURL=platform-scenes-course~71d1b18b.7d9b32052cd23b23b8df.chunk.js.map