(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[157],{"/RFl":function(e,t,n){"use strict";n.r(t),n.d(t,"DragAndDropController",(function(){return h}));var o=n("pmY6"),i=n("MNsG"),r=n("sswD"),s=n("cGHE"),a=n("aokT"),c=n("gCVg"),l=function(){function DragAndDropCommand(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}return DragAndDropCommand.prototype.getEditOperations=function(e,t){var n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new a.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new c.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new c.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new c.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},DragAndDropCommand.prototype.computeCursorState=function(e,t){return this.targetSelection},DragAndDropCommand}(),d=n("tX9W"),u=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function hasTriggerModifier(e){return i.e?e.altKey:e.ctrlKey}var h=function(e){function DragAndDropController(t){var n=e.call(this)||this;return n._editor=t,n._register(n._editor.onMouseDown((function(e){return n._onEditorMouseDown(e)}))),n._register(n._editor.onMouseUp((function(e){return n._onEditorMouseUp(e)}))),n._register(n._editor.onMouseDrag((function(e){return n._onEditorMouseDrag(e)}))),n._register(n._editor.onMouseDrop((function(e){return n._onEditorMouseDrop(e)}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(e)}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(e)}))),n._register(n._editor.onDidBlurEditorWidget((function(){return n.onEditorBlur()}))),n._dndDecorationIds=[],n._mouseDown=!1,n._modifierPressed=!1,n._dragSelection=null,n}return u(DragAndDropController,e),DragAndDropController.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},DragAndDropController.prototype.onEditorKeyDown=function(e){this._editor.getOption(24)&&(hasTriggerModifier(e)&&(this._modifierPressed=!0),this._mouseDown&&hasTriggerModifier(e)&&this._editor.updateOptions({mouseStyle:"copy"}))},DragAndDropController.prototype.onEditorKeyUp=function(e){this._editor.getOption(24)&&(hasTriggerModifier(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===DragAndDropController.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},DragAndDropController.prototype._onEditorMouseDown=function(e){this._mouseDown=!0},DragAndDropController.prototype._onEditorMouseUp=function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},DragAndDropController.prototype._onEditorMouseDrag=function(e){var t=e.target;if(null===this._dragSelection){var n=(this._editor.getSelections()||[]).filter((function(e){return t.position&&e.containsPosition(t.position)}));if(1!==n.length)return;this._dragSelection=n[0]}hasTriggerModifier(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))},DragAndDropController.prototype._onEditorMouseDrop=function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var t=new s.a(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var n=null;if(e.event.shiftKey){var o=this._editor.getSelection();if(o){var i=o.selectionStartLineNumber,r=o.selectionStartColumn;n=[new c.a(i,r,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((function(e){return e.containsPosition(t)?new c.a(t.lineNumber,t.column,t.lineNumber,t.column):e}));this._editor.setSelections(n||[],"mouse")}else(!this._dragSelection.containsPosition(t)||(hasTriggerModifier(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(DragAndDropController.ID,new l(this._dragSelection,t,hasTriggerModifier(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},DragAndDropController.prototype.showAt=function(e){var t=[{range:new a.a(e.lineNumber,e.column,e.lineNumber,e.column),options:DragAndDropController._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)},DragAndDropController.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},DragAndDropController.prototype._hitContent=function(e){return 6===e.type||7===e.type},DragAndDropController.prototype._hitMargin=function(e){return 2===e.type||3===e.type||4===e.type},DragAndDropController.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,e.prototype.dispose.call(this)},DragAndDropController.ID="editor.contrib.dragAndDrop",DragAndDropController.TRIGGER_KEY_VALUE=i.e?6:5,DragAndDropController._DECORATION_OPTIONS=d.a.register({className:"dnd-target"}),DragAndDropController}(o.a);Object(r.h)(h.ID,h)},"2ESN":function(e,t,n){"use strict";n.r(t);var o=n("3/fG"),i=n("X+cX"),r=n("JQT/"),s=n("/cxE"),a=n("eLzo"),c=n("pmY6"),l=n("MNsG"),d=n("sswD"),u=n("tX9W"),h=n("twdY"),p=n("aBYw"),g=n("bY76"),f=n("aokT"),m=n("G2kB"),_=n("nnTU"),v=n("6OMU"),b=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},y=function(){function Link(e,t){this._link=e,this._provider=t}return Link.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(Link.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(Link.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(Link.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),Link.prototype.resolve=function(e){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(n){return this._link.url?[2,this._link.url]:"function"==typeof this._provider.resolveLink?[2,Promise.resolve(this._provider.resolveLink(this._link,e)).then((function(n){return t._link=n||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}))]:[2,Promise.reject(new Error("missing"))]}))}))},Link}(),C=function(e){function LinksList(t){for(var n=e.call(this)||this,o=[],_loop_1=function(e,t){var n=e.links.map((function(e){return new y(e,t)}));o=LinksList._union(o,n),Object(c.g)(t)&&i._register(t)},i=this,r=0,s=t;r<s.length;r++){var a=s[r];_loop_1(a[0],a[1])}return n.links=o,n}return b(LinksList,e),LinksList._union=function(e,t){var n,o,i,r,s=[];for(n=0,i=0,o=e.length,r=t.length;n<o&&i<r;){var a=e[n],c=t[i];if(f.a.areIntersectingOrTouching(a.range,c.range))n++;else f.a.compareRangesUsingStarts(a.range,c.range)<0?(s.push(a),n++):(s.push(c),i++)}for(;n<o;n++)s.push(e[n]);for(;i<r;i++)s.push(t[i]);return s},LinksList}(c.a);function getLinks(e,t){var n=[],o=h.s.ordered(e).reverse().map((function(o,i){return Promise.resolve(o.provideLinks(e,t)).then((function(e){e&&(n[i]=[e,o])}),s.f)}));return Promise.all(o).then((function(){var e=new C(Object(v.d)(n));return t.isCancellationRequested?(e.dispose(),new C([])):e}))}_.a.registerCommand("_executeLinkProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter(void 0,void 0,void 0,(function(){var n,o,i,s;return __generator(this,(function(a){switch(a.label){case 0:return(n=t[0])instanceof g.a&&(o=e.get(m.a).getModel(n))?[4,getLinks(o,r.a.None)]:[2,[]];case 1:return(i=a.sent())?(s=i.links.slice(0),i.dispose(),[2,s]):[2,[]]}}))}))}));var w=n("sM1p"),M=n("W9cx"),S=n("MD5Z"),O=n("t9D7"),R=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},links_awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},links_generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};var D={general:u.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:u.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},k=function(){function LinkOccurrence(e,t){this.link=e,this.decorationId=t}return LinkOccurrence.decoration=function(e,t){return{range:e.range,options:LinkOccurrence._getOptions(e,t,!1)}},LinkOccurrence._getOptions=function(e,t,n){var i=__assign({},n?D.active:D.general);return i.hoverMessage=function getHoverMessage(e,t){var n=e.url&&/^command:/i.test(e.url.toString()),i=e.tooltip?e.tooltip:n?o.a("links.navigate.executeCmd","Execute command"):o.a("links.navigate.follow","Follow link"),r=t?l.e?o.a("links.navigate.kb.meta.mac","cmd + click"):o.a("links.navigate.kb.meta","ctrl + click"):l.e?o.a("links.navigate.kb.alt.mac","option + click"):o.a("links.navigate.kb.alt","alt + click");return e.url?new a.a("",!0).appendMarkdown("["+i+"]("+e.url.toString()+") ("+r+")"):(new a.a).appendText(i+" ("+r+")")}(e,t),i},LinkOccurrence.prototype.activate=function(e,t){e.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,t,!0))},LinkOccurrence.prototype.deactivate=function(e,t){e.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,t,!1))},LinkOccurrence}(),L=function(){function LinkDetector(e,t,n){var o=this;this.listenersToRemove=new c.b,this.editor=e,this.openerService=t,this.notificationService=n;var r=new p.a(e);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];o._onEditorMouseMove(t,n)}))),this.listenersToRemove.add(r.onExecute((function(e){o.onEditorMouseUp(e)}))),this.listenersToRemove.add(r.onCancel((function(e){o.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(52),this.listenersToRemove.add(e.onDidChangeConfiguration((function(t){var n=e.getOption(52);o.enabled!==n&&(o.enabled=n,o.updateDecorations([]),o.stop(),o.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((function(e){return o.onChange()}))),this.listenersToRemove.add(e.onDidChangeModel((function(e){return o.onModelChanged()}))),this.listenersToRemove.add(e.onDidChangeModelLanguage((function(e){return o.onModelModeChanged()}))),this.listenersToRemove.add(h.s.onDidChange((function(e){return o.onModelModeChanged()}))),this.timeout=new i.e,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return LinkDetector.get=function(e){return e.getContribution(LinkDetector.ID)},LinkDetector.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},LinkDetector.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},LinkDetector.prototype.onChange=function(){var e=this;this.timeout.setIfNotSet((function(){return e.beginCompute()}),LinkDetector.RECOMPUTE_TIME)},LinkDetector.prototype.beginCompute=function(){return links_awaiter(this,void 0,void 0,(function(){var e,t,n;return links_generator(this,(function(o){switch(o.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!h.s.has(e))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=i.f((function(t){return getLinks(e,t)})),o.label=1;case 1:return o.trys.push([1,3,4,5]),t=this,[4,this.computePromise];case 2:return t.activeLinksList=o.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return n=o.sent(),Object(s.e)(n),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}}))}))},LinkDetector.prototype.updateDecorations=function(e){for(var t="altKey"===this.editor.getOption(59),n=[],o=Object.keys(this.currentOccurrences),i=0,r=o.length;i<r;i++){var s=o[i],a=this.currentOccurrences[s];n.push(a.decorationId)}var c=[];if(e)for(var l=0,d=e;l<d.length;l++){var u=d[l];c.push(k.decoration(u,t))}var h=this.editor.deltaDecorations(n,c);this.currentOccurrences={},this.activeLinkDecorationId=null;for(i=0,r=h.length;i<r;i++){a=new k(e[i],h[i]);this.currentOccurrences[a.decorationId]=a}},LinkDetector.prototype._onEditorMouseMove=function(e,t){var n=this,o="altKey"===this.editor.getOption(59);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var i=this.getLinkOccurrence(e.target.position);i&&this.editor.changeDecorations((function(e){i.activate(e,o),n.activeLinkDecorationId=i.decorationId}))}else this.cleanUpActiveLinkDecoration()},LinkDetector.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getOption(59);if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((function(n){t.deactivate(n,e)})),this.activeLinkDecorationId=null}},LinkDetector.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}},LinkDetector.prototype.openLinkOccurrence=function(e,t,n){var i=this;if(void 0===n&&(n=!1),this.openerService){var a=e.link;a.resolve(r.a.None).then((function(e){return i.openerService.open(e,{openToSide:t,fromUserGesture:n})}),(function(e){var t=e instanceof Error?e.message:e;"invalid"===t?i.notificationService.warn(o.a("invalid.url","Failed to open this link because it is not well-formed: {0}",a.url.toString())):"missing"===t?i.notificationService.warn(o.a("missing.url","Failed to open this link because its target is missing.")):Object(s.e)(e)}))}},LinkDetector.prototype.getLinkOccurrence=function(e){if(!this.editor.hasModel()||!e)return null;for(var t=0,n=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);t<n.length;t++){var o=n[t],i=this.currentOccurrences[o.id];if(i)return i}return null},LinkDetector.prototype.isEnabled=function(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))},LinkDetector.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},LinkDetector.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},LinkDetector.ID="editor.linkDetector",LinkDetector.RECOMPUTE_TIME=1e3,LinkDetector=__decorate([__param(1,M.a),__param(2,w.a)],LinkDetector)}(),A=function(e){function OpenLinkAction(){return e.call(this,{id:"editor.action.openLink",label:o.a("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return R(OpenLinkAction,e),OpenLinkAction.prototype.run=function(e,t){var n=L.get(t);if(n&&t.hasModel())for(var o=0,i=t.getSelections();o<i.length;o++){var r=i[o],s=n.getLinkOccurrence(r.getEndPosition());s&&n.openLinkOccurrence(s,!1)}},OpenLinkAction}(d.b);Object(d.h)(L.ID,L),Object(d.f)(A),Object(O.e)((function(e,t){var n=e.getColor(S.n);n&&t.addRule(".monaco-editor .detected-link-active { color: "+n+" !important; }")}))},"8Ydt":function(e,t,n){"use strict";n.r(t),n.d(t,"DefinitionAction",(function(){return J}));var o=n("OBOq"),i=n("X+cX"),r=n("/kV6"),s=n("MNsG"),a=n("sFUC"),c=n("sswD"),l=n("Vxe3"),d=n("cGHE"),u=n("aokT"),h=n("wQH0"),p=n("twdY"),g=n("NR8r"),f=n("iNS8"),m=n("QY8A"),_=n("9o5J"),v=n("3/fG"),b=n("fjLI"),y=n("T8No"),C=n("sM1p"),w=n("tTk5"),M=n("vRMv"),S=n("nnTU"),O=n("vATl"),R=n("Cg/j"),D=n("9fML"),k=n("nrhi"),L=n("pmY6"),A=n("MI8n"),F=n("bexQ"),I=n("gslv"),N=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},P=new y.d("hasSymbols",!1),x=Object(R.c)("ISymbolNavigationService"),E=function(){function SymbolNavigationService(e,t,n,o){this._editorService=t,this._notificationService=n,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=P.bindTo(e)}return SymbolNavigationService.prototype.reset=function(){this._ctxHasSymbols.reset(),Object(L.f)(this._currentState),Object(L.f)(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},SymbolNavigationService.prototype.put=function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var o=new K(this._editorService),i=o.onDidChange((function(e){if(!t._ignoreEditorChange){var o=t._editorService.getActiveCodeEditor();if(o){var i=o.getModel(),r=o.getPosition();if(i&&r){for(var s=!1,a=!1,c=0,l=n.references;c<l.length;c++){var d=l[c];if(Object(I.e)(d.uri,i.uri))s=!0,a=a||u.a.containsPosition(d.range,r);else if(s)break}s&&a||t.reset()}}}}));this._currentState=Object(L.e)(o,i)}},SymbolNavigationService.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:u.a.collapseToStart(n.range),revealInCenterIfOutsideViewport:!0}},e).finally((function(){t._ignoreEditorChange=!1}))},SymbolNavigationService.prototype._showMessage=function(){Object(L.f)(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?Object(v.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):Object(v.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},SymbolNavigationService=__decorate([__param(0,y.c),__param(1,l.a),__param(2,C.a),__param(3,F.a)],SymbolNavigationService)}();Object(D.b)(x,E,!0),Object(c.g)(new(function(e){function class_1(){return e.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:P,kbOpts:{weight:100,primary:70}})||this}return N(class_1,e),class_1.prototype.runEditorCommand=function(e,t){return e.get(x).revealNext(t)},class_1}(c.c))),k.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:P,primary:9,handler:function(e){e.get(x).reset()}});var T,j,W,H,B,U,V,G,K=function(){function EditorState(e){this._listener=new Map,this._disposables=new L.b,this._onDidChange=new A.a,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return EditorState.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(L.f)},EditorState.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,Object(L.e)(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))},EditorState.prototype._onDidRemoveEditor=function(e){Object(L.f)(this._listener.get(e)),this._listener.delete(e)},EditorState=__decorate([__param(0,l.a)],EditorState)}(),q=n("D3Dy"),Z=n("bY76"),z=n("746U"),Y=n("03kh"),X=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};b.c.appendMenuItem(7,{submenu:8,title:v.a("peek.submenu","Peek"),group:"navigation",order:100});var Q=function(e){function SymbolNavigationAction(t,n){var o=e.call(this,n)||this;return o._configuration=t,o}return X(SymbolNavigationAction,e),SymbolNavigationAction.prototype.run=function(e,t){var n=this;if(!t.hasModel())return Promise.resolve(void 0);var r=e.get(C.a),s=e.get(l.a),a=e.get(w.a),c=e.get(x),d=t.getModel(),u=t.getPosition(),h=new O.b(t,5),p=Object(i.j)(this._getLocationModel(d,u,h.token),h.token).then((function(e){return __awaiter(n,void 0,void 0,(function(){var n,i,r,a;return __generator(this,(function(l){if(!e||h.token.isCancellationRequested)return[2];if(Object(o.a)(e.ariaMessage),e.referenceAt(d.uri,u)&&(i=this._getAlternativeCommand(t))!==this.id&&(n=t.getAction(i)),0===(r=e.references.length))this._configuration.muteMessage||(a=d.getWordAtPosition(u),g.a.get(t).showMessage(this._getNoResultFoundMessage(a),u));else{if(1!==r||!n)return[2,this._onResult(s,c,t,e)];n.run()}return[2]}))}))}),(function(e){r.error(e)})).finally((function(){h.dispose()}));return a.showWhile(p,250),p},SymbolNavigationAction.prototype._onResult=function(e,t,n,o){return __awaiter(this,void 0,void 0,(function(){var i,r,s,a;return __generator(this,(function(c){switch(c.label){case 0:return i=this._getGoToPreference(n),n instanceof Y.a||!(this._configuration.openInPeek||"peek"===i&&o.references.length>1)?[3,1]:(this._openInPeek(n,o),[3,3]);case 1:return r=o.firstReference(),s=o.references.length>1&&"gotoAndPeek"===i,[4,this._openReference(n,e,r,this._configuration.openToSide,!s)];case 2:a=c.sent(),s&&a?this._openInPeek(a,o):o.dispose(),"goto"===i&&t.put(r),c.label=3;case 3:return[2]}}))}))},SymbolNavigationAction.prototype._openReference=function(e,t,n,o,i){return __awaiter(this,void 0,void 0,(function(){var r,s,a,c;return __generator(this,(function(l){switch(l.label){case 0:return r=void 0,Object(p.G)(n)&&(r=n.targetSelectionRange),r||(r=n.range),[4,t.openCodeEditor({resource:n.uri,options:{selection:u.a.collapseToStart(r),revealInCenterIfOutsideViewport:!0}},e,o)];case 1:return(s=l.sent())?(i&&(a=s.getModel(),c=s.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]),setTimeout((function(){s.getModel()===a&&s.deltaDecorations(c,[])}),350)),[2,s]):[2,void 0]}}))}))},SymbolNavigationAction.prototype._openInPeek=function(e,t){var n=m.a.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),Object(i.f)((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()},SymbolNavigationAction}(c.b),J=function(e){function DefinitionAction(){return null!==e&&e.apply(this,arguments)||this}return X(DefinitionAction,e),DefinitionAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.b)(e,t,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("def.title","Definitions")]))]}}))}))},DefinitionAction.prototype._getNoResultFoundMessage=function(e){return e&&e.word?v.a("noResultWord","No definition found for '{0}'",e.word):v.a("generic.noResults","No definition found")},DefinitionAction.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDefinitionCommand},DefinitionAction.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDefinitions},DefinitionAction}(Q),$=s.g&&!q.l?2118:70;Object(c.f)(((T=function(e){function GoToDefinitionAction(){var t=e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDefinitionAction.id,label:v.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:y.a.and(h.a.hasDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:$,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:19,group:"4_symbol_nav",order:2,title:v.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return S.a.registerCommandAlias("editor.action.goToDeclaration",GoToDefinitionAction.id),t}return X(GoToDefinitionAction,e),GoToDefinitionAction}(J)).id="editor.action.revealDefinition",T)),Object(c.f)(((j=function(e){function OpenDefinitionToSideAction(){var t=e.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:OpenDefinitionToSideAction.id,label:v.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:y.a.and(h.a.hasDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.a)(2089,$),weight:100}})||this;return S.a.registerCommandAlias("editor.action.openDeclarationToTheSide",OpenDefinitionToSideAction.id),t}return X(OpenDefinitionToSideAction,e),OpenDefinitionToSideAction}(J)).id="editor.action.revealDefinitionAside",j)),Object(c.f)(((W=function(e){function PeekDefinitionAction(){var t=e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekDefinitionAction.id,label:v.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:y.a.and(h.a.hasDefinitionProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return S.a.registerCommandAlias("editor.action.previewDeclaration",PeekDefinitionAction.id),t}return X(PeekDefinitionAction,e),PeekDefinitionAction}(J)).id="editor.action.peekDefinition",W));var ee=function(e){function DeclarationAction(){return null!==e&&e.apply(this,arguments)||this}return X(DeclarationAction,e),DeclarationAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.a)(e,t,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("decl.title","Declarations")]))]}}))}))},DeclarationAction.prototype._getNoResultFoundMessage=function(e){return e&&e.word?v.a("decl.noResultWord","No declaration found for '{0}'",e.word):v.a("decl.generic.noResults","No declaration found")},DeclarationAction.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDeclarationCommand},DeclarationAction.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDeclarations},DeclarationAction}(Q);Object(c.f)(((H=function(e){function GoToDeclarationAction(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDeclarationAction.id,label:v.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:y.a.and(h.a.hasDeclarationProvider,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:v.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return X(GoToDeclarationAction,e),GoToDeclarationAction.prototype._getNoResultFoundMessage=function(e){return e&&e.word?v.a("decl.noResultWord","No declaration found for '{0}'",e.word):v.a("decl.generic.noResults","No declaration found")},GoToDeclarationAction}(ee)).id="editor.action.revealDeclaration",H)),Object(c.f)(function(e){function PeekDeclarationAction(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:v.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:y.a.and(h.a.hasDeclarationProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return X(PeekDeclarationAction,e),PeekDeclarationAction}(ee));var te=function(e){function TypeDefinitionAction(){return null!==e&&e.apply(this,arguments)||this}return X(TypeDefinitionAction,e),TypeDefinitionAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.e)(e,t,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("typedef.title","Type Definitions")]))]}}))}))},TypeDefinitionAction.prototype._getNoResultFoundMessage=function(e){return e&&e.word?v.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):v.a("goToTypeDefinition.generic.noResults","No type definition found")},TypeDefinitionAction.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeTypeDefinitionCommand},TypeDefinitionAction.prototype._getGoToPreference=function(e){return e.getOption(41).multipleTypeDefinitions},TypeDefinitionAction}(Q);Object(c.f)(((B=function(e){function GoToTypeDefinitionAction(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToTypeDefinitionAction.ID,label:v.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:y.a.and(h.a.hasTypeDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:v.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return X(GoToTypeDefinitionAction,e),GoToTypeDefinitionAction}(te)).ID="editor.action.goToTypeDefinition",B)),Object(c.f)(((U=function(e){function PeekTypeDefinitionAction(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekTypeDefinitionAction.ID,label:v.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:y.a.and(h.a.hasTypeDefinitionProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return X(PeekTypeDefinitionAction,e),PeekTypeDefinitionAction}(te)).ID="editor.action.peekTypeDefinition",U));var ne=function(e){function ImplementationAction(){return null!==e&&e.apply(this,arguments)||this}return X(ImplementationAction,e),ImplementationAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.c)(e,t,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("impl.title","Implementations")]))]}}))}))},ImplementationAction.prototype._getNoResultFoundMessage=function(e){return e&&e.word?v.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):v.a("goToImplementation.generic.noResults","No implementation found")},ImplementationAction.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeImplementationCommand},ImplementationAction.prototype._getGoToPreference=function(e){return e.getOption(41).multipleImplementations},ImplementationAction}(Q);Object(c.f)(((V=function(e){function GoToImplementationAction(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToImplementationAction.ID,label:v.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:y.a.and(h.a.hasImplementationProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:19,group:"4_symbol_nav",order:4,title:v.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return X(GoToImplementationAction,e),GoToImplementationAction}(ne)).ID="editor.action.goToImplementation",V)),Object(c.f)(((G=function(e){function PeekImplementationAction(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekImplementationAction.ID,label:v.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:y.a.and(h.a.hasImplementationProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return X(PeekImplementationAction,e),PeekImplementationAction}(ne)).ID="editor.action.peekImplementation",G));var oe=function(e){function ReferencesAction(){return null!==e&&e.apply(this,arguments)||this}return X(ReferencesAction,e),ReferencesAction.prototype._getNoResultFoundMessage=function(e){return e?v.a("references.no","No references found for '{0}'",e.word):v.a("references.noGeneric","No references found")},ReferencesAction.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeReferenceCommand},ReferencesAction.prototype._getGoToPreference=function(e){return e.getOption(41).multipleReferences},ReferencesAction}(Q);Object(c.f)(function(e){function GoToReferencesAction(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:v.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:y.a.and(h.a.hasReferenceProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:19,group:"4_symbol_nav",order:5,title:v.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return X(GoToReferencesAction,e),GoToReferencesAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.d)(e,t,!0,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("ref.title","References")]))]}}))}))},GoToReferencesAction}(oe)),Object(c.f)(function(e){function PeekReferencesAction(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:v.a("references.action.label","Peek References"),alias:"Peek References",precondition:y.a.and(h.a.hasReferenceProvider,f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return X(PeekReferencesAction,e),PeekReferencesAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return o=_.c.bind,[4,Object(M.d)(e,t,!1,n)];case 1:return[2,new(o.apply(_.c,[void 0,i.sent(),v.a("ref.title","References")]))]}}))}))},PeekReferencesAction}(oe));var ie=function(e){function GenericGoToLocationAction(t,n,o){var i=e.call(this,t,{id:"editor.action.goToLocation",label:v.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:y.a.and(f.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated())})||this;return i._references=n,i._gotoMultipleBehaviour=o,i}return X(GenericGoToLocationAction,e),GenericGoToLocationAction.prototype._getLocationModel=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,new _.c(this._references,v.a("generic.title","Locations"))]}))}))},GenericGoToLocationAction.prototype._getNoResultFoundMessage=function(e){return e&&v.a("generic.noResult","No results for '{0}'",e.word)||""},GenericGoToLocationAction.prototype._getGoToPreference=function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(41).multipleReferences},GenericGoToLocationAction.prototype._getAlternativeCommand=function(){return""},GenericGoToLocationAction}(Q);S.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Z.a},{name:"position",description:"The position at which to start",constraint:d.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,o,i,r){return __awaiter(void 0,void 0,void 0,(function(){var s,c;return __generator(this,(function(u){switch(u.label){case 0:return Object(z.a)(Z.a.isUri(t)),Object(z.a)(d.a.isIPosition(n)),Object(z.a)(Array.isArray(o)),Object(z.a)(void 0===i||"string"==typeof i),Object(z.a)(void 0===r||"boolean"==typeof r),[4,(s=e.get(l.a)).openCodeEditor({resource:t},s.getFocusedCodeEditor())];case 1:return c=u.sent(),Object(a.a)(c)?(c.setPosition(n),c.revealPositionInCenterIfOutsideViewport(n,0),[2,c.invokeWithinContext((function(e){var t=new ie({muteMessage:!0,openInPeek:Boolean(r),openToSide:!1},o,i);e.get(R.a).invokeFunction(t.run.bind(t),c)}))]):[2]}}))}))}}),S.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Z.a},{name:"position",description:"The position at which to start",constraint:d.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,o,i){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(r){return e.get(S.b).executeCommand("editor.action.goToLocations",t,n,o,i,!0),[2]}))}))}}),S.a.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){Object(z.a)(Z.a.isUri(t)),Object(z.a)(d.a.isIPosition(n));var o=e.get(l.a);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then((function(e){if(Object(a.a)(e)&&e.hasModel()){var t=m.a.get(e);if(t){var o=Object(i.f)((function(t){return Object(M.d)(e.getModel(),d.a.lift(n),!1,t).then((function(e){return new _.c(e,v.a("ref.title","References"))}))})),r=new u.a(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(r,o,!1))}}}))}}),S.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},"9o5J":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p}));var o=n("3/fG"),i=n("MI8n"),r=n("gslv"),s=n("pmY6"),a=n("N0LK"),c=n("nD70"),l=n("aokT"),d=function(){function OneReference(e,t,n,o){this.isProviderFirst=e,this.parent=t,this._range=n,this._rangeCallback=o,this.id=c.b.nextId()}return Object.defineProperty(OneReference.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(OneReference.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(OneReference.prototype,"ariaMessage",{get:function(){return Object(o.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(r.b)(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),OneReference}(),u=function(){function FilePreview(e){this._modelReference=e}return FilePreview.prototype.dispose=function(){this._modelReference.dispose()},FilePreview.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._modelReference.object.textEditorModel;if(n){var o=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=n.getWordUntilPosition({lineNumber:o,column:i-t}),c=new l.a(o,a.startColumn,o,i),d=new l.a(r,s,r,1073741824),u=n.getValueInRange(c).replace(/^\s+/,""),h=n.getValueInRange(e);return{value:u+h+n.getValueInRange(d).replace(/\s+$/,""),highlight:{start:u.length,end:u.length+h.length}}}},FilePreview}(),h=function(){function FileReferences(e,t){this.parent=e,this.uri=t,this.children=[]}return FileReferences.prototype.dispose=function(){Object(s.f)(this._preview),this._preview=void 0},Object.defineProperty(FileReferences.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(FileReferences.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(FileReferences.prototype,"ariaMessage",{get:function(){var e=this.children.length;return 1===e?Object(o.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(r.b)(this.uri),this.uri.fsPath):Object(o.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(r.b)(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),FileReferences.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this.uri).then((function(e){if(!e.object)throw e.dispose(),new Error;return t._preview=new u(e),t._resolved=!0,t}),(function(e){return t.children.length=0,t._resolved=!0,t._loadFailure=e,t})))},FileReferences}(),p=function(){function ReferencesModel(e,t){var n=this;this._disposables=new s.b,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new i.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;var o,r=e[0];e.sort(ReferencesModel._compareReferences);for(var a=0,c=e;a<c.length;a++){var u=c[a];if(o&&o.uri.toString()===u.uri.toString()||(o=new h(this,u.uri),this.groups.push(o)),0===o.children.length||!l.a.equalsRange(u.range,o.children[o.children.length-1].range)){var p=new d(r===u,o,u.targetSelectionRange||u.range,(function(e){return n._onDidChangeReferenceRange.fire(e)}));this.references.push(p),o.children.push(p)}}}return ReferencesModel.prototype.dispose=function(){Object(s.f)(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},ReferencesModel.prototype.clone=function(){return new ReferencesModel(this._links,this._title)},Object.defineProperty(ReferencesModel.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(ReferencesModel.prototype,"isEmpty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(ReferencesModel.prototype,"ariaMessage",{get:function(){return this.isEmpty?Object(o.a)("aria.result.0","No results found"):1===this.references.length?Object(o.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(o.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(o.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),ReferencesModel.prototype.nextOrPreviousReference=function(e,t){var n=e.parent,o=n.children.indexOf(e),i=n.children.length,r=n.parent.groups.length;return 1===r||t&&o+1<i||!t&&o>0?(o=t?(o+1)%i:(o+i-1)%i,n.children[o]):(o=n.parent.groups.indexOf(n),t?(o=(o+1)%r,n.parent.groups[o].children[0]):(o=(o+r-1)%r,n.parent.groups[o].children[n.parent.groups[o].children.length-1]))},ReferencesModel.prototype.nearestReference=function(e,t){var n=this.references.map((function(n,o){return{idx:o,prefixLen:a.c(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]},ReferencesModel.prototype.referenceAt=function(e,t){for(var n=0,o=this.references;n<o.length;n++){var i=o[n];if(i.uri.toString()===e.toString()&&l.a.containsPosition(i.range,t))return i}},ReferencesModel.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var n=t[e];if(n.isProviderFirst)return n}return this.references[0]},ReferencesModel._compareReferences=function(e,t){return a.e(e.uri.toString(),t.uri.toString())||l.a.compareRangesUsingStarts(e.range,t.range)},ReferencesModel}()},GvMn:function(e,t,n){"use strict";n.r(t);var o=n("3/fG"),i=n("aokT"),r=n("gCVg"),s=n("wQH0"),a=n("sswD"),c=n("pAvP"),l=function(){function InPlaceReplaceCommand(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return InPlaceReplaceCommand.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},InPlaceReplaceCommand.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new r.a(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new r.a(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)},InPlaceReplaceCommand}(),d=n("vATl"),u=n("t9D7"),h=n("kYye"),p=n("tX9W"),g=n("X+cX"),f=n("/cxE"),m=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},_=function(){function InPlaceReplaceController(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return InPlaceReplaceController.get=function(e){return e.getContribution(InPlaceReplaceController.ID)},InPlaceReplaceController.prototype.dispose=function(){},InPlaceReplaceController.prototype.run=function(e,t){var n=this;this.currentRequest&&this.currentRequest.cancel();var o=this.editor.getSelection(),s=this.editor.getModel();if(s&&o){var a=o;if(a.startLineNumber===a.endLineNumber){var c=new d.a(this.editor,5),u=s.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=Object(g.f)((function(e){return n.editorWorkerService.navigateValueSet(u,a,t)})),this.currentRequest.then((function(t){if(t&&t.range&&t.value&&c.validate(n.editor)){var o=i.a.lift(t.range),s=t.range,d=t.value.length-(a.endColumn-a.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+t.value.length},d>1&&(a=new r.a(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+d-1));var u=new l(o,a,t.value);n.editor.pushUndoStop(),n.editor.executeCommand(e,u),n.editor.pushUndoStop(),n.decorationIds=n.editor.deltaDecorations(n.decorationIds,[{range:s,options:InPlaceReplaceController.DECORATION}]),n.decorationRemover&&n.decorationRemover.cancel(),n.decorationRemover=Object(g.l)(350),n.decorationRemover.then((function(){return n.decorationIds=n.editor.deltaDecorations(n.decorationIds,[])})).catch(f.e)}})).catch(f.e)):Promise.resolve(void 0)}}},InPlaceReplaceController.ID="editor.contrib.inPlaceReplaceController",InPlaceReplaceController.DECORATION=p.a.register({className:"valueSetReplacement"}),InPlaceReplaceController=__decorate([__param(1,c.a)],InPlaceReplaceController)}(),v=function(e){function InPlaceReplaceUp(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:o.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:3154,weight:100}})||this}return m(InPlaceReplaceUp,e),InPlaceReplaceUp.prototype.run=function(e,t){var n=_.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)},InPlaceReplaceUp}(a.b),b=function(e){function InPlaceReplaceDown(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:o.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:3156,weight:100}})||this}return m(InPlaceReplaceDown,e),InPlaceReplaceDown.prototype.run=function(e,t){var n=_.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)},InPlaceReplaceDown}(a.b);Object(a.h)(_.ID,_),Object(a.f)(v),Object(a.f)(b),Object(u.e)((function(e,t){var n=e.getColor(h.d);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+n+"; }")}))},H4T2:function(e,t,n){"use strict";n.r(t),n.d(t,"GotoDefinitionAtPositionEditorContribution",(function(){return C}));var o=n("3/fG"),i=n("X+cX"),r=n("/cxE"),s=n("eLzo"),a=n("WBhO"),c=n("aokT"),l=n("twdY"),d=n("sswD"),u=n("vRMv"),h=n("pmY6"),p=n("t49l"),g=n("t9D7"),f=n("MD5Z"),m=n("vATl"),_=n("8Ydt"),v=n("aBYw"),b=n("cGHE"),y=n("746U"),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},C=function(){function GotoDefinitionAtPositionEditorContribution(e,t,n){var o=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=new h.b,this.toUnhookForKeyboard=new h.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;var i=new v.a(e);this.toUnhook.add(i),this.toUnhook.add(i.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];o.startFindDefinitionFromMouse(t,Object(y.n)(n))}))),this.toUnhook.add(i.onExecute((function(e){o.isEnabled(e)&&o.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){o.removeLinkDecorations()}),(function(e){o.removeLinkDecorations(),Object(r.e)(e)}))}))),this.toUnhook.add(i.onCancel((function(){o.removeLinkDecorations(),o.currentWordAtPosition=null})))}return GotoDefinitionAtPositionEditorContribution.get=function(e){return e.getContribution(GotoDefinitionAtPositionEditorContribution.ID)},GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromCursor=function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))},GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromMouse=function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}},GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinition=function(e){var t,n=this;this.toUnhookForKeyboard.clear();var a=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!a)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===a.startColumn&&this.currentWordAtPosition.endColumn===a.endColumn&&this.currentWordAtPosition.word===a.word)return Promise.resolve(0);this.currentWordAtPosition=a;var l=new m.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(i.f)((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&l.validate(n.editor))if(t.length>1)n.addDecoration(new c.a(e.lineNumber,a.startColumn,e.lineNumber,a.endColumn),(new s.a).appendText(o.a("multipleResults","Click to show {0} definitions.",t.length)));else{var i=t[0];if(!i.uri)return;n.textModelResolverService.createModelReference(i.uri).then((function(t){if(t.object&&t.object.textEditorModel){var o=t.object.textEditorModel,r=i.range.startLineNumber;if(r<1||r>o.getLineCount())t.dispose();else{var l,d=n.getPreviewValue(o,r,i);l=i.originSelectionRange?c.a.lift(i.originSelectionRange):new c.a(e.lineNumber,a.startColumn,e.lineNumber,a.endColumn);var u=n.modeService.getModeIdByFilepathOrFirstLine(o.uri);n.addDecoration(l,(new s.a).appendCodeblock(u||"",d)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,r.e)},GotoDefinitionAtPositionEditorContribution.prototype.getPreviewValue=function(e,t,n){var o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(e,t);return o.endLineNumber-o.startLineNumber>=GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,o)},GotoDefinitionAtPositionEditorContribution.prototype.stripIndentationFromPreviewRange=function(e,t,n){for(var o=e.getLineFirstNonWhitespaceColumn(t),i=t+1;i<n.endLineNumber;i++){var r=e.getLineFirstNonWhitespaceColumn(i);o=Math.min(o,r)}return e.getValueInRange(n).replace(new RegExp("^\\s{"+(o-1)+"}","gm"),"").trim()},GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnIndentation=function(e,t){for(var n=e.getLineFirstNonWhitespaceColumn(t),o=Math.min(e.getLineCount(),t+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES),i=t+1;i<o;i++){if(n===e.getLineFirstNonWhitespaceColumn(i))break}return new c.a(t,1,i+1,1)},GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnBrackets=function(e,t){for(var n=Math.min(e.getLineCount(),t+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES),o=[],i=!0,r=e.findNextBracket(new b.a(t,1));null!==r;){if(0===o.length)o.push(r);else{var s=o[o.length-1];if(s.open[0]===r.open[0]&&s.isOpen&&!r.isOpen?o.pop():o.push(r),0===o.length){if(!i)return new c.a(t,1,r.range.endLineNumber+1,1);i=!1}}var a=e.getLineMaxColumn(t),l=r.range.endLineNumber,d=r.range.endColumn;if(a===r.range.endColumn&&(l++,d=1),l>n)return new c.a(t,1,n+1,1);r=e.findNextBracket(new b.a(l,d))}return new c.a(t,1,n+1,1)},GotoDefinitionAtPositionEditorContribution.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])},GotoDefinitionAtPositionEditorContribution.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},GotoDefinitionAtPositionEditorContribution.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&l.f.has(this.editor.getModel())},GotoDefinitionAtPositionEditorContribution.prototype.findDefinition=function(e,t){var n=this.editor.getModel();return n?Object(u.b)(n,e,t):Promise.resolve(null)},GotoDefinitionAtPositionEditorContribution.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e);var o=new _.DefinitionAction({openToSide:t,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext((function(e){return o.run(e,n.editor)}))},GotoDefinitionAtPositionEditorContribution.prototype.dispose=function(){this.toUnhook.dispose()},GotoDefinitionAtPositionEditorContribution.ID="editor.contrib.gotodefinitionatposition",GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES=8,GotoDefinitionAtPositionEditorContribution=__decorate([__param(1,p.a),__param(2,a.a)],GotoDefinitionAtPositionEditorContribution)}();Object(d.h)(C.ID,C),Object(g.e)((function(e,t){var n=e.getColor(f.n);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")}))},QY8A:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var o=n("3/fG"),i=n("/cxE"),r=n("pmY6"),s=n("Vxe3"),a=n("Cg/j"),c=n("T8No"),l=n("+7oY"),d=n("A+jI"),u=n("9o5J"),h=n("EffR"),p=n("zrhQ"),g=n("MI8n"),f=n("tYmi"),m=n("gslv"),_=n("03kh"),v=n("aokT"),b=n("tX9W"),y=n("t49l"),C=n("xONI"),w=n("O/se"),M=n("R8sh"),S=n("t9D7"),O=n("ptcw"),R=n("3rx1"),D=n("bexQ"),k=n("fpMC"),L=n("7lZ/"),A=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},F=function(){function DataSource(e){this._resolverService=e}return DataSource.prototype.hasChildren=function(e){return e instanceof u.c||e instanceof u.a&&!e.failure},DataSource.prototype.getChildren=function(e){if(e instanceof u.c)return e.groups;if(e instanceof u.a)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")},DataSource=__decorate([__param(0,y.a)],DataSource)}(),I=function(){function Delegate(){}return Delegate.prototype.getHeight=function(){return 23},Delegate.prototype.getTemplateId=function(e){return e instanceof u.a?E.id:j.id},Delegate}(),N=function(){function StringRepresentationProvider(e){this._keybindingService=e}return StringRepresentationProvider.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof u.b){var t=e.parent.preview,n=t&&t.preview(e.range);if(n)return n.value}return Object(m.b)(e.uri)},StringRepresentationProvider=__decorate([__param(0,D.a)],StringRepresentationProvider)}(),P=function(){function IdentityProvider(){}return IdentityProvider.prototype.getId=function(e){return e instanceof u.b?e.id:e.uri},IdentityProvider}(),x=function(e){function FileReferencesTemplate(t,n,o){var i=e.call(this)||this;i._uriLabel=n;var r=document.createElement("div");return h.f(r,"reference-file"),i.file=i._register(new C.a(r,{supportHighlights:!0})),i.badge=new w.a(h.q(r,h.a(".count"))),i._register(Object(O.a)(i.badge,o)),t.appendChild(r),i}return A(FileReferencesTemplate,e),FileReferencesTemplate.prototype.set=function(e,t){var n=Object(m.d)(e.uri);this.file.setLabel(Object(R.a)(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var i=e.children.length;this.badge.setCount(i),e.failure?this.badge.setTitleFormat(Object(o.a)("referencesFailre","Failed to resolve file.")):i>1?this.badge.setTitleFormat(Object(o.a)("referencesCount","{0} references",i)):this.badge.setTitleFormat(Object(o.a)("referenceCount","{0} reference",i))},FileReferencesTemplate=__decorate([__param(1,M.a),__param(2,S.c)],FileReferencesTemplate)}(r.a),E=function(){function FileReferencesRenderer(e){this._instantiationService=e,this.templateId=FileReferencesRenderer.id}return FileReferencesRenderer.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(x,e)},FileReferencesRenderer.prototype.renderElement=function(e,t,n){n.set(e.element,Object(k.c)(e.filterData))},FileReferencesRenderer.prototype.disposeTemplate=function(e){e.dispose()},FileReferencesRenderer.id="FileReferencesRenderer",FileReferencesRenderer=__decorate([__param(0,a.a)],FileReferencesRenderer)}(),T=function(){function OneReferenceTemplate(e){this.label=new L.a(e,!1)}return OneReferenceTemplate.prototype.set=function(e,t){var n=e.parent.preview,o=n&&n.preview(e.range);if(o){var i=o.value,r=o.highlight;t&&!k.a.isDefault(t)?(h.Y(this.label.element,"referenceMatch",!1),this.label.set(i,Object(k.c)(t))):(h.Y(this.label.element,"referenceMatch",!0),this.label.set(i,[r]))}else this.label.set(Object(m.b)(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1))},OneReferenceTemplate}(),j=function(){function OneReferenceRenderer(){this.templateId=OneReferenceRenderer.id}return OneReferenceRenderer.prototype.renderTemplate=function(e){return new T(e)},OneReferenceRenderer.prototype.renderElement=function(e,t,n){n.set(e.element,e.filterData)},OneReferenceRenderer.prototype.disposeTemplate=function(){},OneReferenceRenderer.id="OneReferenceRenderer",OneReferenceRenderer}(),W=function(){function AriaProvider(){}return AriaProvider.prototype.getAriaLabel=function(e){return e.ariaMessage},AriaProvider}(),H=n("k9mg"),B=n("MD5Z"),U=n("iNS8"),V=n("44XX"),G=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),referencesWidget_decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},referencesWidget_param=function(e,t){return function(n,o){t(n,o,e)}},__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},K=function(){function DecorationsManager(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new r.b,this._callOnModelChange=new r.b,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return n._onModelChanged()}))),this._onModelChanged()}return DecorationsManager.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},DecorationsManager.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var o=n[t];if(Object(m.e)(o.uri,e.uri))return void this._addDecorations(o)}},DecorationsManager.prototype._addDecorations=function(e){var t=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(e){return t._onDecorationChanged()})));for(var n=[],o=[],i=0,r=e.children.length;i<r;i++){var s=e.children[i];this._decorationIgnoreSet.has(s.id)||(n.push({range:s.range,options:DecorationsManager.DecorationOptions}),o.push(i))}var a=this._editor.deltaDecorations([],n);for(i=0;i<a.length;i++)this._decorations.set(a[i],e.children[o[i]])}},DecorationsManager.prototype._onDecorationChanged=function(){var e=this,t=[],n=this._editor.getModel();if(n){this._decorations.forEach((function(o,i){var r=n.getDecorationRange(i);if(r){var s=!1;if(!v.a.equalsRange(r,o.range))(v.a.spansMultipleLines(r)||o.range.endColumn-o.range.startColumn!==r.endColumn-r.startColumn)&&(s=!0),s?(e._decorationIgnoreSet.add(o.id),t.push(i)):o.range=r}}));for(var o=0,i=t.length;o<i;o++)this._decorations.delete(t[o]);this._editor.deltaDecorations(t,[])}},DecorationsManager.prototype.removeDecorations=function(){var e=[];this._decorations.forEach((function(t,n){e.push(n)})),this._editor.deltaDecorations(e,[]),this._decorations.clear()},DecorationsManager.DecorationOptions=b.a.register({stickiness:1,className:"reference-decoration"}),DecorationsManager}(),q=function(){function LayoutData(){this.ratio=.7,this.heightInLines=18}return LayoutData.fromJSON=function(e){var t,n;try{var o=JSON.parse(e);t=o.ratio,n=o.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:n||18}},LayoutData}(),Z=function(e){function ReferenceWidget(t,n,o,i,s,a,c,l){var d=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return d._defaultTreeKeyboardSupport=n,d.layoutData=o,d._textModelResolverService=s,d._instantiationService=a,d._peekViewService=c,d._uriLabel=l,d._disposeOnNewModel=new r.b,d._callOnDispose=new r.b,d._onDidSelectReference=new g.a,d.onDidSelectReference=d._onDidSelectReference.event,d._dim={height:0,width:0},d._applyTheme(i.getTheme()),d._callOnDispose.add(i.onThemeChange(d._applyTheme.bind(d))),d._peekViewService.addExclusiveWidget(t,d),d.create(),d}return G(ReferenceWidget,e),ReferenceWidget.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(r.f)(this._preview),Object(r.f)(this._previewNotAvailableMessage),Object(r.f)(this._tree),Object(r.f)(this._previewModelReference),this._splitView.dispose(),e.prototype.dispose.call(this)},ReferenceWidget.prototype._applyTheme=function(e){var t=e.getColor(U.e)||p.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(U.p)||p.a.transparent,primaryHeadingColor:e.getColor(U.q),secondaryHeadingColor:e.getColor(U.r)})},ReferenceWidget.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},ReferenceWidget.prototype.focusOnReferenceTree=function(){this._tree.domFocus()},ReferenceWidget.prototype.focusOnPreviewEditor=function(){this._preview.focus()},ReferenceWidget.prototype.isPreviewEditorFocused=function(){return this._preview.hasTextFocus()},ReferenceWidget.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},ReferenceWidget.prototype._fillBody=function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=h.q(e,h.a("div.messages")),h.J(this._messageContainer),this._splitView=new V.b(e,{orientation:1}),this._previewContainer=h.q(e,h.a("div.preview.inline"));this._preview=this._instantiationService.createInstance(_.a,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),h.J(this._previewContainer),this._previewNotAvailableMessage=b.b.createFromString(o.a("missingPreviewMessage","no preview available")),this._treeContainer=h.q(e,h.a("div.ref-tree.inline"));var n={ariaLabel:o.a("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new W,keyboardNavigationLabelProvider:this._instantiationService.createInstance(N),identityProvider:new P,overrideStyles:{listBackground:U.j}};this._tree=this._instantiationService.createInstance(H.c,"ReferencesWidget",this._treeContainer,new I,[this._instantiationService.createInstance(E),this._instantiationService.createInstance(j)],this._instantiationService.createInstance(F),n),this._splitView.addView({onDidChange:g.b.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},V.a.Distribute),this._splitView.addView({onDidChange:g.b.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height=t._dim.height+"px",t._treeContainer.style.width=e+"px",t._tree.layout(t._dim.height,e)}},V.a.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var onEvent=function(e,n){e instanceof u.b&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidChangeFocus((function(e){onEvent(e.elements[0],"show")})),this._tree.onDidOpen((function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?onEvent(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&2===e.browserEvent.detail||2===e.browserEvent.tapCount?onEvent(e.elements[0],"goto"):onEvent(e.elements[0],"show")})),h.J(this._treeContainer)},ReferenceWidget.prototype._onWidth=function(e){this._dim&&this._doLayoutBody(this._dim.height,e)},ReferenceWidget.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._dim={height:t,width:n},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)},ReferenceWidget.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))},ReferenceWidget.prototype.setModel=function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()},ReferenceWidget.prototype._onNewModel=function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=o.a("noResults","No results"),h.X(this._messageContainer),Promise.resolve(void 0)):(h.J(this._messageContainer),this._decorationsManager=new K(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,o=t.target;if(2===n.detail){var i=e._getFocusedReference();i&&e._onDidSelectReference.fire({element:{uri:i.uri,range:o.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),h.f(this.container,"results-loaded"),h.X(this._treeContainer),h.X(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)},ReferenceWidget.prototype._getFocusedReference=function(){var e=this._tree.getFocus()[0];return e instanceof u.b?e:e instanceof u.a&&e.children.length>0?e.children[0]:void 0},ReferenceWidget.prototype._revealReference=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,s,a,c;return __generator(this,(function(l){switch(l.label){case 0:return this._revealedReference===e?[2]:(this._revealedReference=e,e.uri.scheme!==f.b.inMemory?this.setTitle(Object(m.c)(e.uri),this._uriLabel.getUriLabel(Object(m.d)(e.uri))):this.setTitle(o.a("peekView.alternateTitle","References")),n=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent?[3,1]:(this._tree.reveal(e),[3,3]));case 1:return t&&this._tree.reveal(e.parent),[4,this._tree.expand(e.parent)];case 2:l.sent(),this._tree.reveal(e),l.label=3;case 3:return[4,n];case 4:return i=l.sent(),this._model?(Object(r.f)(this._previewModelReference),(s=i.object)?(a=this._preview.getModel()===s.textEditorModel?0:1,c=v.a.lift(e.range).collapseToStart(),this._previewModelReference=i,this._preview.setModel(s.textEditorModel),this._preview.setSelection(c),this._preview.revealRangeInCenter(c,a)):(this._preview.setModel(this._previewNotAvailableMessage),i.dispose()),[2]):(i.dispose(),[2])}}))}))},ReferenceWidget=referencesWidget_decorate([referencesWidget_param(3,S.c),referencesWidget_param(4,y.a),referencesWidget_param(5,a.a),referencesWidget_param(6,U.a),referencesWidget_param(7,M.a)],ReferenceWidget)}(U.c);Object(S.e)((function(e,t){var n=e.getColor(U.m);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+n+"; }");var o=e.getColor(U.h);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+o+"; }");var i=e.getColor(U.i);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+i+"; box-sizing: border-box; }");var r=e.getColor(B.b);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+r+"; box-sizing: border-box; }");var s=e.getColor(U.j);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=e.getColor(U.l);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var c=e.getColor(U.k);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+c+"; }");var l=e.getColor(U.n);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+l+"; }");var d=e.getColor(U.o);d&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+d+" !important; }");var u=e.getColor(U.f);u&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+u+";}");var h=e.getColor(U.g);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")}));var z=n("cGHE"),Y=n("sM1p"),X=n("X+cX"),Q=n("nrhi"),J=n("/kV6"),$=n("nnTU"),referencesController_decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},referencesController_param=function(e,t){return function(n,o){t(n,o,e)}},referencesController_awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},referencesController_generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},ee=new c.d("referenceSearchVisible",!1),te=function(){function ReferencesController(e,t,n,o,i,s,a,c){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=o,this._notificationService=i,this._instantiationService=s,this._storageService=a,this._configurationService=c,this._disposables=new r.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ee.bindTo(n)}return ReferencesController.get=function(e){return e.getContribution(ReferencesController.ID)},ReferencesController.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(r.f)(this._widget),Object(r.f)(this._model),this._widget=void 0,this._model=void 0},ReferencesController.prototype.toggleWidget=function(e,t,n){var i,r=this;if(this._widget&&(i=this._widget.position),this.closeWidget(),!i||!e.containsPosition(i)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){r.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){r._ignoreModelChangeEvent||r.closeWidget()})));var s="peekViewLayout",a=q.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(Z,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(o.a("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),r._widget&&(r._storageService.store(s,JSON.stringify(r._widget.layoutData),0),r._widget=void 0),r.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,o=e.kind;if(t)switch(o){case"open":"editor"===e.source&&r._configurationService.getValue("editor.stablePeek")||r.openReference(t,!1);break;case"side":r.openReference(t,!0);break;case"goto":n?r._gotoReference(t):r.openReference(t,!1)}})));var c=++this._requestIdPool;t.then((function(t){if(c===r._requestIdPool&&r._widget)return r._model&&r._model.dispose(),r._model=t,r._widget.setModel(r._model).then((function(){if(r._widget&&r._model&&r._editor.hasModel()){r._model.isEmpty?r._widget.setMetaTitle(""):r._widget.setMetaTitle(o.a("metaTitle.N","{0} ({1})",r._model.title,r._model.references.length));var t=r._editor.getModel().uri,n=new z.a(e.startLineNumber,e.startColumn),i=r._model.nearestReference(t,n);if(i)return r._widget.setSelection(i).then((function(){r._widget&&"editor"===r._editor.getOption(65)&&r._widget.focusOnPreviewEditor()}))}}))}),(function(e){r._notificationService.error(e)}))}},ReferencesController.prototype.changeFocusBetweenPreviewAndReferences=function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())},ReferencesController.prototype.goToNextOrPreviousReference=function(e){return referencesController_awaiter(this,void 0,void 0,(function(){var t,n,o,i,r;return referencesController_generator(this,(function(s){switch(s.label){case 0:return this._editor.hasModel()&&this._model&&this._widget&&((t=this._widget.position)&&(n=this._model.nearestReference(this._editor.getModel().uri,t)))?(o=this._model.nextOrPreviousReference(n,e),i=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused(),[4,this._widget.setSelection(o)]):[2];case 1:return s.sent(),[4,this._gotoReference(o)];case 2:return s.sent(),i?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor(),[2]}}))}))},ReferencesController.prototype.closeWidget=function(e){void 0===e&&(e=!0),this._referenceSearchVisible.reset(),this._disposables.clear(),Object(r.f)(this._widget),Object(r.f)(this._model),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1},ReferencesController.prototype._gotoReference=function(e){var t=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var n=v.a.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:n}},this._editor).then((function(e){var o;if(t._ignoreModelChangeEvent=!1,e&&t._widget)if(t._editor===e)t._widget.show(n),t._widget.focusOnReferenceTree();else{var i=ReferencesController.get(e),r=t._model.clone();t.closeWidget(),e.focus(),i.toggleWidget(n,Object(X.f)((function(e){return Promise.resolve(r)})),null!==(o=t._peekMode)&&void 0!==o&&o)}else t.closeWidget()}),(function(e){t._ignoreModelChangeEvent=!1,Object(i.e)(e)}))},ReferencesController.prototype.openReference=function(e,t){t||this.closeWidget();var n=e.uri,o=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:o}},this._editor,t)},ReferencesController.ID="editor.contrib.referencesController",ReferencesController=referencesController_decorate([referencesController_param(2,c.c),referencesController_param(3,s.a),referencesController_param(4,Y.a),referencesController_param(5,a.a),referencesController_param(6,d.a),referencesController_param(7,l.a)],ReferencesController)}();function withController(e,t){var n=Object(U.d)(e);if(n){var o=te.get(n);o&&t(o)}}Q.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(J.a)(2089,60),when:c.a.or(ee,U.b.inPeekEditor),handler:function(e){withController(e,(function(e){e.changeFocusBetweenPreviewAndReferences()}))}}),Q.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:c.a.or(ee,U.b.inPeekEditor),handler:function(e){withController(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),Q.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:c.a.or(ee,U.b.inPeekEditor),handler:function(e){withController(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),$.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),$.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),$.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),$.a.registerCommand("closeReferenceSearch",(function(e){return withController(e,(function(e){return e.closeWidget()}))})),Q.a.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:c.a.and(U.b.inPeekEditor,c.a.not("config.editor.stablePeek"))}),Q.a.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:c.a.and(ee,c.a.not("config.editor.stablePeek"))}),Q.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:c.a.and(ee,H.d),handler:function(e){var t,n=null===(t=e.get(H.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof u.b&&withController(e,(function(e){return e.openReference(n[0],!0)}))}}),$.a.registerCommand("openReference",(function(e){var t,n=null===(t=e.get(H.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof u.b&&withController(e,(function(e){return e.openReference(n[0],!1)}))}))},aBYw:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("D3Dy"),i=n("pmY6"),r=n("MI8n"),s=n("MNsG"),a=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function hasModifier(e,t){return!!e[t]}var c=function c(e,t){this.target=e.target,this.hasTriggerModifier=hasModifier(e.event,t.triggerModifier),this.hasSideBySideModifier=hasModifier(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.i||e.event.detail<=1},l=function l(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=hasModifier(e,t.triggerModifier)},d=function(){function ClickLinkOptions(e,t,n,o){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=o}return ClickLinkOptions.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},ClickLinkOptions}();function createOptions(e){return"altKey"===e?s.e?new d(57,"metaKey",6,"altKey"):new d(5,"ctrlKey",6,"altKey"):s.e?new d(6,"altKey",57,"metaKey"):new d(6,"altKey",5,"ctrlKey")}var u=function(e){function ClickLinkGesture(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new r.a),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new r.a),n.onExecute=n._onExecute.event,n._onCancel=n._register(new r.a),n.onCancel=n._onCancel.event,n._editor=t,n._opts=createOptions(n._editor.getOption(59)),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(59)){var t=createOptions(n._editor.getOption(59));if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}}))),n._register(n._editor.onMouseMove((function(e){return n.onEditorMouseMove(new c(e,n._opts))}))),n._register(n._editor.onMouseDown((function(e){return n.onEditorMouseDown(new c(e,n._opts))}))),n._register(n._editor.onMouseUp((function(e){return n.onEditorMouseUp(new c(e,n._opts))}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(new l(e,n._opts))}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(new l(e,n._opts))}))),n._register(n._editor.onMouseDrag((function(){return n.resetHandler()}))),n._register(n._editor.onDidChangeCursorSelection((function(e){return n.onDidChangeCursorSelection(e)}))),n._register(n._editor.onDidChangeModel((function(e){return n.resetHandler()}))),n._register(n._editor.onDidChangeModelContent((function(){return n.resetHandler()}))),n._register(n._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()}))),n}return a(ClickLinkGesture,e),ClickLinkGesture.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},ClickLinkGesture.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},ClickLinkGesture.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},ClickLinkGesture.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},ClickLinkGesture.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},ClickLinkGesture.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},ClickLinkGesture.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},ClickLinkGesture}(i.a)},bfR1:function(e,t,n){"use strict";n.r(t);var o=n("3/fG"),i=n("sswD"),r=n("Yr1X"),s=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),a=function(e){function EditorFontZoomIn(){return e.call(this,{id:"editor.action.fontZoomIn",label:o.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return s(EditorFontZoomIn,e),EditorFontZoomIn.prototype.run=function(e,t){r.a.setZoomLevel(r.a.getZoomLevel()+1)},EditorFontZoomIn}(i.b),c=function(e){function EditorFontZoomOut(){return e.call(this,{id:"editor.action.fontZoomOut",label:o.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return s(EditorFontZoomOut,e),EditorFontZoomOut.prototype.run=function(e,t){r.a.setZoomLevel(r.a.getZoomLevel()-1)},EditorFontZoomOut}(i.b),l=function(e){function EditorFontZoomReset(){return e.call(this,{id:"editor.action.fontZoomReset",label:o.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return s(EditorFontZoomReset,e),EditorFontZoomReset.prototype.run=function(e,t){r.a.setZoomLevel(0)},EditorFontZoomReset}(i.b);Object(i.f)(a),Object(i.f)(c),Object(i.f)(l)},cIJc:function(e,t,n){"use strict";n.r(t);var o=n("6OMU"),i=n("JQT/"),r=n("/kV6"),s=n("pmY6"),a=n("sswD"),c=n("Vxe3"),l=n("MXAL"),d=n("aokT"),u=n("wQH0"),h=n("twdY"),p=n("pAvP"),g=n("OBOq"),f=n("/cxE"),m=n("bY76"),_=n("vATl"),v=n("sFUC"),b=n("cGHE"),y=n("gCVg"),C=n("G2kB"),w=n("0/Sa"),M=function(){function FormattingEdit(){}return FormattingEdit._handleEolEdits=function(e,t){for(var n=void 0,o=[],i=0,r=t;i<r.length;i++){var s=r[i];"number"==typeof s.eol&&(n=s.eol),s.range&&"string"==typeof s.text&&o.push(s)}return"number"==typeof n&&e.hasModel()&&e.getModel().pushEOL(n),o},FormattingEdit._isFullModelReplaceEdit=function(e,t){if(!e.hasModel())return!1;var n=e.getModel(),o=n.validateRange(t.range);return n.getFullModelRange().equalsRange(o)},FormattingEdit.execute=function(e,t){e.pushUndoStop();var n=FormattingEdit._handleEolEdits(e,t);1===n.length&&FormattingEdit._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map((function(e){return w.a.replace(d.a.lift(e.range),e.text)}))):e.executeEdits("formatEditsCommand",n.map((function(e){return w.a.replaceMove(d.a.lift(e.range),e.text)}))),e.pushUndoStop()},FormattingEdit}(),S=n("3/fG"),O=n("YNd2"),R=n("Cg/j"),D=n("24hK"),k=n("nnTU"),L=n("746U"),__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function alertFormattingEdits(e){if((e=e.filter((function(e){return e.range}))).length){for(var t=e[0].range,n=1;n<e.length;n++)t=d.a.plusRange(t,e[n].range);var o=t.startLineNumber,i=t.endLineNumber;o===i?1===e.length?Object(g.a)(S.a("hint11","Made 1 formatting edit on line {0}",o)):Object(g.a)(S.a("hintn1","Made {0} formatting edits on line {1}",e.length,o)):1===e.length?Object(g.a)(S.a("hint1n","Made 1 formatting edit between lines {0} and {1}",o,i)):Object(g.a)(S.a("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,o,i))}}function getRealAndSyntheticDocumentFormattersOrdered(e){for(var t=[],n=new Set,o=0,i=h.g.ordered(e);o<i.length;o++){var r=i[o];t.push(r),r.extensionId&&n.add(O.a.toKey(r.extensionId))}for(var _loop_1=function(e){if(e.extensionId){if(n.has(O.a.toKey(e.extensionId)))return"continue";n.add(O.a.toKey(e.extensionId))}t.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:function(t,n,o){return e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),n,o)}})},s=0,a=h.j.ordered(e);s<a.length;s++){_loop_1(r=a[s])}return t}var A=function(){function FormattingConflicts(){}return FormattingConflicts.select=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(i){switch(i.label){case 0:return 0===e.length?[2,void 0]:(o=FormattingConflicts._selectors.iterator().next().value)?[4,o(e,t,n)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,e[0]]}}))}))},FormattingConflicts._selectors=new D.a,FormattingConflicts}();function formatDocumentRangeWithSelectedProvider(e,t,n,o,i){return __awaiter(this,void 0,void 0,(function(){var r,s,a,c;return __generator(this,(function(l){switch(l.label){case 0:return r=e.get(R.a),s=Object(v.a)(t)?t.getModel():t,a=h.j.ordered(s),[4,A.select(a,s,o)];case 1:return(c=l.sent())?[4,r.invokeFunction(formatDocumentRangeWithProvider,c,t,n,i)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function formatDocumentRangeWithProvider(e,t,n,o,i){return __awaiter(this,void 0,void 0,(function(){var r,s,a,c,l,u,h;return __generator(this,(function(g){switch(g.label){case 0:r=e.get(p.a),Object(v.a)(n)?(s=n.getModel(),a=new _.b(n,5,i)):(s=n,a=new _.d(n,i)),g.label=1;case 1:return g.trys.push([1,,4,5]),[4,t.provideDocumentRangeFormattingEdits(s,o,s.getFormattingOptions(),a.token)];case 2:return l=g.sent(),[4,r.computeMoreMinimalEdits(s.uri,l)];case 3:return c=g.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return c&&0!==c.length?(Object(v.a)(n)?(M.execute(n,c),alertFormattingEdits(c),n.pushUndoStop(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1)):(u=c[0].range,h=new y.a(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn),s.pushEditOperations([h],c.map((function(e){return{text:e.text,range:d.a.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t].range;if(d.a.areIntersectingOrTouching(o,h))return[new y.a(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function formatDocumentWithSelectedProvider(e,t,n,o){return __awaiter(this,void 0,void 0,(function(){var i,r,s,a;return __generator(this,(function(c){switch(c.label){case 0:return i=e.get(R.a),r=Object(v.a)(t)?t.getModel():t,s=getRealAndSyntheticDocumentFormattersOrdered(r),[4,A.select(s,r,n)];case 1:return(a=c.sent())?[4,i.invokeFunction(formatDocumentWithProvider,a,t,n,o)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function formatDocumentWithProvider(e,t,n,o,i){return __awaiter(this,void 0,void 0,(function(){var r,s,a,c,l,u,h;return __generator(this,(function(g){switch(g.label){case 0:r=e.get(p.a),Object(v.a)(n)?(s=n.getModel(),a=new _.b(n,5,i)):(s=n,a=new _.d(n,i)),g.label=1;case 1:return g.trys.push([1,,4,5]),[4,t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token)];case 2:return l=g.sent(),[4,r.computeMoreMinimalEdits(s.uri,l)];case 3:return c=g.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return c&&0!==c.length?(Object(v.a)(n)?(M.execute(n,c),2!==o&&(alertFormattingEdits(c),n.pushUndoStop(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1))):(u=c[0].range,h=new y.a(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn),s.pushEditOperations([h],c.map((function(e){return{text:e.text,range:d.a.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t].range;if(d.a.areIntersectingOrTouching(o,h))return[new y.a(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function getDocumentRangeFormattingEditsUntilResult(e,t,n,i,r){return __awaiter(this,void 0,void 0,(function(){var s,a,c,l,d;return __generator(this,(function(u){switch(u.label){case 0:s=h.j.ordered(t),a=0,c=s,u.label=1;case 1:return a<c.length?(l=c[a],[4,Promise.resolve(l.provideDocumentRangeFormattingEdits(t,n,i,r)).catch(f.f)]):[3,5];case 2:return d=u.sent(),Object(o.q)(d)?[4,e.computeMoreMinimalEdits(t.uri,d)]:[3,4];case 3:return[2,u.sent()];case 4:return a++,[3,1];case 5:return[2,void 0]}}))}))}function getDocumentFormattingEditsUntilResult(e,t,n,i){return __awaiter(this,void 0,void 0,(function(){var r,s,a,c,l;return __generator(this,(function(d){switch(d.label){case 0:r=getRealAndSyntheticDocumentFormattersOrdered(t),s=0,a=r,d.label=1;case 1:return s<a.length?(c=a[s],[4,Promise.resolve(c.provideDocumentFormattingEdits(t,n,i)).catch(f.f)]):[3,5];case 2:return l=d.sent(),Object(o.q)(l)?[4,e.computeMoreMinimalEdits(t.uri,l)]:[3,4];case 3:return[2,d.sent()];case 4:return s++,[3,1];case 5:return[2,void 0]}}))}))}function getOnTypeFormattingEdits(e,t,n,o,r){var s=h.t.ordered(t);return 0===s.length||s[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(s[0].provideOnTypeFormattingEdits(t,n,o,r,i.a.None)).catch(f.f).then((function(n){return e.computeMoreMinimalEdits(t.uri,n)}))}k.a.registerCommand("_executeFormatRangeProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t[0],r=t[1],s=t[2];Object(L.a)(m.a.isUri(o)),Object(L.a)(d.a.isIRange(r));var a=e.get(C.a).getModel(o);if(!a)throw Object(f.b)("resource");return getDocumentRangeFormattingEditsUntilResult(e.get(p.a),a,d.a.lift(r),s,i.a.None)})),k.a.registerCommand("_executeFormatDocumentProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t[0],r=t[1];Object(L.a)(m.a.isUri(o));var s=e.get(C.a).getModel(o);if(!s)throw Object(f.b)("resource");return getDocumentFormattingEditsUntilResult(e.get(p.a),s,r,i.a.None)})),k.a.registerCommand("_executeFormatOnTypeProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t[0],i=t[1],r=t[2],s=t[3];Object(L.a)(m.a.isUri(o)),Object(L.a)(b.a.isIPosition(i)),Object(L.a)("string"==typeof r);var a=e.get(C.a).getModel(o);if(!a)throw Object(f.b)("resource");return getOnTypeFormattingEdits(e.get(p.a),a,b.a.lift(i),r,s)}));var F=n("T8No"),I=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},formatActions_awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},formatActions_generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},N=function(){function FormatOnType(e,t){var n=this;this._workerService=t,this._callOnDispose=new s.b,this._callOnModel=new s.b,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(h.t.onDidChange(this._update,this))}return FormatOnType.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},FormatOnType.prototype._update=function(){var e=this;if(this._callOnModel.clear(),this._editor.getOption(39)&&this._editor.hasModel()){var t=this._editor.getModel(),n=h.t.ordered(t)[0];if(n&&n.autoFormatTriggerCharacters){for(var o=new l.b,i=0,r=n.autoFormatTriggerCharacters;i<r.length;i++){var s=r[i];o.add(s.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType((function(t){var n=t.charCodeAt(t.length-1);o.has(n)&&e._trigger(String.fromCharCode(n))})))}}},FormatOnType.prototype._trigger=function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var n=this._editor.getModel(),i=this._editor.getPosition(),r=!1,s=this._editor.onDidChangeModelContent((function(e){if(e.isFlush)return r=!0,void s.dispose();for(var t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return r=!0,void s.dispose()}}));getOnTypeFormattingEdits(this._workerService,n,i,e,n.getFormattingOptions()).then((function(e){s.dispose(),r||Object(o.q)(e)&&(M.execute(t._editor,e),alertFormattingEdits(e))}),(function(e){throw s.dispose(),e}))}},FormatOnType.ID="editor.contrib.autoFormat",FormatOnType=__decorate([__param(1,p.a)],FormatOnType)}(),P=function(){function FormatOnPaste(e,t){var n=this;this.editor=e,this._instantiationService=t,this._callOnDispose=new s.b,this._callOnModel=new s.b,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(h.j.onDidChange(this._update,this))}return FormatOnPaste.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},FormatOnPaste.prototype._update=function(){var e=this;this._callOnModel.clear(),this.editor.getOption(38)&&this.editor.hasModel()&&h.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;return e._trigger(n)})))},FormatOnPaste.prototype._trigger=function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(formatDocumentRangeWithSelectedProvider,this.editor,e,2,i.a.None).catch(f.e))},FormatOnPaste.ID="editor.contrib.formatOnPaste",FormatOnPaste=__decorate([__param(1,R.a)],FormatOnPaste)}(),x=function(e){function FormatDocumentAction(){return e.call(this,{id:"editor.action.formatDocument",label:S.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:F.a.and(u.a.writable,u.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:F.a.and(u.a.editorTextFocus,u.a.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:u.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return I(FormatDocumentAction,e),FormatDocumentAction.prototype.run=function(e,t){return formatActions_awaiter(this,void 0,void 0,(function(){return formatActions_generator(this,(function(n){switch(n.label){case 0:return t.hasModel()?[4,e.get(R.a).invokeFunction(formatDocumentWithSelectedProvider,t,1,i.a.None)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},FormatDocumentAction}(a.b),E=function(e){function FormatSelectionAction(){return e.call(this,{id:"editor.action.formatSelection",label:S.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:F.a.and(u.a.writable,u.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:F.a.and(u.a.editorTextFocus,u.a.hasDocumentSelectionFormattingProvider),primary:Object(r.a)(2089,2084),weight:100},contextMenuOpts:{when:F.a.and(u.a.hasDocumentSelectionFormattingProvider,u.a.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return I(FormatSelectionAction,e),FormatSelectionAction.prototype.run=function(e,t){return formatActions_awaiter(this,void 0,void 0,(function(){var n,o,r;return formatActions_generator(this,(function(s){switch(s.label){case 0:return t.hasModel()?(n=e.get(R.a),o=t.getModel(),(r=t.getSelection()).isEmpty()&&(r=new d.a(r.startLineNumber,1,r.startLineNumber,o.getLineMaxColumn(r.startLineNumber))),[4,n.invokeFunction(formatDocumentRangeWithSelectedProvider,t,r,1,i.a.None)]):[2];case 1:return s.sent(),[2]}}))}))},FormatSelectionAction}(a.b);Object(a.h)(N.ID,N),Object(a.h)(P.ID,P),Object(a.f)(x),Object(a.f)(E),k.a.registerCommand("editor.action.format",(function(e){return formatActions_awaiter(void 0,void 0,void 0,(function(){var t,n;return formatActions_generator(this,(function(o){switch(o.label){case 0:return(t=e.get(c.a).getFocusedCodeEditor())&&t.hasModel()?(n=e.get(k.b),t.getSelection().isEmpty()?[4,n.executeCommand("editor.action.formatDocument")]:[3,2]):[2];case 1:return o.sent(),[3,4];case 2:return[4,n.executeCommand("editor.action.formatSelection")];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}))},cPWS:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return g}));var o=n("6OMU"),i=n("JQT/"),r=n("vl9R"),s=n("/cxE"),a=n("QDVR"),c=n("twdY"),l=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),d=function(){function TreeElement(){}return TreeElement.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},TreeElement.findId=function(e,t){var n;"string"==typeof e?n=t.id+"/"+e:(n=t.id+"/"+e.name,void 0!==t.children[n]&&(n=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var o=n,i=0;void 0!==t.children[o];i++)o=n+"_"+i;return o},TreeElement.empty=function(e){for(var t in e.children)return!1;return!0},TreeElement}(),u=function(e){function OutlineElement(t,n,o){var i=e.call(this)||this;return i.id=t,i.parent=n,i.symbol=o,i.children=Object.create(null),i}return l(OutlineElement,e),OutlineElement}(d),h=function(e){function OutlineGroup(t,n,o,i){var r=e.call(this)||this;return r.id=t,r.parent=n,r.provider=o,r.providerIndex=i,r.children=Object.create(null),r}return l(OutlineGroup,e),OutlineGroup}(d),p=function(){function MovingAverage(){this._n=1,this._val=0}return MovingAverage.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},MovingAverage}(),g=function(e){function OutlineModel(t){var n=e.call(this)||this;return n.textModel=t,n.id="root",n.parent=void 0,n._groups=Object.create(null),n.children=Object.create(null),n.id="root",n.parent=void 0,n}return l(OutlineModel,e),OutlineModel.create=function(e,t){var n=this,o=this._keys.for(e,!0),r=OutlineModel._requests.get(o);if(!r){var s=new i.b;r={promiseCnt:0,source:s,promise:OutlineModel._create(e,s.token),model:void 0},OutlineModel._requests.set(o,r);var a=Date.now();r.promise.then((function(){var t=n._keys.for(e,!1),o=n._requestDurations.get(t);o||(o=new p,n._requestDurations.set(t,o)),o.update(Date.now()-a)}))}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,t.onCancellationRequested((function(){0==--r.promiseCnt&&(r.source.cancel(),OutlineModel._requests.delete(o))})),new Promise((function(e,t){r.promise.then((function(t){r.model=t,e(t)}),(function(e){OutlineModel._requests.delete(o),t(e)}))})))},OutlineModel._create=function(e,t){var n=new i.b(t),r=new OutlineModel(e),a=c.m.ordered(e),l=a.map((function(e,t){var o=d.findId("provider_"+t,r),i=new h(o,r,e,t);return Promise.resolve(e.provideDocumentSymbols(r.textModel,n.token)).then((function(e){for(var t=0,n=e||[];t<n.length;t++){var o=n[t];OutlineModel._makeOutlineElement(o,i)}return i}),(function(e){return Object(s.f)(e),i})).then((function(e){d.empty(e)?e.remove():r._groups[o]=e}))})),u=c.m.onDidChange((function(){var t=c.m.ordered(e);Object(o.g)(t,a)||n.cancel()}));return Promise.all(l).then((function(){return n.token.isCancellationRequested&&!t.isCancellationRequested?OutlineModel._create(e,t):r._compact()})).finally((function(){u.dispose()}))},OutlineModel._makeOutlineElement=function(e,t){var n=d.findId(e,t),o=new u(n,t,e);if(e.children)for(var i=0,r=e.children;i<r.length;i++){var s=r[i];OutlineModel._makeOutlineElement(s,o)}t.children[o.id]=o},OutlineModel.prototype._compact=function(){var e=0;for(var t in this._groups){var n=this._groups[t];void 0===Object(r.b)(n.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{n=Object(r.b)(this._groups);for(var t in n.children){var o=n.children[t];o.parent=this,this.children[o.id]=o}}return this},OutlineModel._requestDurations=new a.a(50,.7),OutlineModel._requests=new a.a(9,.75),OutlineModel._keys=new(function(){function class_1(){this._counter=1,this._data=new WeakMap}return class_1.prototype.for=function(e,t){return e.id+"/"+(t?e.getVersionId():"")+"/"+this._hash(c.m.all(e))},class_1.prototype._hash=function(e){for(var t="",n=0,o=e;n<o.length;n++){var i=o[n],r=this._data.get(i);void 0===r&&(r=this._counter++,this._data.set(i,r)),t+=r}return t},class_1}()),OutlineModel}(d)},"dH+W":function(e,t,n){"use strict";n.r(t),n.d(t,"DuplicateSelectionAction",(function(){return R})),n.d(t,"AbstractSortLinesAction",(function(){return A})),n.d(t,"SortLinesAscendingAction",(function(){return F})),n.d(t,"SortLinesDescendingAction",(function(){return I})),n.d(t,"TrimTrailingWhitespaceAction",(function(){return N})),n.d(t,"DeleteLinesAction",(function(){return P})),n.d(t,"IndentLinesAction",(function(){return x})),n.d(t,"InsertLineBeforeAction",(function(){return T})),n.d(t,"InsertLineAfterAction",(function(){return j})),n.d(t,"AbstractDeleteAllToBoundaryAction",(function(){return W})),n.d(t,"DeleteAllLeftAction",(function(){return H})),n.d(t,"DeleteAllRightAction",(function(){return B})),n.d(t,"JoinLinesAction",(function(){return U})),n.d(t,"TransposeAction",(function(){return V})),n.d(t,"AbstractCaseAction",(function(){return G})),n.d(t,"UpperCaseAction",(function(){return K})),n.d(t,"LowerCaseAction",(function(){return q})),n.d(t,"TitleCaseAction",(function(){return Z}));var o=n("3/fG"),i=n("/kV6"),r=n("1YUG"),s=n("sswD"),a=n("LCkn"),c=n("f6os"),l=n("GR/f"),d=n("0/Sa"),u=n("cGHE"),h=n("aokT"),p=n("gCVg"),g=n("wQH0"),f=function(){function CopyLinesCommand(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return CopyLinesCommand.prototype.getEditOperations=function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var o=[],i=n.startLineNumber;i<=n.endLineNumber;i++)o.push(e.getLineContent(i));var r=o.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new h.a(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new h.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()},CopyLinesCommand.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var o=n.startLineNumber,i=n.startColumn,r=n.endLineNumber,s=n.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,i=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,s=1),n=p.a.createWithDirection(o,i,r,s,this._selectionDirection)}return n},CopyLinesCommand}(),m=n("N0LK"),_=n("zN7H"),v=n("KDc4"),b=n("cMvZ");function getSpaceCnt(e,t){for(var n=0,o=0;o<e.length;o++)"\t"===e.charAt(o)?n+=t:n++;return n}function generateIndent(e,t,n){e=e<0?0:e;var o="";if(!n){var i=Math.floor(e/t);e%=t;for(var r=0;r<i;r++)o+="\t"}for(r=0;r<e;r++)o+=" ";return o}var y=function(){function MoveLinesCommand(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return MoveLinesCommand.prototype.getEditOperations=function(e,t){var n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;var o=this._selection;o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));var i=e.getOptions(),r=i.tabSize,s=i.indentSize,a=i.insertSpaces,c=this.buildIndentConverter(r,s,a),l={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(o.startLineNumber===o.endLineNumber&&1===e.getLineMaxColumn(o.startLineNumber)){var d=o.startLineNumber,u=this._isMovingDown?d+1:d-1;1===e.getLineMaxColumn(u)?t.addEditOperation(new h.a(1,1,1,1),null):(t.addEditOperation(new h.a(d,1,d,1),e.getLineContent(u)),t.addEditOperation(new h.a(u,1,u,e.getLineMaxColumn(u)),null)),o=new p.a(u,1,u,1)}else{var g,f=void 0;if(this._isMovingDown){g=o.endLineNumber+1,f=e.getLineContent(g),t.addEditOperation(new h.a(g-1,e.getLineMaxColumn(g-1),g,e.getLineMaxColumn(g)),null);var _=f;if(this.shouldAutoIndent(e,o)){var v=this.matchEnterRule(e,c,r,g,o.startLineNumber-1);if(null!==v){var y=generateIndent(D=v+getSpaceCnt(w=m.t(e.getLineContent(g)),r),r,a);_=y+this.trimLeft(f)}else{l.getLineContent=function(t){return t===o.startLineNumber?e.getLineContent(g):e.getLineContent(t)};var C=b.a.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(g,1),o.startLineNumber,c);if(null!==C){var w=m.t(e.getLineContent(g));if((D=getSpaceCnt(C,r))!==(k=getSpaceCnt(w,r))){y=generateIndent(D,r,a);_=y+this.trimLeft(f)}}}if(t.addEditOperation(new h.a(o.startLineNumber,1,o.startLineNumber,1),_+"\n"),null!==(O=this.matchEnterRule(e,c,r,o.startLineNumber,o.startLineNumber,_)))0!==O&&this.getIndentEditsOfMovingBlock(e,t,o,r,a,O);else{l.getLineContent=function(t){return t===o.startLineNumber?_:t>=o.startLineNumber+1&&t<=o.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var M=b.a.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(g,1),o.startLineNumber+1,c);if(null!==M){w=m.t(e.getLineContent(o.startLineNumber));if((D=getSpaceCnt(M,r))!==(k=getSpaceCnt(w,r))){var S=D-k;this.getIndentEditsOfMovingBlock(e,t,o,r,a,S)}}}}else t.addEditOperation(new h.a(o.startLineNumber,1,o.startLineNumber,1),_+"\n")}else{var O;if(g=o.startLineNumber-1,f=e.getLineContent(g),t.addEditOperation(new h.a(g,1,g+1,1),null),t.addEditOperation(new h.a(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+f),this.shouldAutoIndent(e,o))if(l.getLineContent=function(t){return t===g?e.getLineContent(o.startLineNumber):e.getLineContent(t)},null!==(O=this.matchEnterRule(e,c,r,o.startLineNumber,o.startLineNumber-2)))0!==O&&this.getIndentEditsOfMovingBlock(e,t,o,r,a,O);else{var R=b.a.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(o.startLineNumber,1),g,c);if(null!==R){var D,k,L=m.t(e.getLineContent(o.startLineNumber));if((D=getSpaceCnt(R,r))!==(k=getSpaceCnt(L,r))){S=D-k;this.getIndentEditsOfMovingBlock(e,t,o,r,a,S)}}}}}this._selectionId=t.trackSelection(o)}else this._selectionId=t.trackSelection(this._selection)},MoveLinesCommand.prototype.buildIndentConverter=function(e,t,n){return{shiftIndent:function(o){return _.a.shiftIndent(o,o.length+1,e,t,n)},unshiftIndent:function(o){return _.a.unshiftIndent(o,o.length+1,e,t,n)}}},MoveLinesCommand.prototype.matchEnterRule=function(e,t,n,o,i,r){for(var s=i;s>=1;){var a=void 0;if(a=s===i&&void 0!==r?r:e.getLineContent(s),m.D(a)>=0)break;s--}if(s<1||o>e.getLineCount())return null;var c=e.getLineMaxColumn(s),l=b.a.getEnterAction(this._autoIndent,e,new h.a(s,c,s,c));if(l){var d=l.indentation;l.indentAction===v.a.None||l.indentAction===v.a.Indent?d=l.indentation+l.appendText:l.indentAction===v.a.IndentOutdent?d=l.indentation:l.indentAction===v.a.Outdent&&(d=t.unshiftIndent(l.indentation)+l.appendText);var u=e.getLineContent(o);if(this.trimLeft(u).indexOf(this.trimLeft(d))>=0){var p=m.t(e.getLineContent(o)),g=m.t(d),f=b.a.getIndentMetadata(e,o);return null!==f&&2&f&&(g=t.unshiftIndent(g)),getSpaceCnt(g,n)-getSpaceCnt(p,n)}}return null},MoveLinesCommand.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},MoveLinesCommand.prototype.shouldAutoIndent=function(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==b.a.getIndentRulesSupport(n)},MoveLinesCommand.prototype.getIndentEditsOfMovingBlock=function(e,t,n,o,i,r){for(var s=n.startLineNumber;s<=n.endLineNumber;s++){var a=e.getLineContent(s),c=m.t(a),l=generateIndent(getSpaceCnt(c,o)+r,o,i);l!==c&&(t.addEditOperation(new h.a(s,1,s,c.length+1),l),s===n.endLineNumber&&n.endColumn<=c.length+1&&""===l&&(this._moveEndLineSelectionShrink=!0))}},MoveLinesCommand.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n},MoveLinesCommand}(),C=function(){function SortLinesCommand(e,t){this.selection=e,this.descending=t,this.selectionId=null}return SortLinesCommand.getCollator=function(){return SortLinesCommand._COLLATOR||(SortLinesCommand._COLLATOR=new Intl.Collator),SortLinesCommand._COLLATOR},SortLinesCommand.prototype.getEditOperations=function(e,t){var n=function sortLines(e,t,n){var o=getSortData(e,t,n);if(!o)return null;return d.a.replace(new h.a(o.startLineNumber,1,o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),o.after.join("\n"))}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},SortLinesCommand.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},SortLinesCommand.canRun=function(e,t,n){if(null===e)return!1;var o=getSortData(e,t,n);if(!o)return!1;for(var i=0,r=o.before.length;i<r;i++)if(o.before[i]!==o.after[i])return!0;return!1},SortLinesCommand._COLLATOR=null,SortLinesCommand}();function getSortData(e,t,n){var o=t.startLineNumber,i=t.endLineNumber;if(1===t.endColumn&&i--,o>=i)return null;for(var r=[],s=o;s<=i;s++)r.push(e.getLineContent(s));var a=r.slice(0);return a.sort(C.getCollator().compare),!0===n&&(a=a.reverse()),{startLineNumber:o,endLineNumber:i,before:r,after:a}}var w=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),M=function(e){function AbstractCopyLinesAction(t,n){var o=e.call(this,n)||this;return o.down=t,o}return w(AbstractCopyLinesAction,e),AbstractCopyLinesAction.prototype.run=function(e,t){for(var n=[],o=0,i=t.getSelections()||[];o<i.length;o++){var r=i[o];n.push(new f(r,this.down))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},AbstractCopyLinesAction}(s.b),S=function(e){function CopyLinesUpAction(){return e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:o.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:25,group:"2_line",title:o.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return w(CopyLinesUpAction,e),CopyLinesUpAction}(M),O=function(e){function CopyLinesDownAction(){return e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:o.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:25,group:"2_line",title:o.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return w(CopyLinesDownAction,e),CopyLinesDownAction}(M),R=function(e){function DuplicateSelectionAction(){return e.call(this,{id:"editor.action.duplicateSelection",label:o.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g.a.writable,menuOpts:{menuId:25,group:"2_line",title:o.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})||this}return w(DuplicateSelectionAction,e),DuplicateSelectionAction.prototype.run=function(e,t,n){if(t.hasModel()){for(var o=[],i=t.getSelections(),r=t.getModel(),s=0,c=i;s<c.length;s++){var l=c[s];if(l.isEmpty())o.push(new f(l,!0));else{var d=new p.a(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn);o.push(new a.c(d,r.getValueInRange(l)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},DuplicateSelectionAction}(s.b),D=function(e){function AbstractMoveLinesAction(t,n){var o=e.call(this,n)||this;return o.down=t,o}return w(AbstractMoveLinesAction,e),AbstractMoveLinesAction.prototype.run=function(e,t){for(var n=[],o=t.getSelections()||[],i=t.getOption(8),r=0,s=o;r<s.length;r++){var a=s[r];n.push(new y(a,this.down,i))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},AbstractMoveLinesAction}(s.b),k=function(e){function MoveLinesUpAction(){return e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:o.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:25,group:"2_line",title:o.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return w(MoveLinesUpAction,e),MoveLinesUpAction}(D),L=function(e){function MoveLinesDownAction(){return e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:o.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:25,group:"2_line",title:o.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return w(MoveLinesDownAction,e),MoveLinesDownAction}(D),A=function(e){function AbstractSortLinesAction(t,n){var o=e.call(this,n)||this;return o.descending=t,o}return w(AbstractSortLinesAction,e),AbstractSortLinesAction.prototype.run=function(e,t){for(var n=t.getSelections()||[],o=0,i=n;o<i.length;o++){var r=i[o];if(!C.canRun(t.getModel(),r,this.descending))return}for(var s=[],a=0,c=n.length;a<c;a++)s[a]=new C(n[a],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()},AbstractSortLinesAction}(s.b),F=function(e){function SortLinesAscendingAction(){return e.call(this,!1,{id:"editor.action.sortLinesAscending",label:o.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g.a.writable})||this}return w(SortLinesAscendingAction,e),SortLinesAscendingAction}(A),I=function(e){function SortLinesDescendingAction(){return e.call(this,!0,{id:"editor.action.sortLinesDescending",label:o.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g.a.writable})||this}return w(SortLinesDescendingAction,e),SortLinesDescendingAction}(A),N=function(e){function TrimTrailingWhitespaceAction(){return e.call(this,{id:TrimTrailingWhitespaceAction.ID,label:o.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:Object(i.a)(2089,2102),weight:100}})||this}return w(TrimTrailingWhitespaceAction,e),TrimTrailingWhitespaceAction.prototype.run=function(e,t,n){var o=[];"auto-save"===n.reason&&(o=(t.getSelections()||[]).map((function(e){return new u.a(e.positionLineNumber,e.positionColumn)})));var i=t.getSelection();if(null!==i){var r=new c.a(i,o);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}},TrimTrailingWhitespaceAction.ID="editor.action.trimTrailingWhitespace",TrimTrailingWhitespaceAction}(s.b),P=function(e){function DeleteLinesAction(){return e.call(this,{id:"editor.action.deleteLines",label:o.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:3113,weight:100}})||this}return w(DeleteLinesAction,e),DeleteLinesAction.prototype.run=function(e,t){if(t.hasModel()){var n=this._getLinesToRemove(t),o=t.getModel();if(1!==o.getLineCount()||1!==o.getLineMaxColumn(1)){for(var i=0,r=[],s=[],a=0,c=n.length;a<c;a++){var l=n[a],u=l.startLineNumber,h=l.endLineNumber,g=1,f=o.getLineMaxColumn(h);h<o.getLineCount()?(h+=1,f=1):u>1&&(u-=1,g=o.getLineMaxColumn(u)),r.push(d.a.replace(new p.a(u,g,h,f),"")),s.push(new p.a(u-i,l.positionColumn,u-i,l.positionColumn)),i+=l.endLineNumber-l.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}},DeleteLinesAction.prototype._getLinesToRemove=function(e){var t=e.getSelections().map((function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort((function(e,t){return e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber}));for(var n=[],o=t[0],i=1;i<t.length;i++)o.endLineNumber+1>=t[i].startLineNumber?o.endLineNumber=t[i].endLineNumber:(n.push(o),o=t[i]);return n.push(o),n},DeleteLinesAction}(s.b),x=function(e){function IndentLinesAction(){return e.call(this,{id:"editor.action.indentLines",label:o.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2137,weight:100}})||this}return w(IndentLinesAction,e),IndentLinesAction.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,l.a.indent(n.context.config,t.getModel(),t.getSelections())),t.pushUndoStop())},IndentLinesAction}(s.b),E=function(e){function OutdentLinesAction(){return e.call(this,{id:"editor.action.outdentLines",label:o.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2135,weight:100}})||this}return w(OutdentLinesAction,e),OutdentLinesAction.prototype.run=function(e,t){r.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)},OutdentLinesAction}(s.b),T=function(e){function InsertLineBeforeAction(){return e.call(this,{id:"editor.action.insertLineBefore",label:o.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:3075,weight:100}})||this}return w(InsertLineBeforeAction,e),InsertLineBeforeAction.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,l.a.lineInsertBefore(n.context.config,t.getModel(),t.getSelections())))},InsertLineBeforeAction}(s.b),j=function(e){function InsertLineAfterAction(){return e.call(this,{id:"editor.action.insertLineAfter",label:o.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2051,weight:100}})||this}return w(InsertLineAfterAction,e),InsertLineAfterAction.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,l.a.lineInsertAfter(n.context.config,t.getModel(),t.getSelections())))},InsertLineAfterAction}(s.b),W=function(e){function AbstractDeleteAllToBoundaryAction(){return null!==e&&e.apply(this,arguments)||this}return w(AbstractDeleteAllToBoundaryAction,e),AbstractDeleteAllToBoundaryAction.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getSelection(),o=this._getRangesToDelete(t),i=[],r=0,s=o.length-1;r<s;r++){var a=o[r],c=o[r+1];null===h.a.intersectRanges(a,c)?i.push(a):o[r+1]=h.a.plusRange(a,c)}i.push(o[o.length-1]);var l=this._getEndCursorState(n,i),u=i.map((function(e){return d.a.replace(e,"")}));t.pushUndoStop(),t.executeEdits(this.id,u,l),t.pushUndoStop()}},AbstractDeleteAllToBoundaryAction}(s.b),H=function(e){function DeleteAllLeftAction(){return e.call(this,{id:"deleteAllLeft",label:o.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return w(DeleteAllLeftAction,e),DeleteAllLeftAction.prototype._getEndCursorState=function(e,t){var n=null,o=[],i=0;return t.forEach((function(t){var r;if(1===t.endColumn&&i>0){var s=t.startLineNumber-i;r=new p.a(s,t.startColumn,s,t.startColumn)}else r=new p.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);i+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:o.push(r)})),n&&o.unshift(n),o},DeleteAllLeftAction.prototype._getRangesToDelete=function(e){var t=e.getSelections();if(null===t)return[];var n=t,o=e.getModel();return null===o?[]:(n.sort(h.a.compareRangesUsingStarts),n=n.map((function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:o.getLineContent(t).length+1;return new h.a(t,n,e.startLineNumber,1)}return new h.a(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new h.a(e.startLineNumber,1,e.endLineNumber,e.endColumn)})))},DeleteAllLeftAction}(W),B=function(e){function DeleteAllRightAction(){return e.call(this,{id:"deleteAllRight",label:o.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return w(DeleteAllRightAction,e),DeleteAllRightAction.prototype._getEndCursorState=function(e,t){for(var n=null,o=[],i=0,r=t.length;i<r;i++){var s=t[i],a=new p.a(s.startLineNumber-0,s.startColumn,s.startLineNumber-0,s.startColumn);s.intersectRanges(e)?n=a:o.push(a)}return n&&o.unshift(n),o},DeleteAllRightAction.prototype._getRangesToDelete=function(e){var t=e.getModel();if(null===t)return[];var n=e.getSelections();if(null===n)return[];var o=n.map((function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new h.a(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new h.a(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return o.sort(h.a.compareRangesUsingStarts),o},DeleteAllRightAction}(W),U=function(e){function JoinLinesAction(){return e.call(this,{id:"editor.action.joinLines",label:o.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return w(JoinLinesAction,e),JoinLinesAction.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var o=t.getSelection();if(null!==o){n.sort(h.a.compareRangesUsingStarts);var i=[],r=n.reduce((function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(o.equalsSelection(e)&&(o=t),t):t.startLineNumber>e.endLineNumber+1?(i.push(e),t):new p.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(i.push(e),t):new p.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}));i.push(r);var s=t.getModel();if(null!==s){for(var a=[],c=[],l=o,u=0,g=0,f=i.length;g<f;g++){var m=i[g],_=m.startLineNumber,v=0,b=void 0,y=void 0,C=s.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){var w=m.getStartPosition();w.lineNumber<s.getLineCount()?(b=_+1,y=s.getLineMaxColumn(b)):(b=w.lineNumber,y=s.getLineMaxColumn(w.lineNumber))}else b=m.endLineNumber,y=s.getLineMaxColumn(b);for(var M=s.getLineContent(_),S=_+1;S<=b;S++){var O=s.getLineContent(S),R=s.getLineFirstNonWhitespaceColumn(S);if(R>=1){var D=!0;""===M&&(D=!1),!D||" "!==M.charAt(M.length-1)&&"\t"!==M.charAt(M.length-1)||(D=!1,M=M.replace(/[\s\uFEFF\xA0]+$/g," "));var k=O.substr(R-1);M+=(D?" ":"")+k,v=D?k.length+1:k.length}else v=0}var L=new h.a(_,1,b,y);if(!L.isEmpty()){var A=void 0;m.isEmpty()?(a.push(d.a.replace(L,M)),A=new p.a(L.startLineNumber-u,M.length-v+1,_-u,M.length-v+1)):m.startLineNumber===m.endLineNumber?(a.push(d.a.replace(L,M)),A=new p.a(m.startLineNumber-u,m.startColumn,m.endLineNumber-u,m.endColumn)):(a.push(d.a.replace(L,M)),A=new p.a(m.startLineNumber-u,m.startColumn,m.startLineNumber-u,M.length-C)),null!==h.a.intersectRanges(L,o)?l=A:c.push(A)}u+=L.endLineNumber-L.startLineNumber}c.unshift(l),t.pushUndoStop(),t.executeEdits(this.id,a,c),t.pushUndoStop()}}}},JoinLinesAction}(s.b),V=function(e){function TransposeAction(){return e.call(this,{id:"editor.action.transpose",label:o.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g.a.writable})||this}return w(TransposeAction,e),TransposeAction.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var o=t.getModel();if(null!==o){for(var i=[],r=0,s=n.length;r<s;r++){var c=n[r];if(c.isEmpty()){var l=c.getStartPosition(),d=o.getLineMaxColumn(l.lineNumber);if(l.column>=d){if(l.lineNumber===o.getLineCount())continue;var u=new h.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),g=o.getValueInRange(u).split("").reverse().join("");i.push(new a.a(new p.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),g))}else{u=new h.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber,l.column+1),g=o.getValueInRange(u).split("").reverse().join("");i.push(new a.b(u,g,new p.a(l.lineNumber,l.column+1,l.lineNumber,l.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}},TransposeAction}(s.b),G=function(e){function AbstractCaseAction(){return null!==e&&e.apply(this,arguments)||this}return w(AbstractCaseAction,e),AbstractCaseAction.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var o=t.getModel();if(null!==o){for(var i=t.getOption(96),r=[],s=0,c=n.length;s<c;s++){var l=n[s];if(l.isEmpty()){var d=l.getStartPosition(),u=o.getWordAtPosition(d);if(!u)continue;var g=new h.a(d.lineNumber,u.startColumn,d.lineNumber,u.endColumn),f=o.getValueInRange(g);r.push(new a.b(g,this._modifyText(f,i),new p.a(d.lineNumber,d.column,d.lineNumber,d.column)))}else{f=o.getValueInRange(l);r.push(new a.b(l,this._modifyText(f,i),l))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}},AbstractCaseAction}(s.b),K=function(e){function UpperCaseAction(){return e.call(this,{id:"editor.action.transformToUppercase",label:o.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g.a.writable})||this}return w(UpperCaseAction,e),UpperCaseAction.prototype._modifyText=function(e,t){return e.toLocaleUpperCase()},UpperCaseAction}(G),q=function(e){function LowerCaseAction(){return e.call(this,{id:"editor.action.transformToLowercase",label:o.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g.a.writable})||this}return w(LowerCaseAction,e),LowerCaseAction.prototype._modifyText=function(e,t){return e.toLocaleLowerCase()},LowerCaseAction}(G),Z=function(e){function TitleCaseAction(){return e.call(this,{id:"editor.action.transformToTitlecase",label:o.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g.a.writable})||this}return w(TitleCaseAction,e),TitleCaseAction.prototype._modifyText=function(e,t){for(var n=("\r\n\t "+t).split(""),o="",i=!0,r=0;r<e.length;r++){var s=e[r];n.indexOf(s)>=0?(i=!0,o+=s):i?(i=!1,o+=s.toLocaleUpperCase()):o+=s.toLocaleLowerCase()}return o},TitleCaseAction}(G);Object(s.f)(S),Object(s.f)(O),Object(s.f)(R),Object(s.f)(k),Object(s.f)(L),Object(s.f)(F),Object(s.f)(I),Object(s.f)(N),Object(s.f)(P),Object(s.f)(x),Object(s.f)(E),Object(s.f)(T),Object(s.f)(j),Object(s.f)(H),Object(s.f)(B),Object(s.f)(U),Object(s.f)(V),Object(s.f)(K),Object(s.f)(q),Object(s.f)(Z)},dgXF:function(e,t,n){"use strict";n.r(t),n.d(t,"FoldingController",(function(){return j})),n.d(t,"foldBackgroundBackground",(function(){return J}));var o=n("3/fG"),i=n("746U"),r=n("N0LK"),s=n("X+cX"),a=n("/kV6"),c=n("pmY6"),l=n("sswD"),d=n("MI8n"),u=16777215,h=4278190080,p=function(){function FoldingRegions(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}return FoldingRegions.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],isInsideLast=function(n,o){var i=t[t.length-1];return e.getStartLineNumber(i)<=n&&e.getEndLineNumber(i)>=o},n=0,o=this._startIndexes.length;n<o;n++){var i=this._startIndexes[n],r=this._endIndexes[n];if(i>u||r>u)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;t.length>0&&!isInsideLast(i,r);)t.pop();var s=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=i+((255&s)<<24),this._endIndexes[n]=r+((65280&s)<<16)}}},Object.defineProperty(FoldingRegions.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),FoldingRegions.prototype.getStartLineNumber=function(e){return this._startIndexes[e]&u},FoldingRegions.prototype.getEndLineNumber=function(e){return this._endIndexes[e]&u},FoldingRegions.prototype.getType=function(e){return this._types?this._types[e]:void 0},FoldingRegions.prototype.hasTypes=function(){return!!this._types},FoldingRegions.prototype.isCollapsed=function(e){var t=e/32|0,n=e%32;return 0!=(this._collapseStates[t]&1<<n)},FoldingRegions.prototype.setCollapsed=function(e,t){var n=e/32|0,o=e%32,i=this._collapseStates[n];this._collapseStates[n]=t?i|1<<o:i&~(1<<o)},FoldingRegions.prototype.toRegion=function(e){return new g(this,e)},FoldingRegions.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&h)>>>24)+((this._endIndexes[e]&h)>>>16);return 65535===t?-1:t},FoldingRegions.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},FoldingRegions.prototype.findIndex=function(e){var t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){var o=Math.floor((t+n)/2);e<this.getStartLineNumber(o)?n=o:t=o+1}return t-1},FoldingRegions.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},FoldingRegions.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},FoldingRegions}(),g=function(){function FoldingRegion(e,t){this.ranges=e,this.index=t}return Object.defineProperty(FoldingRegion.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingRegion.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),FoldingRegion.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},FoldingRegion.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},FoldingRegion}(),f=function(){function FoldingModel(e,t){this._updateEventEmitter=new d.a,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new p(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(FoldingModel.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingModel.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(FoldingModel.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),FoldingModel.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var n={};this._decorationProvider.changeDecorations((function(o){for(var i=0,r=e;i<r.length;i++){var s=r[i].regionIndex,a=t._editorDecorationIds[s];if(a&&!n[a]){n[a]=!0;var c=!t._regions.isCollapsed(s);t._regions.setCollapsed(s,c),o.changeDecorationOptions(a,t._decorationProvider.getDecorationOption(c))}}})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},FoldingModel.prototype.update=function(e,t){var n=this;void 0===t&&(t=[]);for(var o=[],initRange=function(i,r){var s=e.getStartLineNumber(i);r&&function(e,n){for(var o=0,i=t;o<i.length;o++){var r=i[o];if(e<r&&r<=n)return!0}return!1}(s,e.getEndLineNumber(i))&&(r=!1),e.setCollapsed(i,r);var a=n._textModel.getLineMaxColumn(s),c={startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:a};o.push({range:c,options:n._decorationProvider.getDecorationOption(r)})},i=0,nextCollapsed=function(){for(;i<n._regions.length;){var e=n._regions.isCollapsed(i);if(i++,e)return i-1}return-1},r=0,s=nextCollapsed();-1!==s&&r<e.length;){var a=this._textModel.getDecorationRange(this._editorDecorationIds[s]);if(a){var c=a.startLineNumber;if(this._textModel.getLineMaxColumn(c)===a.startColumn)for(;r<e.length;){var l=e.getStartLineNumber(r);if(!(c>=l))break;initRange(r,c===l),r++}}s=nextCollapsed()}for(;r<e.length;)initRange(r,!1),r++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,o),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},FoldingModel.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){var o=n.startLineNumber,i=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:o,endLineNumber:i})}}if(e.length>0)return e},FoldingModel.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],n=0,o=e;n<o.length;n++){var i=o[n],r=this.getRegionAtLine(i.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}},FoldingModel.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},FoldingModel.prototype.getAllRegionsAtLine=function(e,t){var n=[];if(this._regions)for(var o=this._regions.findRange(e),i=1;o>=0;){var r=this._regions.toRegion(o);t&&!t(r,i)||n.push(r),i++,o=r.parentIndex}return n},FoldingModel.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},FoldingModel.prototype.getRegionsInside=function(e,t){var n=[],o=e?e.regionIndex+1:0,i=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var r=[],s=o,a=this._regions.length;s<a;s++){var c=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<i))break;for(;r.length>0&&!c.containedBy(r[r.length-1]);)r.pop();r.push(c),t(c,r.length)&&n.push(c)}else for(s=o,a=this._regions.length;s<a;s++){c=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<i))break;t&&!t(c)||n.push(c)}return n},FoldingModel}();function setCollapseStateLevelsDown(e,t,n,o){void 0===n&&(n=Number.MAX_VALUE);var i=[];if(o&&o.length>0)for(var r=0,s=o;r<s.length;r++){var a=s[r],c=e.getRegionAtLine(a);if(c&&(c.isCollapsed!==t&&i.push(c),n>1)){var l=e.getRegionsInside(c,(function(e,o){return e.isCollapsed!==t&&o<n}));i.push.apply(i,l)}}else{l=e.getRegionsInside(null,(function(e,o){return e.isCollapsed!==t&&o<n}));i.push.apply(i,l)}e.toggleCollapseState(i)}function setCollapseStateLevelsUp(e,t,n,o){for(var i=[],r=0,s=o;r<s.length;r++){var a=s[r],c=e.getAllRegionsAtLine(a,(function(e,o){return e.isCollapsed!==t&&o<=n}));i.push.apply(i,c)}e.toggleCollapseState(i)}function setCollapseStateForMatchingLines(e,t,n){for(var o=e.textModel,i=e.regions,r=[],s=i.length-1;s>=0;s--)if(n!==i.isCollapsed(s)){var a=i.getStartLineNumber(s);t.test(o.getLineContent(a))&&r.push(i.toRegion(s))}e.toggleCollapseState(r)}function setCollapseStateForType(e,t,n){for(var o=e.regions,i=[],r=o.length-1;r>=0;r--)n!==o.isCollapsed(r)&&t===o.getType(r)&&i.push(o.toRegion(r));e.toggleCollapseState(i)}var m=n("tX9W"),_=function(){function FoldingDecorationProvider(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}return FoldingDecorationProvider.prototype.getDecorationOption=function(e){return e?this.showFoldingHighlights?FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION},FoldingDecorationProvider.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},FoldingDecorationProvider.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION=m.a.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"codicon codicon-chevron-right"}),FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=m.a.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,linesDecorationsClassName:"codicon codicon-chevron-right"}),FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=m.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down"}),FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION=m.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down alwaysShowFoldIcons"}),FoldingDecorationProvider}(),v=n("wQH0"),b=n("aokT"),y=n("6OMU"),C=function(){function HiddenRangeModel(e){var t=this;this._updateEventEmitter=new d.a,this._foldingModel=e,this._foldingModelListener=e.onDidChange((function(e){return t.updateHiddenRanges()})),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(HiddenRangeModel.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(HiddenRangeModel.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),HiddenRangeModel.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],n=0,o=0,i=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;n<s.length;n++)if(s.isCollapsed(n)){var a=s.getStartLineNumber(n)+1,c=s.getEndLineNumber(n);i<=a&&c<=r||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===a&&this._hiddenRanges[o].endLineNumber===c?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new b.a(a,1,c,1))),i=a,r=c)}(e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},HiddenRangeModel.prototype.applyMemento=function(e){if(!Array.isArray(e)||0===e.length)return!1;for(var t=[],n=0,o=e;n<o.length;n++){var i=o[n];if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new b.a(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0},HiddenRangeModel.prototype.getMemento=function(){return this._hiddenRanges.map((function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}}))},HiddenRangeModel.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},HiddenRangeModel.prototype.hasRanges=function(){return this._hiddenRanges.length>0},HiddenRangeModel.prototype.isHidden=function(e){return null!==findRange(this._hiddenRanges,e)},HiddenRangeModel.prototype.adjustSelections=function(e){for(var t=this,n=!1,o=this._foldingModel.textModel,i=null,adjustLine=function(e){return i&&function isInside(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,i)||(i=findRange(t._hiddenRanges,e)),i?i.startLineNumber-1:null},r=0,s=e.length;r<s;r++){var a=e[r],c=adjustLine(a.startLineNumber);c&&(a=a.setStartPosition(c,o.getLineMaxColumn(c)),n=!0);var l=adjustLine(a.endLineNumber);l&&(a=a.setEndPosition(l,o.getLineMaxColumn(l)),n=!0),e[r]=a}return n},HiddenRangeModel.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},HiddenRangeModel}();function findRange(e,t){var n=Object(y.i)(e,(function(e){return t<e.startLineNumber}))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}var w=n("cMvZ"),M=function(){function IndentRangeProvider(e){this.editorModel=e,this.id="indent"}return IndentRangeProvider.prototype.dispose=function(){},IndentRangeProvider.prototype.compute=function(e){var t=w.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(function computeRanges(e,t,n,o){void 0===o&&(o=5e3);var i=e.getOptions().tabSize,r=new S(o),s=void 0;n&&(s=new RegExp("("+n.start.source+")|(?:"+n.end.source+")"));var a=[],c=e.getLineCount()+1;a.push({indent:-1,endAbove:c,line:c});for(var l=e.getLineCount();l>0;l--){var d=e.getLineContent(l),u=m.b.computeIndentLevel(d,i),h=a[a.length-1];if(-1!==u){var p=void 0;if(s&&(p=d.match(s))){if(!p[1]){a.push({indent:-2,endAbove:l,line:l});continue}for(var g=a.length-1;g>0&&-2!==a[g].indent;)g--;if(g>0){a.length=g+1,h=a[g],r.insertFirst(l,h.line,u),h.line=l,h.indent=u,h.endAbove=l;continue}}if(h.indent>u){do{a.pop(),h=a[a.length-1]}while(h.indent>u);var f=h.endAbove-1;f-l>=1&&r.insertFirst(l,f,u)}h.indent===u?h.endAbove=l:a.push({indent:u,endAbove:l,line:l})}else t&&(h.endAbove=l)}return r.toIndentRanges(e)}(this.editorModel,n,o))},IndentRangeProvider}(),S=function(){function RangesCollector(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return RangesCollector.prototype.insertFirst=function(e,t,n){if(!(e>u||t>u)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}},RangesCollector.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),o=this._length-1,i=0;o>=0;o--,i++)t[i]=this._startIndexes[o],n[i]=this._endIndexes[o];return new p(t,n)}var r=0,s=this._indentOccurrences.length;for(o=0;o<this._indentOccurrences.length;o++){var a=this._indentOccurrences[o];if(a){if(a+r>this._foldingRangesLimit){s=o;break}r+=a}}var c=e.getOptions().tabSize;for(t=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),o=this._length-1,i=0;o>=0;o--){var l=this._startIndexes[o],d=e.getLineContent(l),u=m.b.computeIndentLevel(d,c);(u<s||u===s&&r++<this._foldingRangesLimit)&&(t[i]=l,n[i]=this._endIndexes[o],i++)}return new p(t,n)},RangesCollector}();var O=n("twdY"),R=n("/cxE"),D={},k="syntax",L=function(){function SyntaxRangeProvider(e,t,n){void 0===n&&(n=5e3),this.editorModel=e,this.providers=t,this.limit=n,this.id=k}return SyntaxRangeProvider.prototype.compute=function(e){var t=this;return function collectSyntaxRanges(e,t,n){var o=null,i=e.map((function(e,i){return Promise.resolve(e.provideFoldingRanges(t,D,n)).then((function(e){if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(o)||(o=[]);for(var r=t.getLineCount(),s=0,a=e;s<a.length;s++){var c=a[s];c.start>0&&c.end>c.start&&c.end<=r&&o.push({start:c.start,end:c.end,rank:i,kind:c.kind})}}}),R.f)}));return Promise.all(i).then((function(e){return o}))}(this.providers,this.editorModel,e).then((function(e){return e?sanitizeRanges(e,t.limit):null}))},SyntaxRangeProvider.prototype.dispose=function(){},SyntaxRangeProvider}();var A=function(){function RangesCollector(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return RangesCollector.prototype.add=function(e,t,n,o){if(!(e>u||t>u)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._nestingLevels[i]=o,this._types[i]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}},RangesCollector.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new p(e,t,this._types)}var o=0,i=this._nestingLevelCounts.length;for(n=0;n<this._nestingLevelCounts.length;n++){var r=this._nestingLevelCounts[n];if(r){if(r+o>this._foldingRangesLimit){i=n;break}o+=r}}e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit);for(var s=[],a=(n=0,0);n<this._length;n++){var c=this._nestingLevels[n];(c<i||c===i&&o++<this._foldingRangesLimit)&&(e[a]=this._startIndexes[n],t[a]=this._endIndexes[n],s[a]=this._types[n],a++)}return new p(e,t,s)},RangesCollector}();function sanitizeRanges(e,t){for(var n=e.sort((function(e,t){var n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),o=new A(t),i=void 0,r=[],s=0,a=n;s<a.length;s++){var c=a[s];if(i){if(c.start>i.start)if(c.end<=i.end)r.push(i),i=c,o.add(c.start,c.end,c.kind&&c.kind.value,r.length);else{if(c.start>i.end){do{i=r.pop()}while(i&&c.start>i.end);i&&r.push(i),i=c}o.add(c.start,c.end,c.kind&&c.kind.value,r.length)}}else i=c,o.add(c.start,c.end,c.kind&&c.kind.value,r.length)}return o.toIndentRanges()}var F="init",I=function(){function InitializingRangeProvider(e,t,n,o){if(this.editorModel=e,this.id=F,t.length){this.decorationIds=e.deltaDecorations([],t.map((function(t){return{range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}}}))),this.timeout=setTimeout(n,o)}}return InitializingRangeProvider.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)},InitializingRangeProvider.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var n=0,o=this.decorationIds;n<o.length;n++){var i=o[n],r=this.editorModel.getDecorationRange(i);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(sanitizeRanges(t,Number.MAX_VALUE))},InitializingRangeProvider}(),N=n("T8No"),P=n("t9D7"),x=n("MD5Z"),E=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},T=new N.d("foldingEnabled",!1),j=function(e){function FoldingController(t,n){var o=e.call(this)||this;o.contextKeyService=n,o.localToDispose=o._register(new c.b),o.editor=t;var i=o.editor.getOptions();return o._isEnabled=i.get(30),o._useFoldingProviders="indentation"!==i.get(31),o.foldingModel=null,o.hiddenRangeModel=null,o.rangeProvider=null,o.foldingRegionPromise=null,o.foldingStateMemento=null,o.foldingModelPromise=null,o.updateScheduler=null,o.cursorChangedScheduler=null,o.mouseDownInfo=null,o.foldingDecorationProvider=new _(t),o.foldingDecorationProvider.autoHideFoldingControls="mouseover"===i.get(84),o.foldingDecorationProvider.showFoldingHighlights=i.get(32),o.foldingEnabled=T.bindTo(o.contextKeyService),o.foldingEnabled.set(o._isEnabled),o._register(o.editor.onDidChangeModel((function(){return o.onModelChanged()}))),o._register(o.editor.onDidChangeConfiguration((function(e){if(e.hasChanged(30)){var t=o.editor.getOptions();o._isEnabled=t.get(30),o.foldingEnabled.set(o._isEnabled),o.onModelChanged()}if(e.hasChanged(84)||e.hasChanged(32)){var n=o.editor.getOptions();o.foldingDecorationProvider.autoHideFoldingControls="mouseover"===n.get(84),o.foldingDecorationProvider.showFoldingHighlights=n.get(32),o.onModelContentChanged()}if(e.hasChanged(31)){var i=o.editor.getOptions();o._useFoldingProviders="indentation"!==i.get(31),o.onFoldingStrategyChanged()}}))),o.onModelChanged(),o}return E(FoldingController,e),FoldingController.get=function(e){return e.getContribution(FoldingController.ID)},FoldingController.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n}}},FoldingController.prototype.restoreViewState=function(e){var t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.collapsedRegions&&e.lineCount===t.getLineCount()){e.provider!==k&&e.provider!==F||(this.foldingStateMemento=e);var n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){var o=this.getFoldingModel();o&&o.then((function(e){e&&e.applyMemento(n)})).then(void 0,R.e)}}},FoldingController.prototype.onModelChanged=function(){var e=this;this.localToDispose.clear();var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this.foldingModel=new f(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new C(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(t){return e.onHiddenRangesChanges(t)}))),this.updateScheduler=new s.a(200),this.cursorChangedScheduler=new s.d((function(){return e.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(O.o.onDidChange((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(){return e.onModelContentChanged()}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return e.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(t){return e.onEditorMouseDown(t)}))),this.localToDispose.add(this.editor.onMouseUp((function(t){return e.onEditorMouseUp(t)}))),this.localToDispose.add({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())},FoldingController.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},FoldingController.prototype.getRangeProvider=function(e){var t=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new M(e),this._useFoldingProviders&&this.foldingModel){var n=O.o.ordered(this.foldingModel.textModel);if(0===n.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new I(e,this.foldingStateMemento.collapsedRegions,(function(){t.foldingStateMemento=null,t.onFoldingStrategyChanged()}),3e4);n.length>0&&(this.rangeProvider=new L(e,n))}return this.foldingStateMemento=null,this.rangeProvider},FoldingController.prototype.getFoldingModel=function(){return this.foldingModelPromise},FoldingController.prototype.onModelContentChanged=function(){var e=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var t=e.foldingModel;if(!t)return null;var n=e.foldingRegionPromise=Object(s.f)((function(n){return e.getRangeProvider(t.textModel).compute(n)}));return n.then((function(o){if(o&&n===e.foldingRegionPromise){var i=e.editor.getSelections(),r=i?i.map((function(e){return e.startLineNumber})):[];t.update(o,r)}return t}))})).then(void 0,(function(e){return Object(R.e)(e),null})))},FoldingController.prototype.onHiddenRangesChanges=function(e){if(this.hiddenRangeModel&&e.length){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)},FoldingController.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},FoldingController.prototype.revealCursor=function(){var e=this,t=this.getFoldingModel();t&&t.then((function(t){if(t){var n=e.editor.getSelections();if(n&&n.length>0){for(var o=[],_loop_1=function(n){var i=n.selectionStartLineNumber;e.hiddenRangeModel&&e.hiddenRangeModel.isHidden(i)&&o.push.apply(o,t.getAllRegionsAtLine(i,(function(e){return e.isCollapsed&&i>e.startLineNumber})))},i=0,r=n;i<r.length;i++){_loop_1(r[i])}o.length&&(t.toggleCollapseState(o),e.reveal(n[0].getPosition()))}}})).then(void 0,R.e)},FoldingController.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range,n=!1;switch(e.target.type){case 4:var o=e.target.detail,i=e.target.element.offsetLeft;if(o.offsetX-i<5)return;n=!0;break;case 6:if(this.hiddenRangeModel.hasRanges()){var r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}},FoldingController.prototype.onEditorMouseUp=function(e){var t=this,n=this.getFoldingModel();if(n&&this.mouseDownInfo&&e.target){var o=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,r=e.target.range;if(r&&r.startLineNumber===o){if(i){if(4!==e.target.type)return}else{var s=this.editor.getModel();if(!s||r.startColumn!==s.getLineMaxColumn(o))return}n.then((function(n){if(n){var r=n.getRegionAtLine(o);if(r&&r.startLineNumber===o){var s=r.isCollapsed;if(i||s){var a=[],c=e.event.middleButton||e.event.shiftKey;if(c)for(var l=0,d=n.getRegionsInside(r);l<d.length;l++){var u=d[l];u.isCollapsed===s&&a.push(u)}!s&&c&&0!==a.length||a.push(r),n.toggleCollapseState(a),t.reveal({lineNumber:o,column:1})}}}})).then(void 0,R.e)}}},FoldingController.prototype.reveal=function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)},FoldingController.ID="editor.contrib.folding",FoldingController=__decorate([__param(1,N.c)],FoldingController)}(c.a),W=function(e){function FoldingAction(){return null!==e&&e.apply(this,arguments)||this}return E(FoldingAction,e),FoldingAction.prototype.runEditorCommand=function(e,t,n){var o=this,i=j.get(t);if(i){var r=i.getFoldingModel();return r?(this.reportTelemetry(e,t),r.then((function(e){if(e){o.invoke(i,e,t,n);var r=t.getSelection();r&&i.reveal(r.getStartPosition())}}))):void 0}},FoldingAction.prototype.getSelectedLines=function(e){var t=e.getSelections();return t?t.map((function(e){return e.startLineNumber})):[]},FoldingAction.prototype.getLineNumbers=function(e,t){return e&&e.selectionLines?e.selectionLines.map((function(e){return e+1})):this.getSelectedLines(t)},FoldingAction.prototype.run=function(e,t){},FoldingAction}(l.b);function foldingArgumentsConstraint(e){if(!i.k(e)){if(!i.i(e))return!1;var t=e;if(!i.k(t.levels)&&!i.h(t.levels))return!1;if(!i.k(t.direction)&&!i.j(t.direction))return!1;if(!(i.k(t.selectionLines)||i.d(t.selectionLines)&&t.selectionLines.every(i.h)))return!1}return!0}var H=function(e){function UnfoldAction(){return e.call(this,{id:"editor.unfold",label:o.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return E(UnfoldAction,e),UnfoldAction.prototype.invoke=function(e,t,n,o){var i=o&&o.levels||1,r=this.getLineNumbers(o,n);o&&"up"===o.direction?setCollapseStateLevelsUp(t,!1,i,r):setCollapseStateLevelsDown(t,!1,i,r)},UnfoldAction}(W),B=function(e){function UnFoldRecursivelyAction(){return e.call(this,{id:"editor.unfoldRecursively",label:o.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2137),weight:100}})||this}return E(UnFoldRecursivelyAction,e),UnFoldRecursivelyAction.prototype.invoke=function(e,t,n,o){setCollapseStateLevelsDown(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))},UnFoldRecursivelyAction}(W),U=function(e){function FoldAction(){return e.call(this,{id:"editor.fold",label:o.a("foldAction.label","Fold"),alias:"Fold",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return E(FoldAction,e),FoldAction.prototype.invoke=function(e,t,n,o){var i=this.getLineNumbers(o,n),r=o&&o.levels,s=o&&o.direction;"number"!=typeof r&&"string"!=typeof s?function setCollapseStateUp(e,t,n){for(var o=[],i=0,r=n;i<r.length;i++){var s=r[i],a=e.getAllRegionsAtLine(s,(function(e){return e.isCollapsed!==t}));a.length>0&&o.push(a[0])}e.toggleCollapseState(o)}(t,!0,i):"up"===s?setCollapseStateLevelsUp(t,!0,r||1,i):setCollapseStateLevelsDown(t,!0,r||1,i)},FoldAction}(W),V=function(e){function ToggleFoldAction(){return e.call(this,{id:"editor.toggleFold",label:o.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2090),weight:100}})||this}return E(ToggleFoldAction,e),ToggleFoldAction.prototype.invoke=function(e,t,n){!function toggleCollapseState(e,t,n){for(var o=[],_loop_1=function(n){var i=e.getRegionAtLine(n);if(i){var r=!i.isCollapsed;if(o.push(i),t>1){var s=e.getRegionsInside(i,(function(e,n){return e.isCollapsed!==r&&n<t}));o.push.apply(o,s)}}},i=0,r=n;i<r.length;i++)_loop_1(r[i]);e.toggleCollapseState(o)}(t,1,this.getSelectedLines(n))},ToggleFoldAction}(W),G=function(e){function FoldRecursivelyAction(){return e.call(this,{id:"editor.foldRecursively",label:o.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2135),weight:100}})||this}return E(FoldRecursivelyAction,e),FoldRecursivelyAction.prototype.invoke=function(e,t,n){var o=this.getSelectedLines(n);setCollapseStateLevelsDown(t,!0,Number.MAX_VALUE,o)},FoldRecursivelyAction}(W),K=function(e){function FoldAllBlockCommentsAction(){return e.call(this,{id:"editor.foldAllBlockComments",label:o.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2133),weight:100}})||this}return E(FoldAllBlockCommentsAction,e),FoldAllBlockCommentsAction.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())setCollapseStateForType(t,O.n.Comment.value,!0);else{var o=n.getModel();if(!o)return;var i=w.a.getComments(o.getLanguageIdentifier().id);if(i&&i.blockCommentStartToken)setCollapseStateForMatchingLines(t,new RegExp("^\\s*"+Object(r.p)(i.blockCommentStartToken)),!0)}},FoldAllBlockCommentsAction}(W),q=function(e){function FoldAllRegionsAction(){return e.call(this,{id:"editor.foldAllMarkerRegions",label:o.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2077),weight:100}})||this}return E(FoldAllRegionsAction,e),FoldAllRegionsAction.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())setCollapseStateForType(t,O.n.Region.value,!0);else{var o=n.getModel();if(!o)return;var i=w.a.getFoldingRules(o.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start)setCollapseStateForMatchingLines(t,new RegExp(i.markers.start),!0)}},FoldAllRegionsAction}(W),Z=function(e){function UnfoldAllRegionsAction(){return e.call(this,{id:"editor.unfoldAllMarkerRegions",label:o.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2078),weight:100}})||this}return E(UnfoldAllRegionsAction,e),UnfoldAllRegionsAction.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())setCollapseStateForType(t,O.n.Region.value,!1);else{var o=n.getModel();if(!o)return;var i=w.a.getFoldingRules(o.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start)setCollapseStateForMatchingLines(t,new RegExp(i.markers.start),!1)}},UnfoldAllRegionsAction}(W),z=function(e){function FoldAllAction(){return e.call(this,{id:"editor.foldAll",label:o.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2069),weight:100}})||this}return E(FoldAllAction,e),FoldAllAction.prototype.invoke=function(e,t,n){setCollapseStateLevelsDown(t,!0)},FoldAllAction}(W),Y=function(e){function UnfoldAllAction(){return e.call(this,{id:"editor.unfoldAll",label:o.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2088),weight:100}})||this}return E(UnfoldAllAction,e),UnfoldAllAction.prototype.invoke=function(e,t,n){setCollapseStateLevelsDown(t,!1)},UnfoldAllAction}(W),X=function(e){function FoldLevelAction(){return null!==e&&e.apply(this,arguments)||this}return E(FoldLevelAction,e),FoldLevelAction.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length))},FoldLevelAction.prototype.invoke=function(e,t,n){!function setCollapseStateAtLevel(e,t,n,o){var i=e.getRegionsInside(null,(function(e,i){return i===t&&e.isCollapsed!==n&&!o.some((function(t){return e.containsLine(t)}))}));e.toggleCollapseState(i)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))},FoldLevelAction.ID_PREFIX="editor.foldLevel",FoldLevelAction.ID=function(e){return FoldLevelAction.ID_PREFIX+e},FoldLevelAction}(W);Object(l.h)(j.ID,j),Object(l.f)(H),Object(l.f)(B),Object(l.f)(U),Object(l.f)(G),Object(l.f)(z),Object(l.f)(Y),Object(l.f)(K),Object(l.f)(q),Object(l.f)(Z),Object(l.f)(V);for(var Q=1;Q<=7;Q++)Object(l.i)(new X({id:X.ID(Q),label:o.a("foldLevelAction.label","Fold Level {0}",Q),alias:"Fold Level "+Q,precondition:T,kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(a.a)(2089,2048|21+Q),weight:100}}));var J=Object(x.Tb)("editor.foldBackground",{light:Object(x.fc)(x.K,.3),dark:Object(x.fc)(x.K,.3),hc:null},o.a("editorSelectionBackground","Color of the editor selection."));Object(P.e)((function(e,t){var n=e.getColor(J);n&&t.addRule(".monaco-editor .folded-background { background-color: "+n+"; }")}))},jqj9:function(e,t,n){"use strict";var o=n("3/fG"),i=n("t9D7"),r=n("MD5Z"),s=Object(r.Tb)("symbolIcon.arrayForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=Object(r.Tb)("symbolIcon.booleanForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=Object(r.Tb)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=Object(r.Tb)("symbolIcon.colorForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=Object(r.Tb)("symbolIcon.constantForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=Object(r.Tb)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=Object(r.Tb)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=Object(r.Tb)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=Object(r.Tb)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=Object(r.Tb)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=Object(r.Tb)("symbolIcon.fileForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=Object(r.Tb)("symbolIcon.folderForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=Object(r.Tb)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=Object(r.Tb)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=Object(r.Tb)("symbolIcon.keyForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=Object(r.Tb)("symbolIcon.keywordForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=Object(r.Tb)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=Object(r.Tb)("symbolIcon.moduleForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=Object(r.Tb)("symbolIcon.namespaceForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=Object(r.Tb)("symbolIcon.nullForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=Object(r.Tb)("symbolIcon.numberForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=Object(r.Tb)("symbolIcon.objectForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=Object(r.Tb)("symbolIcon.operatorForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=Object(r.Tb)("symbolIcon.packageForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=Object(r.Tb)("symbolIcon.propertyForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=Object(r.Tb)("symbolIcon.referenceForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=Object(r.Tb)("symbolIcon.snippetForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=Object(r.Tb)("symbolIcon.stringForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=Object(r.Tb)("symbolIcon.structForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=Object(r.Tb)("symbolIcon.textForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=Object(r.Tb)("symbolIcon.typeParameterForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=Object(r.Tb)("symbolIcon.unitForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=Object(r.Tb)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(i.e)((function(e,t){var n=e.getColor(s);n&&t.addRule(".codicon-symbol-array { color: "+n+" !important; }");var o=e.getColor(a);o&&t.addRule(".codicon-symbol-boolean { color: "+o+" !important; }");var i=e.getColor(c);i&&t.addRule(".codicon-symbol-class { color: "+i+" !important; }");var r=e.getColor(w);r&&t.addRule(".codicon-symbol-method { color: "+r+" !important; }");var W=e.getColor(l);W&&t.addRule(".codicon-symbol-color { color: "+W+" !important; }");var H=e.getColor(d);H&&t.addRule(".codicon-symbol-constant { color: "+H+" !important; }");var B=e.getColor(u);B&&t.addRule(".codicon-symbol-constructor { color: "+B+" !important; }");var U=e.getColor(h);U&&t.addRule("\n\t\t\t.codicon-symbol-value,.codicon-symbol-enum { color: "+U+" !important; }");var V=e.getColor(p);V&&t.addRule(".codicon-symbol-enum-member { color: "+V+" !important; }");var G=e.getColor(g);G&&t.addRule(".codicon-symbol-event { color: "+G+" !important; }");var K=e.getColor(f);K&&t.addRule(".codicon-symbol-field { color: "+K+" !important; }");var q=e.getColor(m);q&&t.addRule(".codicon-symbol-file { color: "+q+" !important; }");var Z=e.getColor(_);Z&&t.addRule(".codicon-symbol-folder { color: "+Z+" !important; }");var z=e.getColor(v);z&&t.addRule(".codicon-symbol-function { color: "+z+" !important; }");var Y=e.getColor(b);Y&&t.addRule(".codicon-symbol-interface { color: "+Y+" !important; }");var X=e.getColor(y);X&&t.addRule(".codicon-symbol-key { color: "+X+" !important; }");var Q=e.getColor(C);Q&&t.addRule(".codicon-symbol-keyword { color: "+Q+" !important; }");var J=e.getColor(M);J&&t.addRule(".codicon-symbol-module { color: "+J+" !important; }");var $=e.getColor(S);$&&t.addRule(".codicon-symbol-namespace { color: "+$+" !important; }");var ee=e.getColor(O);ee&&t.addRule(".codicon-symbol-null { color: "+ee+" !important; }");var te=e.getColor(R);te&&t.addRule(".codicon-symbol-number { color: "+te+" !important; }");var ne=e.getColor(D);ne&&t.addRule(".codicon-symbol-object { color: "+ne+" !important; }");var oe=e.getColor(k);oe&&t.addRule(".codicon-symbol-operator { color: "+oe+" !important; }");var ie=e.getColor(L);ie&&t.addRule(".codicon-symbol-package { color: "+ie+" !important; }");var re=e.getColor(A);re&&t.addRule(".codicon-symbol-property { color: "+re+" !important; }");var se=e.getColor(F);se&&t.addRule(".codicon-symbol-reference { color: "+se+" !important; }");var ae=e.getColor(I);ae&&t.addRule(".codicon-symbol-snippet { color: "+ae+" !important; }");var ce=e.getColor(N);ce&&t.addRule(".codicon-symbol-string { color: "+ce+" !important; }");var le=e.getColor(P);le&&t.addRule(".codicon-symbol-struct { color: "+le+" !important; }");var de=e.getColor(x);de&&t.addRule(".codicon-symbol-text { color: "+de+" !important; }");var ue=e.getColor(E);ue&&t.addRule(".codicon-symbol-type-parameter { color: "+ue+" !important; }");var he=e.getColor(T);he&&t.addRule(".codicon-symbol-unit { color: "+he+" !important; }");var pe=e.getColor(j);pe&&t.addRule(".codicon-symbol-variable { color: "+pe+" !important; }")}))},"lY/7":function(e,t,n){"use strict";n.r(t),n.d(t,"MarkerController",(function(){return H})),n.d(t,"NextMarkerAction",(function(){return U}));var o=n("3/fG"),i=n("MI8n"),r=n("pmY6"),s=n("T8No"),a=n("tADe"),c=n("aokT"),l=n("sswD"),d=n("t9D7"),u=n("wQH0"),h=n("EffR"),p=n("MD5Z"),g=n("zrhQ"),f=n("GJhM"),m=n("3rx1"),_=n("6OMU"),v=n("iNS8"),b=n("gslv"),y=n("Tvsk"),C=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),w=function(){function MessageWidget(e,t,n,o){var i=this;this._openerService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new r.b,this._editor=t;var s=document.createElement("div");s.className="descriptioncontainer",s.setAttribute("aria-live","assertive"),s.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),h.f(this._messageBlock,"message"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(h.o(this._relatedBlock,"click",(function(e){e.preventDefault();var t=i._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new f.b(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){s.style.left="-"+e.scrollLeft+"px",s.style.top="-"+e.scrollTop+"px"}))),this._disposables.add(this._scrollable)}return MessageWidget.prototype.dispose=function(){Object(r.f)(this._disposables)},MessageWidget.prototype.update=function(e){var t=this,n=e.source,o=e.message,i=e.relatedInformation,r=e.code,s=((null==n?void 0:n.length)||0)+"()".length;r&&(s+="string"==typeof r?r.length:r.value.length);var a=o.split(/\r\n|\r|\n/g);this._lines=a.length,this._longestLineLength=0;for(var c=0,l=a;c<l.length;c++){var d=l[c];this._longestLineLength=Math.max(d.length+s,this._longestLineLength)}h.t(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var u=this._messageBlock,p=0,g=a;p<g.length;p++){d=g[p];(u=document.createElement("div")).innerText=d,""===d&&(u.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(u)}if(n||r){var f,v=document.createElement("span");if(h.f(v,"details"),u.appendChild(v),n){var b=document.createElement("span");b.innerText=n,h.f(b,"source"),v.appendChild(b)}if(r)if("string"==typeof r)(f=document.createElement("span")).innerText="("+r+")",h.f(f,"code"),v.appendChild(f);else this._codeLink=h.a("a.code-link"),this._codeLink.setAttribute("href",""+r.link.toString()),this._codeLink.onclick=function(e){t._openerService.open(r.link),e.preventDefault(),e.stopPropagation()},(f=h.q(this._codeLink,h.a("span"))).innerText=r.value,v.appendChild(this._codeLink)}if(h.t(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(_.q)(i)){var y=this._relatedBlock.appendChild(document.createElement("div"));y.style.paddingTop=Math.floor(.66*this._editor.getOption(49))+"px",this._lines+=1;for(var C=0,w=i;C<w.length;C++){var M=w[C],S=document.createElement("div"),O=document.createElement("a");h.f(O,"filename"),O.innerHTML=Object(m.a)(M.resource)+"("+M.startLineNumber+", "+M.startColumn+"): ",O.title=Object(m.b)(M.resource,void 0),this._relatedDiagnostics.set(O,M);var R=document.createElement("span");R.innerText=M.message,S.appendChild(O),S.appendChild(R),this._lines+=1,y.appendChild(S)}}var D=this._editor.getOption(34),k=Math.ceil(D.typicalFullwidthCharacterWidth*this._longestLineLength*.75),L=D.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:k,scrollHeight:L})},MessageWidget.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},MessageWidget.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},MessageWidget}(),M=function(e){function MarkerNavigationWidget(t,n,o,s){var c=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return c.actions=n,c._themeService=o,c._openerService=s,c._callOnDispose=new r.b,c._onDidSelectRelatedInformation=new i.a,c.onDidSelectRelatedInformation=c._onDidSelectRelatedInformation.event,c._severity=a.c.Warning,c._backgroundColor=g.a.white,c._applyTheme(o.getTheme()),c._callOnDispose.add(o.onThemeChange(c._applyTheme.bind(c))),c.create(),c}return C(MarkerNavigationWidget,e),MarkerNavigationWidget.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(A);var t=D;this._severity===a.c.Warning?t=k:this._severity===a.c.Info&&(t=L);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(v.q),secondaryHeadingColor:e.getColor(v.r)})},MarkerNavigationWidget.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),e.prototype._applyStyles.call(this)},MarkerNavigationWidget.prototype.dispose=function(){this._callOnDispose.dispose(),e.prototype.dispose.call(this)},MarkerNavigationWidget.prototype._fillHead=function(t){e.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0,index:0})},MarkerNavigationWidget.prototype._fillTitleIcon=function(e){this._icon=h.q(e,h.a(""))},MarkerNavigationWidget.prototype._getActionBarOptions=function(){return{orientation:0}},MarkerNavigationWidget.prototype._fillBody=function(e){var t=this;this._parentContainer=e,h.f(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new w(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._openerService),this._disposables.add(this._message)},MarkerNavigationWidget.prototype.show=function(e,t){throw new Error("call showAtMarker")},MarkerNavigationWidget.prototype.showAtMarker=function(t,n,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var r=c.a.lift(t),s=this.editor.getPosition(),l=s&&r.containsPosition(s)?s:r.getStartPosition();e.prototype.show.call(this,l,this.computeRequiredHeight());var d=this.editor.getModel();if(d){var u=i>1?o.a("problems","{0} of {1} problems",n,i):o.a("change","{0} of {1} problem",n,i);this.setTitle(Object(b.b)(d.uri),u)}this._icon.className="codicon "+y.a.className(a.c.toSeverity(this._severity)),this.editor.revealPositionInCenter(l,0),this.editor.focus()},MarkerNavigationWidget.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},MarkerNavigationWidget.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},MarkerNavigationWidget.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height=t+"px"},MarkerNavigationWidget.prototype._onWidth=function(e){this._message.layout(this._heightInPixel,e)},MarkerNavigationWidget.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},MarkerNavigationWidget.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},MarkerNavigationWidget}(v.c),S=Object(p.Kb)(p.q,p.p),O=Object(p.Kb)(p.P,p.O),R=Object(p.Kb)(p.H,p.G),D=Object(p.Tb)("editorMarkerNavigationError.background",{dark:S,light:S,hc:S},o.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),k=Object(p.Tb)("editorMarkerNavigationWarning.background",{dark:O,light:O,hc:O},o.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),L=Object(p.Tb)("editorMarkerNavigationInfo.background",{dark:R,light:R,hc:R},o.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),A=Object(p.Tb)("editorMarkerNavigation.background",{dark:"#2D2D30",light:g.a.white,hc:"#0C141F"},o.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(d.e)((function(e,t){var n=e.getColor(p.ec);n&&(t.addRule(".monaco-editor .marker-widget a { color: "+n+"; }"),t.addRule(".monaco-editor .marker-widget a.code-link span:hover { color: "+n+"; }"))}));var F=n("N0LK"),I=n("Vxe3"),N=n("/cxE"),P=n("fjLI"),x=n("8HAY"),E=n("bexQ"),T=n("W9cx"),j=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},W=function(){function MarkerModel(e,t){var n=this;this._toUnbind=new r.b,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new i.a,this._onMarkerSetChanged=new i.a,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose((function(){return n.dispose()}))),this._toUnbind.add(this._editor.onDidChangeCursorPosition((function(){n._ignoreSelectionChange||n.currentMarker&&n._editor.getPosition()&&c.a.containsPosition(n.currentMarker,n._editor.getPosition())||(n._nextIdx=-1)})))}return Object.defineProperty(MarkerModel.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(MarkerModel.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),MarkerModel.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(B.compareMarker),this._nextIdx=t?Math.max(-1,Object(_.c)(this._markers,t,B.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},MarkerModel.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},MarkerModel.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),o=0;o<this._markers.length;o++){var i=c.a.lift(this._markers[o]);if(i.isEmpty()&&this._editor.getModel()){var r=this._editor.getModel().getWordAtPosition(i.getStartPosition());r&&(i=new c.a(i.startLineNumber,r.startColumn,i.startLineNumber,r.endColumn))}if(n&&(i.containsPosition(n)||n.isBeforeOrEqual(i.getStartPosition()))){this._nextIdx=o,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(MarkerModel.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),MarkerModel.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var n=this._nextIdx,o=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:o=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:o=!0),n!==this._nextIdx){var i=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(i)}return o},MarkerModel.prototype.canNavigate=function(){return this._markers.length>0},MarkerModel.prototype.findMarkerAtPosition=function(e){return Object(_.h)(this._markers,(function(t){return c.a.containsPosition(t,e)}))},Object.defineProperty(MarkerModel.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),MarkerModel.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},MarkerModel.prototype.dispose=function(){this._toUnbind.dispose()},MarkerModel}(),H=function(){function MarkerController(e,t,n,o,i,s,a){this._markerService=t,this._contextKeyService=n,this._themeService=o,this._editorService=i,this._keybindingService=s,this._openerService=a,this._model=null,this._widget=null,this._disposeOnClose=new r.b,this._editor=e,this._widgetVisible=q.bindTo(this._contextKeyService)}return MarkerController.get=function(e){return e.getContribution(MarkerController.ID)},MarkerController.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},MarkerController.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},MarkerController.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new W(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var n=this._keybindingService.lookupKeybinding(V.ID),o=this._keybindingService.lookupKeybinding(U.ID),i=[new x.a(U.ID,U.LABEL+(o?" ("+o.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),(function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){return this._model&&this._model.move(!0,!0),[2]}))}))})),new x.a(V.ID,V.LABEL+(n?" ("+n.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),(function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){return this._model&&this._model.move(!1,!0),[2]}))}))}))];this._widget=new M(this._editor,i,this._themeService,this._openerService),this._widgetVisible.set(!0),this._widget.onDidClose((function(){return e.closeMarkersNavigation()}),this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var r=0,s=i;r<s.length;r++){var a=s[r];this._disposeOnClose.add(a)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation((function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:c.a.lift(t).collapseToStart()}},e._editor).then(void 0,N.e),e.closeMarkersNavigation(!1)}))),this._disposeOnClose.add(this._editor.onDidChangeModel((function(){return e._cleanUp()}))),this._disposeOnClose.add(this._model.onCurrentMarkerChanged((function(t){t&&e._model?e._model.withoutWatchingEditorPosition((function(){e._widget&&e._model&&e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)})):e._cleanUp()}))),this._disposeOnClose.add(this._model.onMarkerSetChanged((function(){if(e._widget&&e._widget.position&&e._model){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()}}))),this._model},MarkerController.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},MarkerController.prototype.show=function(e){this.getOrCreateModel().currentMarker=e},MarkerController.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some((function(e){return Object(b.e)(t.uri,e)}))&&this._model.setMarkers(this._getMarkers())},MarkerController.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:a.c.Error|a.c.Warning|a.c.Info}):[]},MarkerController.ID="editor.contrib.markerController",MarkerController=__decorate([__param(1,a.b),__param(2,s.c),__param(3,d.c),__param(4,I.a),__param(5,E.a),__param(6,T.a)],MarkerController)}(),B=function(e){function MarkerNavigationAction(t,n,o){var i=e.call(this,o)||this;return i._isNext=t,i._multiFile=n,i}return j(MarkerNavigationAction,e),MarkerNavigationAction.prototype.run=function(e,t){var n=this,o=e.get(a.b),i=e.get(I.a),r=H.get(t);if(!r)return Promise.resolve(void 0);var s=r.getOrCreateModel();if(!s.move(this._isNext,!this._multiFile)||!this._multiFile)return Promise.resolve(void 0);var c=o.read({severities:a.c.Error|a.c.Warning|a.c.Info}).sort(MarkerNavigationAction.compareMarker);if(0===c.length)return Promise.resolve(void 0);var l=t.getModel();if(!l)return Promise.resolve(void 0);var d=s.currentMarker||{resource:l.uri,severity:a.c.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},u=Object(_.c)(c,d,MarkerNavigationAction.compareMarker);u<0?(u=~u,u%=c.length):u=this._isNext?(u+1)%c.length:(u+c.length-1)%c.length;var h=c[u];return Object(b.e)(h.resource,l.uri)?(s.move(this._isNext,!0),Promise.resolve(void 0)):(r.closeMarkersNavigation(),i.openCodeEditor({resource:h.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:h}},t).then((function(e){if(e)return e.getAction(n.id).run()})))},MarkerNavigationAction.compareMarker=function(e,t){var n=Object(F.e)(e.resource.toString(),t.resource.toString());return 0===n&&(n=a.c.compare(e.severity,t.severity)),0===n&&(n=c.a.compareRangesUsingStarts(e,t)),n},MarkerNavigationAction}(l.b),U=function(e){function NextMarkerAction(){return e.call(this,!0,!1,{id:NextMarkerAction.ID,label:NextMarkerAction.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:u.a.writable,kbOpts:{kbExpr:u.a.focus,primary:578,weight:100}})||this}return j(NextMarkerAction,e),NextMarkerAction.ID="editor.action.marker.next",NextMarkerAction.LABEL=o.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),NextMarkerAction}(B),V=function(e){function PrevMarkerAction(){return e.call(this,!1,!1,{id:PrevMarkerAction.ID,label:PrevMarkerAction.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:u.a.writable,kbOpts:{kbExpr:u.a.focus,primary:1602,weight:100}})||this}return j(PrevMarkerAction,e),PrevMarkerAction.ID="editor.action.marker.prev",PrevMarkerAction.LABEL=o.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),PrevMarkerAction}(B),G=function(e){function NextMarkerInFilesAction(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:o.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:u.a.writable,kbOpts:{kbExpr:u.a.focus,primary:66,weight:100}})||this}return j(NextMarkerInFilesAction,e),NextMarkerInFilesAction}(B),K=function(e){function PrevMarkerInFilesAction(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:o.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:u.a.writable,kbOpts:{kbExpr:u.a.focus,primary:1090,weight:100}})||this}return j(PrevMarkerInFilesAction,e),PrevMarkerInFilesAction}(B);Object(l.h)(H.ID,H),Object(l.f)(U),Object(l.f)(V),Object(l.f)(G),Object(l.f)(K);var q=new s.d("markersNavigationVisible",!1),Z=l.c.bindToContribution(H.get);Object(l.g)(new Z({id:"closeMarkersNavigation",precondition:q,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:u.a.focus,primary:9,secondary:[1033]}})),P.c.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:o.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),P.c.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:o.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2})},oQaD:function(e,t,n){"use strict";n.r(t),n.d(t,"getSelectionSearchString",(function(){return getSelectionSearchString})),n.d(t,"CommonFindController",(function(){return He})),n.d(t,"FindController",(function(){return Be})),n.d(t,"StartFindAction",(function(){return Ue})),n.d(t,"StartFindWithSelectionAction",(function(){return Ve})),n.d(t,"MatchFindAction",(function(){return Ge})),n.d(t,"NextMatchFindAction",(function(){return Ke})),n.d(t,"NextMatchFindAction2",(function(){return qe})),n.d(t,"PreviousMatchFindAction",(function(){return Ze})),n.d(t,"PreviousMatchFindAction2",(function(){return ze})),n.d(t,"SelectionMatchFindAction",(function(){return Ye})),n.d(t,"NextSelectionMatchFindAction",(function(){return Xe})),n.d(t,"PreviousSelectionMatchFindAction",(function(){return Qe})),n.d(t,"StartFindReplaceAction",(function(){return Je}));var o=n("3/fG"),i=n("X+cX"),r=n("pmY6"),s=n("N0LK"),a=n("sswD"),c=n("wQH0"),l=n("LCkn"),d=n("cGHE"),u=n("aokT"),h=n("gCVg"),p=n("jAJ/"),g=n("M1Kb"),f=n("tX9W"),m=n("MD5Z"),_=n("t9D7"),v=function(){function FindDecorations(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return FindDecorations.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},FindDecorations.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},FindDecorations.prototype.getCount=function(){return this._decorations.length},FindDecorations.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},FindDecorations.prototype.getStartPosition=function(){return this._startPosition},FindDecorations.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},FindDecorations.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},FindDecorations.prototype.getCurrentMatchesPosition=function(e){for(var t=0,n=this._editor.getModel().getDecorationsInRange(e);t<n.length;t++){var o=n[t],i=o.options;if(i===FindDecorations._FIND_MATCH_DECORATION||i===FindDecorations._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 1},FindDecorations.prototype.setCurrentFindMatch=function(e){var t=this,n=null,o=0;if(e)for(var i=0,r=this._decorations.length;i<r;i++){var s=this._editor.getModel().getDecorationRange(this._decorations[i]);if(e.equalsRange(s)){n=this._decorations[i],o=i+1;break}}return null===this._highlightedDecorationId&&null===n||this._editor.changeDecorations((function(e){if(null!==t._highlightedDecorationId&&(e.changeDecorationOptions(t._highlightedDecorationId,FindDecorations._FIND_MATCH_DECORATION),t._highlightedDecorationId=null),null!==n&&(t._highlightedDecorationId=n,e.changeDecorationOptions(t._highlightedDecorationId,FindDecorations._CURRENT_FIND_MATCH_DECORATION)),null!==t._rangeHighlightDecorationId&&(e.removeDecoration(t._rangeHighlightDecorationId),t._rangeHighlightDecorationId=null),null!==n){var o=t._editor.getModel().getDecorationRange(n);if(o.startLineNumber!==o.endLineNumber&&1===o.endColumn){var i=o.endLineNumber-1,r=t._editor.getModel().getLineMaxColumn(i);o=new u.a(o.startLineNumber,o.startColumn,i,r)}t._rangeHighlightDecorationId=e.addDecoration(o,FindDecorations._RANGE_HIGHLIGHT_DECORATION)}})),o},FindDecorations.prototype.set=function(e,t){var n=this;this._editor.changeDecorations((function(o){var i=FindDecorations._FIND_MATCH_DECORATION,r=[];if(e.length>1e3){i=FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var s=n._editor.getModel().getLineCount(),a=n._editor.getLayoutInfo().height/s,c=Math.max(2,Math.ceil(3/a)),l=e[0].range.startLineNumber,d=e[0].range.endLineNumber,h=1,p=e.length;h<p;h++){var g=e[h].range;d+c>=g.startLineNumber?g.endLineNumber>d&&(d=g.endLineNumber):(r.push({range:new u.a(l,1,d,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),l=g.startLineNumber,d=g.endLineNumber)}r.push({range:new u.a(l,1,d,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var f=new Array(e.length);for(h=0,p=e.length;h<p;h++)f[h]={range:e[h].range,options:i};n._decorations=o.deltaDecorations(n._decorations,f),n._overviewRulerApproximateDecorations=o.deltaDecorations(n._overviewRulerApproximateDecorations,r),n._rangeHighlightDecorationId&&(o.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),n._findScopeDecorationId&&(o.removeDecoration(n._findScopeDecorationId),n._findScopeDecorationId=null),t&&(n._findScopeDecorationId=o.addDecoration(t,FindDecorations._FIND_SCOPE_DECORATION))}))},FindDecorations.prototype.matchBeforePosition=function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.endLineNumber>e.lineNumber)){if(o.endLineNumber<e.lineNumber)return o;if(!(o.endColumn>e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},FindDecorations.prototype.matchAfterPosition=function(e){if(0===this._decorations.length)return null;for(var t=0,n=this._decorations.length;t<n;t++){var o=this._decorations[t],i=this._editor.getModel().getDecorationRange(o);if(i&&!(i.startLineNumber<e.lineNumber)){if(i.startLineNumber>e.lineNumber)return i;if(!(i.startColumn<e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])},FindDecorations.prototype._allDecorations=function(){var e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},FindDecorations._CURRENT_FIND_MATCH_DECORATION=f.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(_.f)(m.Lb),position:g.d.Center},minimap:{color:Object(_.f)(m.Hb),position:g.c.Inline}}),FindDecorations._FIND_MATCH_DECORATION=f.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(_.f)(m.Lb),position:g.d.Center},minimap:{color:Object(_.f)(m.Hb),position:g.c.Inline}}),FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION=f.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION=f.a.register({stickiness:1,overviewRuler:{color:Object(_.f)(m.Lb),position:g.d.Center}}),FindDecorations._RANGE_HIGHLIGHT_DECORATION=f.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),FindDecorations._FIND_SCOPE_DECORATION=f.a.register({className:"findScope",isWholeLine:!0}),FindDecorations}(),b=function(){function ReplaceAllCommand(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}return ReplaceAllCommand.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var n=[],o=0;o<this._ranges.length;o++)n.push({range:this._ranges[o],text:this._replaceStrings[o]});n.sort((function(e,t){return u.a.compareRangesUsingStarts(e.range,t.range)}));var i=[],r=n[0];for(o=1;o<n.length;o++)r.range.endLineNumber===n[o].range.startLineNumber&&r.range.endColumn===n[o].range.startColumn?(r.range=r.range.plusRange(n[o].range),r.text=r.text+n[o].text):(i.push(r),r=n[o]);i.push(r);for(var s=0,a=i;s<a.length;s++){var c=a[s];t.addEditOperation(c.range,c.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},ReplaceAllCommand.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},ReplaceAllCommand}(),y=n("ELk3"),C=function C(e){this.staticValue=e,this.kind=0},w=function w(e){this.pieces=e,this.kind=1},M=function(){function ReplacePattern(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new C(e[0].staticValue):this._state=new w(e):this._state=new C("")}return ReplacePattern.fromStaticValue=function(e){return new ReplacePattern([S.staticValue(e)])},Object.defineProperty(ReplacePattern.prototype,"hasReplacementPatterns",{get:function(){return 1===this._state.kind},enumerable:!0,configurable:!0}),ReplacePattern.prototype.buildReplaceString=function(e,t){if(0===this._state.kind)return t?Object(y.a)(e,this._state.staticValue):this._state.staticValue;for(var n="",o=0,i=this._state.pieces.length;o<i;o++){var r=this._state.pieces[o];null===r.staticValue?n+=ReplacePattern._substitute(r.matchIndex,e):n+=r.staticValue}return n},ReplacePattern._substitute=function(e,t){if(null===t)return"";if(0===e)return t[0];for(var n="";e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n},ReplacePattern}(),S=function(){function ReplacePiece(e,t){this.staticValue=e,this.matchIndex=t}return ReplacePiece.staticValue=function(e){return new ReplacePiece(e,-1)},ReplacePiece.matchIndex=function(e){return new ReplacePiece(null,e)},ReplacePiece}(),O=function(){function ReplacePieceBuilder(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return ReplacePieceBuilder.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},ReplacePieceBuilder.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},ReplacePieceBuilder.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},ReplacePieceBuilder.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.matchIndex(e),this._lastCharIndex=t},ReplacePieceBuilder.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new M(this._result)},ReplacePieceBuilder}();var R=n("T8No"),D=new R.d("findWidgetVisible",!1),k=new R.d("findInputFocussed",!1),L=new R.d("replaceInputFocussed",!1),A={primary:545,mac:{primary:2593}},F={primary:565,mac:{primary:2613}},I={primary:560,mac:{primary:2608}},N={primary:554,mac:{primary:2602}},P="actions.find",x="actions.findWithSelection",E="editor.action.nextMatchFindAction",T="editor.action.previousMatchFindAction",j="editor.action.nextSelectionMatchFindAction",W="editor.action.previousSelectionMatchFindAction",H="editor.action.startFindReplaceAction",B="closeFindWidget",U="toggleFindCaseSensitive",V="toggleFindWholeWord",G="toggleFindRegex",K="toggleFindInSelection",q="editor.action.replaceOne",Z="editor.action.replaceAll",z="editor.action.selectAllMatches",Y=19999,X=function(){function FindModelBoundToEditorModel(e,t){var n=this;this._toDispose=new r.b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new i.e,this._decorations=new v(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new i.d((function(){return n.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||n._decorations.setStartPosition(n._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){n._ignoreModelContentChanged||(e.isFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return n._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}return FindModelBoundToEditorModel.prototype.dispose=function(){this._isDisposed=!0,Object(r.f)(this._startSearchingTimer),this._toDispose.dispose()},FindModelBoundToEditorModel.prototype._onStateChanged=function(e){var t=this;this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},FindModelBoundToEditorModel._getSearchRange=function(e,t){return t||e.getFullModelRange()},FindModelBoundToEditorModel.prototype.research=function(e,t){var n=null;null!==(n=void 0!==t?t:this._decorations.getFindScope())&&n.startLineNumber!==n.endLineNumber&&(n=1===n.endColumn?new u.a(n.startLineNumber,1,n.endLineNumber-1,this._editor.getModel().getLineMaxColumn(n.endLineNumber-1)):new u.a(n.startLineNumber,1,n.endLineNumber,this._editor.getModel().getLineMaxColumn(n.endLineNumber)));var o=this._findMatches(n,!1,Y);this._decorations.set(o,n),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},FindModelBoundToEditorModel.prototype._hasMatches=function(){return this._state.matchesCount>0},FindModelBoundToEditorModel.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},FindModelBoundToEditorModel.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},FindModelBoundToEditorModel.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,o=e.column,i=this._editor.getModel();return t||1===o?(1===n?n=i.getLineCount():n--,o=i.getLineMaxColumn(n)):o--,new d.a(n,o)},FindModelBoundToEditorModel.prototype._moveToPrevMatch=function(e,t){if(void 0===t&&(t=!1),this._decorations.getCount()<Y){var n=this._decorations.matchBeforePosition(e);return n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),n=this._decorations.matchBeforePosition(e)),void(n&&this._setCurrentFindMatch(n))}if(!this._cannotFind()){var o=this._decorations.getFindScope(),i=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),o);i.getEndPosition().isBefore(e)&&(e=i.getEndPosition()),e.isBefore(i.getStartPosition())&&(e=i.getEndPosition());var r=e.lineNumber,s=e.column,a=this._editor.getModel(),c=new d.a(r,s),l=a.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1);if(l&&l.range.isEmpty()&&l.range.getStartPosition().equals(c)&&(c=this._prevSearchPosition(c),l=a.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1)),l)return t||i.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0)}},FindModelBoundToEditorModel.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},FindModelBoundToEditorModel.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,o=e.column,i=this._editor.getModel();return t||o===i.getLineMaxColumn(n)?(n===i.getLineCount()?n=1:n++,o=1):o++,new d.a(n,o)},FindModelBoundToEditorModel.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<Y){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)},FindModelBoundToEditorModel.prototype._getNextMatch=function(e,t,n,o){if(void 0===o&&(o=!1),this._cannotFind())return null;var i=this._decorations.getFindScope(),r=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),i);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());var s=e.lineNumber,a=e.column,c=this._editor.getModel(),l=new d.a(s,a),u=c.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,t);return n&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._nextSearchPosition(l),u=c.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,t)),u?o||r.containsRange(u.range)?u:this._getNextMatch(u.range.getEndPosition(),t,n,!0):null},FindModelBoundToEditorModel.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},FindModelBoundToEditorModel.prototype._getReplacePattern=function(){return this._state.isRegex?function parseReplaceString(e){if(!e||0===e.length)return new M(null);for(var t=new O(e),n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);if(92!==i){if(36===i){if(++n>=o)break;if(36===(a=e.charCodeAt(n))){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(48===a||38===a){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1);continue}if(49<=a&&a<=57){var r=a-48;if(n+1<o){var s=e.charCodeAt(n+1);if(48<=s&&s<=57){n++,r=10*r+(s-48),t.emitUnchanged(n-2),t.emitMatchIndex(r,n+1);continue}}t.emitUnchanged(n-1),t.emitMatchIndex(r,n+1);continue}}}else{if(++n>=o)break;var a;switch(a=e.charCodeAt(n)){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic("\n",n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("\t",n+1)}}}return t.finalize()}(this._state.replaceString):M.fromStaticValue(this._state.replaceString)},FindModelBoundToEditorModel.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){var o=e.buildReplaceString(n.matches,this._state.preserveCase),i=new l.a(t,o);this._executeEditorCommand("replace",i),this._decorations.setStartPosition(new d.a(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}},FindModelBoundToEditorModel.prototype._findMatches=function(e,t,n){var o=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),e);return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,t,n)},FindModelBoundToEditorModel.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=Y?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},FindModelBoundToEditorModel.prototype._largeReplaceAll=function(){var e=new p.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var n="mu";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var o,i=this._editor.getModel(),r=i.getValue(1),s=i.getFullModelRange(),a=this._getReplacePattern(),c=this._state.preserveCase;o=a.hasReplacementPatterns||c?r.replace(t,(function(){return a.buildReplaceString(arguments,c)})):r.replace(t,a.buildReplaceString(null,c));var d=new l.b(s,o,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}},FindModelBoundToEditorModel.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[],i=0,r=n.length;i<r;i++)o[i]=t.buildReplaceString(n[i].matches,this._state.preserveCase);var s=new b(this._editor.getSelection(),n.map((function(e){return e.range})),o);this._executeEditorCommand("replaceAll",s)},FindModelBoundToEditorModel.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map((function(e){return new h.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),n=this._editor.getSelection(),o=0,i=t.length;o<i;o++){if(t[o].equalsRange(n)){t=[n].concat(t.slice(0,o)).concat(t.slice(o+1));break}}this._editor.setSelections(t)}},FindModelBoundToEditorModel.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},FindModelBoundToEditorModel}(),Q=n("EffR"),J=n("5HNL"),$=n("G300"),ee=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),te=function(e){function FindOptionsWidget(t,n,o,r){var s=e.call(this)||this;s._hideSoon=s._register(new i.d((function(){return s._hide()}),2e3)),s._isVisible=!1,s._editor=t,s._state=n,s._keybindingService=o,s._domNode=document.createElement("div"),s._domNode.className="findOptionsWidget",s._domNode.style.display="none",s._domNode.style.top="10px",s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true");var a=r.getTheme().getColor(m.Y),c=r.getTheme().getColor(m.X);return s.caseSensitive=s._register(new J.a({appendTitle:s._keybindingLabelFor(U),isChecked:s._state.matchCase,inputActiveOptionBorder:a,inputActiveOptionBackground:c})),s._domNode.appendChild(s.caseSensitive.domNode),s._register(s.caseSensitive.onChange((function(){s._state.change({matchCase:s.caseSensitive.checked},!1)}))),s.wholeWords=s._register(new J.c({appendTitle:s._keybindingLabelFor(V),isChecked:s._state.wholeWord,inputActiveOptionBorder:a,inputActiveOptionBackground:c})),s._domNode.appendChild(s.wholeWords.domNode),s._register(s.wholeWords.onChange((function(){s._state.change({wholeWord:s.wholeWords.checked},!1)}))),s.regex=s._register(new J.b({appendTitle:s._keybindingLabelFor(G),isChecked:s._state.isRegex,inputActiveOptionBorder:a,inputActiveOptionBackground:c})),s._domNode.appendChild(s.regex.domNode),s._register(s.regex.onChange((function(){s._state.change({isRegex:s.regex.checked},!1)}))),s._editor.addOverlayWidget(s),s._register(s._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(s.regex.checked=s._state.isRegex,t=!0),e.wholeWord&&(s.wholeWords.checked=s._state.wholeWord,t=!0),e.matchCase&&(s.caseSensitive.checked=s._state.matchCase,t=!0),!s._state.isRevealed&&t&&s._revealTemporarily()}))),s._register(Q.k(s._domNode,(function(e){return s._onMouseOut()}))),s._register(Q.j(s._domNode,"mouseover",(function(e){return s._onMouseOver()}))),s._applyTheme(r.getTheme()),s._register(r.onThemeChange(s._applyTheme.bind(s))),s}return ee(FindOptionsWidget,e),FindOptionsWidget.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},FindOptionsWidget.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},FindOptionsWidget.prototype.getId=function(){return FindOptionsWidget.ID},FindOptionsWidget.prototype.getDomNode=function(){return this._domNode},FindOptionsWidget.prototype.getPosition=function(){return{preference:0}},FindOptionsWidget.prototype.highlightFindOptions=function(){this._revealTemporarily()},FindOptionsWidget.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},FindOptionsWidget.prototype._onMouseOut=function(){this._hideSoon.schedule()},FindOptionsWidget.prototype._onMouseOver=function(){this._hideSoon.cancel()},FindOptionsWidget.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},FindOptionsWidget.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},FindOptionsWidget.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(m.Y),inputActiveOptionBackground:e.getColor(m.X)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},FindOptionsWidget.ID="editor.contrib.findOptionsWidget",FindOptionsWidget}($.a);Object(_.e)((function(e,t){var n=e.getColor(m.Q);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+n+"; }");var o=e.getColor(m.S);o&&t.addRule(".monaco-editor .findOptionsWidget { color: "+o+"; }");var i=e.getColor(m.hc);i&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+i+"; }");var r=e.getColor(m.e);r&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")}));var ne=n("MI8n"),oe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function effectiveOptionValue(e,t){return 1===e||2!==e&&t}var ie=function(e){function FindReplaceState(){var t=e.call(this)||this;return t._onFindReplaceStateChange=t._register(new ne.a),t.onFindReplaceStateChange=t._onFindReplaceStateChange.event,t._searchString="",t._replaceString="",t._isRevealed=!1,t._isReplaceRevealed=!1,t._isRegex=!1,t._isRegexOverride=0,t._wholeWord=!1,t._wholeWordOverride=0,t._matchCase=!1,t._matchCaseOverride=0,t._preserveCase=!1,t._preserveCaseOverride=0,t._searchScope=null,t._matchesPosition=0,t._matchesCount=0,t._currentMatch=null,t}return oe(FindReplaceState,e),Object.defineProperty(FindReplaceState.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"isRegex",{get:function(){return effectiveOptionValue(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"wholeWord",{get:function(){return effectiveOptionValue(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchCase",{get:function(){return effectiveOptionValue(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"preserveCase",{get:function(){return effectiveOptionValue(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(FindReplaceState.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),FindReplaceState.prototype.changeMatchInfo=function(e,t,n){var o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},i=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,i=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,i=!0),void 0!==n&&(u.a.equalsRange(this._currentMatch,n)||(this._currentMatch=n,o.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(o)},FindReplaceState.prototype.change=function(e,t,n){void 0===n&&(n=!0);var o={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},i=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase,c=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,i=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,i=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,i=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,i=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&(u.a.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,o.searchScope=!0,i=!0)),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(i=!0,o.isRegex=!0),s!==this.wholeWord&&(i=!0,o.wholeWord=!0),a!==this.matchCase&&(i=!0,o.matchCase=!0),c!==this.preserveCase&&(i=!0,o.preserveCase=!0),i&&this._onFindReplaceStateChange.fire(o)},FindReplaceState}(r.a),re=n("OBOq"),se=n("+892"),ae=n("cMOf"),ce=n("/cxE"),le=n("MNsG"),de=n("b2a9"),ue=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),he=o.a("label.find","Find"),pe=o.a("placeholder.find","Find"),ge=o.a("label.previousMatchButton","Previous match"),fe=o.a("label.nextMatchButton","Next match"),me=o.a("label.toggleSelectionFind","Find in selection"),_e=o.a("label.closeButton","Close"),ve=o.a("label.replace","Replace"),be=o.a("placeholder.replace","Replace"),ye=o.a("label.replaceButton","Replace"),Ce=o.a("label.replaceAllButton","Replace All"),we=o.a("label.toggleReplaceButton","Toggle Replace mode"),Me=o.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Y),Se=o.a("label.matchesLocation","{0} of {1}"),Oe=o.a("label.noResults","No Results"),Re=419,De=69,ke="ctrlEnterReplaceAll.windows.donotask",Le=le.e?256:2048,Ae=function Ae(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"};function stopPropagationForMultiLineUpwards(e,t,n){var o=!!t.match(/\n/);n&&o&&n.selectionStart>0&&e.stopPropagation()}function stopPropagationForMultiLineDownwards(e,t,n){var o=!!t.match(/\n/);n&&o&&n.selectionEnd<n.value.length&&e.stopPropagation()}var Fe=function(e){function FindWidget(t,n,o,s,a,c,l,d,u){var h=e.call(this)||this;return h._cachedHeight=null,h._codeEditor=t,h._controller=n,h._state=o,h._contextViewProvider=s,h._keybindingService=a,h._contextKeyService=c,h._storageService=d,h._notificationService=u,h._ctrlEnterReplaceAllWarningPrompted=!!d.getBoolean(ke,0),h._isVisible=!1,h._isReplaceVisible=!1,h._ignoreChangeEvent=!1,h._updateHistoryDelayer=new i.a(500),h._register(Object(r.h)((function(){return h._updateHistoryDelayer.cancel()}))),h._register(h._state.onFindReplaceStateChange((function(e){return h._onStateChanged(e)}))),h._buildDomNode(),h._updateButtons(),h._tryUpdateWidgetWidth(),h._findInput.inputBox.layout(),h._register(h._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(68)&&(h._codeEditor.getOption(68)&&h._state.change({isReplaceRevealed:!1},!1),h._updateButtons()),e.hasChanged(107)&&h._tryUpdateWidgetWidth(),e.hasChanged(2)&&h.updateAccessibilitySupport(),e.hasChanged(28)){var t=h._codeEditor.getOption(28).addExtraSpaceOnTop;t&&!h._viewZone&&(h._viewZone=new Ae(0),h._showViewZone()),!t&&h._viewZone&&h._removeViewZone()}}))),h.updateAccessibilitySupport(),h._register(h._codeEditor.onDidChangeCursorSelection((function(){h._isVisible&&h._updateToggleSelectionFindButton()}))),h._register(h._codeEditor.onDidFocusEditorWidget((function(){if(h._isVisible){var e=h._controller.getGlobalBufferTerm();e&&e!==h._state.searchString&&(h._state.change({searchString:e},!0),h._findInput.select())}}))),h._findInputFocused=k.bindTo(c),h._findFocusTracker=h._register(Q.Z(h._findInput.inputBox.inputElement)),h._register(h._findFocusTracker.onDidFocus((function(){h._findInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._findFocusTracker.onDidBlur((function(){h._findInputFocused.set(!1)}))),h._replaceInputFocused=L.bindTo(c),h._replaceFocusTracker=h._register(Q.Z(h._replaceInput.inputBox.inputElement)),h._register(h._replaceFocusTracker.onDidFocus((function(){h._replaceInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._replaceFocusTracker.onDidBlur((function(){h._replaceInputFocused.set(!1)}))),h._codeEditor.addOverlayWidget(h),h._codeEditor.getOption(28).addExtraSpaceOnTop&&(h._viewZone=new Ae(0)),h._applyTheme(l.getTheme()),h._register(l.onThemeChange(h._applyTheme.bind(h))),h._register(h._codeEditor.onDidChangeModel((function(){h._isVisible&&(h._viewZoneId=void 0)}))),h._register(h._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?h._layoutViewZone():setTimeout((function(){h._layoutViewZone()}),0)}))),h}return ue(FindWidget,e),FindWidget.prototype.getId=function(){return FindWidget.ID},FindWidget.prototype.getDomNode=function(){return this._domNode},FindWidget.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},FindWidget.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(68)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Q.H(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;Q.Y(this._domNode,"no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},FindWidget.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},FindWidget.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},FindWidget.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=De+"px",this._state.matchesCount>=Y?this._matchesCount.title=Me:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=Y&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=s.r(Se,n,t)}else e=Oe;this._matchesCount.appendChild(document.createTextNode(e)),Object(re.a)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString),!0),De=Math.max(De,this._matchesCount.clientWidth)},FindWidget.prototype._getAriaLabel=function(e,t,n){return e===Oe?""===n?o.a("ariaSearchNoResultEmpty","{0} found",e):o.a("ariaSearchNoResult","{0} found for {1}",e,n):t?o.a("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",e,n,t.startLineNumber+":"+t.startColumn):o.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",e,n)},FindWidget.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},FindWidget.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t),this._nextBtn.setEnabled(this._isVisible&&e&&t),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),Q.Y(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var n=!this._codeEditor.getOption(68);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)},FindWidget.prototype._reveal=function(){var e=this;if(!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(28).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var n=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=n}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout((function(){Q.f(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false")}),0),setTimeout((function(){e._findInput.validate()}),200),this._codeEditor.layoutOverlayWidget(this);var o=!0;if(this._codeEditor.getOption(28).seedSearchStringFromSelection&&t){var i=this._codeEditor.getDomNode();if(i){var r=Q.C(i),s=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),a=r.left+(s?s.left:0),c=s?s.top:0;if(this._viewZone&&c<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(o=!1);var l=Q.F(this._domNode).left;a>l&&(o=!1);var d=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());r.left+(d?d.left:0)>l&&(o=!1)}}}this._showViewZone(o)}},FindWidget.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),Q.P(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},FindWidget.prototype._layoutViewZone=function(){var e=this;if(this._codeEditor.getOption(28).addExtraSpaceOnTop){if(this._isVisible){var t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((function(n){t.heightInPx=e._getHeight(),e._viewZoneId=n.addZone(t),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+t.heightInPx)}))}}else this._removeViewZone()},FindWidget.prototype._showViewZone=function(e){var t=this;if((void 0===e&&(e=!0),this._isVisible)&&this._codeEditor.getOption(28).addExtraSpaceOnTop){void 0===this._viewZone&&(this._viewZone=new Ae(0));var n=this._viewZone;this._codeEditor.changeViewZones((function(o){if(void 0!==t._viewZoneId){var i=t._getHeight();if(i===n.heightInPx)return;var r=i-n.heightInPx;return n.heightInPx=i,o.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r))}r=t._getHeight();n.heightInPx=r,t._viewZoneId=o.addZone(n),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r)}))}},FindWidget.prototype._removeViewZone=function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))},FindWidget.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(m.Y),inputActiveOptionBackground:e.getColor(m.X),inputBackground:e.getColor(m.Z),inputForeground:e.getColor(m.bb),inputBorder:e.getColor(m.ab),inputValidationInfoBackground:e.getColor(m.fb),inputValidationInfoForeground:e.getColor(m.hb),inputValidationInfoBorder:e.getColor(m.gb),inputValidationWarningBackground:e.getColor(m.ib),inputValidationWarningForeground:e.getColor(m.kb),inputValidationWarningBorder:e.getColor(m.jb),inputValidationErrorBackground:e.getColor(m.cb),inputValidationErrorForeground:e.getColor(m.eb),inputValidationErrorBorder:e.getColor(m.db)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)},FindWidget.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&Q.M(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)Q.f(this._domNode,"hiddenEditor");else{Q.I(this._domNode,"hiddenEditor")&&Q.P(this._domNode,"hiddenEditor");var t=e.width,n=e.minimapWidth,o=!1,i=!1,r=!1;if(this._resized)if(Q.H(this._domNode)>Re)return this._domNode.style.maxWidth=t-28-n-15+"px",void(this._replaceInput.width=Q.H(this._findInput.domNode));if(447+n>=t&&(i=!0),447+n-De>=t&&(r=!0),447+n-De>=t+50&&(o=!0),Q.Y(this._domNode,"collapsed-find-widget",o),Q.Y(this._domNode,"narrow-find-widget",r),Q.Y(this._domNode,"reduced-find-widget",i),r||o||(this._domNode.style.maxWidth=t-28-n-15+"px"),this._resized){this._findInput.inputBox.layout();var s=this._findInput.inputBox.element.clientWidth;s>0&&(this._replaceInput.width=s)}else this._isReplaceVisible&&(this._replaceInput.width=Q.H(this._findInput.domNode))}}},FindWidget.prototype._getHeight=function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4},FindWidget.prototype._tryUpdateHeight=function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)},FindWidget.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},FindWidget.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},FindWidget.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},FindWidget.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(u.a.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},FindWidget.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},FindWidget.prototype._onFindInputKeyDown=function(e){return e.equals(3|Le)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?stopPropagationForMultiLineUpwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?stopPropagationForMultiLineDownwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0},FindWidget.prototype._onReplaceInputKeyDown=function(e){return e.equals(3|Le)?(le.h&&le.f&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(o.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ke,!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?stopPropagationForMultiLineUpwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?stopPropagationForMultiLineDownwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0},FindWidget.prototype.getHorizontalSashTop=function(e){return 0},FindWidget.prototype.getHorizontalSashLeft=function(e){return 0},FindWidget.prototype.getHorizontalSashWidth=function(e){return 500},FindWidget.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},FindWidget.prototype._buildDomNode=function(){var e=this;this._findInput=this._register(new de.a(null,this._contextViewProvider,{width:221,label:he,placeholder:pe,appendCaseSensitiveLabel:this._keybindingLabelFor(U),appendWholeWordsLabel:this._keybindingLabelFor(V),appendRegexLabel:this._keybindingLabelFor(G),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(e){return{content:e.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),le.d&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ie({label:ge+this._keybindingLabelFor(T),className:"codicon codicon-arrow-up",onTrigger:function(){e._codeEditor.getAction(T).run().then(void 0,ce.e)}})),this._nextBtn=this._register(new Ie({label:fe+this._keybindingLabelFor(E),className:"codicon codicon-arrow-down",onTrigger:function(){e._codeEditor.getAction(E).run().then(void 0,ce.e)}}));var t=document.createElement("div");t.className="find-part",t.appendChild(this._findInput.domNode);var n=document.createElement("div");n.className="find-actions",t.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new se.a({actionClassName:"codicon codicon-selection",title:me+this._keybindingLabelFor(K),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)}))),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ie({label:_e+this._keybindingLabelFor(B),className:"codicon codicon-close",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new de.b(null,void 0,{label:ve,placeholder:be,history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new Ie({label:ye+this._keybindingLabelFor(q),className:"codicon codicon-replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new Ie({label:Ce+this._keybindingLabelFor(Z),className:"codicon codicon-replace-all",onTrigger:function(){e._controller.replaceAll()}}));var o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);var i=document.createElement("div");i.className="replace-actions",o.appendChild(i),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ie({label:we,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=Q.H(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(o),this._resizeSash=new ae.a(this._domNode,this,{orientation:0}),this._resized=!1;var r=Re;this._register(this._resizeSash.onDidStart((function(){r=Q.H(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var n=r+t.startX-t.currentX;n<Re||(n>(parseFloat(Q.z(e._domNode).maxWidth)||0)||(e._domNode.style.width=n+"px",e._isReplaceVisible&&(e._replaceInput.width=Q.H(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))}))),this._register(this._resizeSash.onDidReset((function(){var t=Q.H(e._domNode);if(!(t<Re)){var n=Re;if(!e._resized||t===Re){var o=e._codeEditor.getLayoutInfo();n=o.width-28-o.minimapWidth-15,e._resized=!0}e._domNode.style.width=n+"px",e._isReplaceVisible&&(e._replaceInput.width=Q.H(e._findInput.domNode)),e._findInput.inputBox.layout()}})))},FindWidget.prototype.updateAccessibilitySupport=function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)},FindWidget.ID="editor.contrib.findWidget",FindWidget}($.a),Ie=function(e){function SimpleButton(t){var n=e.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.title=n._opts.label,n._domNode.tabIndex=0,n._domNode.className="button "+n._opts.className,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n.onclick(n._domNode,(function(e){n._opts.onTrigger(),e.preventDefault()})),n.onkeydown(n._domNode,(function(e){if(e.equals(10)||e.equals(3))return n._opts.onTrigger(),void e.preventDefault();n._opts.onKeyDown&&n._opts.onKeyDown(e)})),n}return ue(SimpleButton,e),Object.defineProperty(SimpleButton.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),SimpleButton.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},SimpleButton.prototype.focus=function(){this._domNode.focus()},SimpleButton.prototype.setEnabled=function(e){Q.Y(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},SimpleButton.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},SimpleButton.prototype.toggleClass=function(e,t){Q.Y(this._domNode,e,t)},SimpleButton}($.a);Object(_.e)((function(e,t){var addBackgroundColorRule=function(e,n){n&&t.addRule(".monaco-editor "+e+" { background-color: "+n+"; }")};addBackgroundColorRule(".findMatch",e.getColor(m.t)),addBackgroundColorRule(".currentFindMatch",e.getColor(m.r)),addBackgroundColorRule(".findScope",e.getColor(m.v)),addBackgroundColorRule(".find-widget",e.getColor(m.Q));var n=e.getColor(m.hc);n&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+n+"; }");var o=e.getColor(m.u);o&&t.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var i=e.getColor(m.s);i&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+i+"; padding: 1px; box-sizing: border-box; }");var r=e.getColor(m.w);r&&t.addRule(".monaco-editor .findScope { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var s=e.getColor(m.e);s&&t.addRule(".monaco-editor .find-widget { border: 1px solid "+s+"; }");var a=e.getColor(m.S);a&&t.addRule(".monaco-editor .find-widget { color: "+a+"; }");var c=e.getColor(m.U);c&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+c+"; }");var l=e.getColor(m.T);if(l)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+l+"; width: 3px !important; margin-left: -4px;}");else{var d=e.getColor(m.R);d&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+d+"; width: 3px !important; margin-left: -4px;}")}var u=e.getColor(m.V);u&&t.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+u+"; }")}));var Ne=n("9XeP"),Pe=n("Uzvx"),xe=n("Cg/j"),Ee=n("bexQ"),Te=n("A+jI"),je=n("sM1p"),We=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}};function getSelectionSearchString(e){if(!e.hasModel())return null;var t=e.getSelection();if(t.startLineNumber===t.endLineNumber)if(t.isEmpty()){var n=e.getModel().getWordAtPosition(t.getStartPosition());if(n)return n.word}else if(e.getModel().getValueLengthInRange(t)<524288)return e.getModel().getValueInRange(t);return null}var He=function(e){function CommonFindController(t,n,o,r){var s=e.call(this)||this;return s._editor=t,s._findWidgetVisible=D.bindTo(n),s._contextKeyService=n,s._storageService=o,s._clipboardService=r,s._updateHistoryDelayer=new i.a(500),s._state=s._register(new ie),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange((function(e){return s._onStateChanged(e)}))),s._model=null,s._register(s._editor.onDidChangeModel((function(){var e=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})}))),s}return We(CommonFindController,e),CommonFindController.get=function(e){return e.getContribution(CommonFindController.ID)},CommonFindController.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},CommonFindController.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},CommonFindController.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},CommonFindController.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},CommonFindController.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},CommonFindController.prototype.isFindInputFocused=function(){return!!k.getValue(this._contextKeyService)},CommonFindController.prototype.getState=function(){return this._state},CommonFindController.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},CommonFindController.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},CommonFindController.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()||this._state.change({searchScope:e},!0)}},CommonFindController.prototype.setSearchString=function(e){this._state.isRegex&&(e=s.p(e)),this._state.change({searchString:e},!1)},CommonFindController.prototype.highlightFindOptions=function(){},CommonFindController.prototype._start=function(e){if(this.disposeModel(),this._editor.hasModel()){var t,n={isRevealed:!0};if(e.seedSearchStringFromSelection)(t=getSelectionSearchString(this._editor))&&(this._state.isRegex?n.searchString=s.p(t):n.searchString=t);if(!n.searchString&&e.seedSearchStringFromGlobalClipboard)(t=this.getGlobalBufferTerm())&&(n.searchString=t);if(e.forceRevealReplace?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){var o=this._editor.getSelection();o.isEmpty()||(n.searchScope=o)}this._state.change(n,!1),this._model||(this._model=new X(this._editor,this._state))}},CommonFindController.prototype.start=function(e){this._start(e)},CommonFindController.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},CommonFindController.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},CommonFindController.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},CommonFindController.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},CommonFindController.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},CommonFindController.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},CommonFindController.prototype.setGlobalBufferTerm=function(e){this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)},CommonFindController.ID="editor.contrib.findController",CommonFindController=__decorate([__param(1,R.c),__param(2,Te.a),__param(3,Ne.a)],CommonFindController)}(r.a),Be=function(e){function FindController(t,n,o,i,r,s,a,c){var l=e.call(this,t,o,a,c)||this;return l._contextViewService=n,l._keybindingService=i,l._themeService=r,l._notificationService=s,l._widget=null,l._findOptionsWidget=null,l}return We(FindController,e),FindController.prototype._start=function(t){this._widget||this._createFindWidget();var n=this._editor.getSelection(),o=!1;switch(this._editor.getOption(28).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":o=!!n&&n.startLineNumber!==n.endLineNumber}t.updateSearchScope=o,e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},FindController.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},FindController.prototype._createFindWidget=function(){this._widget=this._register(new Fe(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new te(this._editor,this._state,this._keybindingService,this._themeService))},FindController=__decorate([__param(1,Pe.b),__param(2,R.c),__param(3,Ee.a),__param(4,_.c),__param(5,je.a),__param(6,Te.a),__param(7,Object(xe.d)(Ne.a))],FindController)}(He),Ue=function(e){function StartFindAction(){return e.call(this,{id:P,label:o.a("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:17,group:"3_find",title:o.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return We(StartFindAction,e),StartFindAction.prototype.run=function(e,t){var n=He.get(t);n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(28).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},StartFindAction}(a.b),Ve=function(e){function StartFindWithSelectionAction(){return e.call(this,{id:x,label:o.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return We(StartFindWithSelectionAction,e),StartFindWithSelectionAction.prototype.run=function(e,t){var n=He.get(t);n&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),n.setGlobalBufferTerm(n.getState().searchString))},StartFindWithSelectionAction}(a.b),Ge=function(e){function MatchFindAction(){return null!==e&&e.apply(this,arguments)||this}return We(MatchFindAction,e),MatchFindAction.prototype.run=function(e,t){var n=He.get(t);n&&!this._run(n)&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(n))},MatchFindAction}(a.b),Ke=function(e){function NextMatchFindAction(){return e.call(this,{id:E,label:o.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return We(NextMatchFindAction,e),NextMatchFindAction.prototype._run=function(e){return e.moveToNextMatch()},NextMatchFindAction}(Ge),qe=function(e){function NextMatchFindAction2(){return e.call(this,{id:E,label:o.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:R.a.and(c.a.focus,k),primary:3,weight:100}})||this}return We(NextMatchFindAction2,e),NextMatchFindAction2.prototype._run=function(e){return e.moveToNextMatch()},NextMatchFindAction2}(Ge),Ze=function(e){function PreviousMatchFindAction(){return e.call(this,{id:T,label:o.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return We(PreviousMatchFindAction,e),PreviousMatchFindAction.prototype._run=function(e){return e.moveToPrevMatch()},PreviousMatchFindAction}(Ge),ze=function(e){function PreviousMatchFindAction2(){return e.call(this,{id:T,label:o.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:R.a.and(c.a.focus,k),primary:1027,weight:100}})||this}return We(PreviousMatchFindAction2,e),PreviousMatchFindAction2.prototype._run=function(e){return e.moveToPrevMatch()},PreviousMatchFindAction2}(Ge),Ye=function(e){function SelectionMatchFindAction(){return null!==e&&e.apply(this,arguments)||this}return We(SelectionMatchFindAction,e),SelectionMatchFindAction.prototype.run=function(e,t){var n=He.get(t);if(n){var o=getSelectionSearchString(t);o&&n.setSearchString(o),this._run(n)||(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(n))}},SelectionMatchFindAction}(a.b),Xe=function(e){function NextSelectionMatchFindAction(){return e.call(this,{id:j,label:o.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:2109,weight:100}})||this}return We(NextSelectionMatchFindAction,e),NextSelectionMatchFindAction.prototype._run=function(e){return e.moveToNextMatch()},NextSelectionMatchFindAction}(Ye),Qe=function(e){function PreviousSelectionMatchFindAction(){return e.call(this,{id:W,label:o.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:3133,weight:100}})||this}return We(PreviousSelectionMatchFindAction,e),PreviousSelectionMatchFindAction.prototype._run=function(e){return e.moveToPrevMatch()},PreviousSelectionMatchFindAction}(Ye),Je=function(e){function StartFindReplaceAction(){return e.call(this,{id:H,label:o.a("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:17,group:"3_find",title:o.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return We(StartFindReplaceAction,e),StartFindReplaceAction.prototype.run=function(e,t){if(t.hasModel()&&!t.getOption(68)){var n=He.get(t),o=t.getSelection(),i=n.isFindInputFocused(),r=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&t.getOption(28).seedSearchStringFromSelection&&!i,s=i||r?2:1;n&&n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:t.getOption(28).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1})}},StartFindReplaceAction}(a.b);Object(a.h)(He.ID,Be),Object(a.f)(Ue),Object(a.f)(Ve),Object(a.f)(Ke),Object(a.f)(qe),Object(a.f)(Ze),Object(a.f)(ze),Object(a.f)(Xe),Object(a.f)(Qe),Object(a.f)(Je);var $e=a.c.bindToContribution(He.get);Object(a.g)(new $e({id:B,precondition:D,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:9,secondary:[1033]}})),Object(a.g)(new $e({id:U,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),Object(a.g)(new $e({id:V,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:F.primary,mac:F.mac,win:F.win,linux:F.linux}})),Object(a.g)(new $e({id:G,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:I.primary,mac:I.mac,win:I.win,linux:I.linux}})),Object(a.g)(new $e({id:K,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:N.primary,mac:N.mac,win:N.win,linux:N.linux}})),Object(a.g)(new $e({id:q,precondition:D,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:3094}})),Object(a.g)(new $e({id:q,precondition:D,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:R.a.and(c.a.focus,L),primary:3}})),Object(a.g)(new $e({id:Z,precondition:D,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:2563}})),Object(a.g)(new $e({id:Z,precondition:D,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:R.a.and(c.a.focus,L),primary:void 0,mac:{primary:2051}}})),Object(a.g)(new $e({id:z,precondition:D,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:c.a.focus,primary:515}}))},rugR:function(e,t,n){"use strict";n.r(t),n.d(t,"ModesHoverController",(function(){return ee}));var o=n("3/fG"),i=n("/kV6"),r=n("pmY6"),s=n("sswD"),a=n("aokT"),c=n("wQH0"),l=n("WBhO"),d=n("EffR"),u=n("JQT/"),h=n("zrhQ"),p=n("eLzo"),g=n("cGHE"),f=n("tX9W"),m=n("twdY"),_=n("ZIMw"),v=n("kqbb"),b=n("rtch"),y=n("WNsU"),C=n("6OMU"),w=n("/cxE");function getHover(e,t,n){var o=m.p.ordered(e).map((function(o){return Promise.resolve(o.provideHover(e,t,n)).then((function(e){return e&&function isValid(e){var t=void 0!==e.range,n=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&n}(e)?e:void 0}),(function(e){Object(w.f)(e)}))}));return Promise.all(o).then(C.d)}Object(s.k)("_executeHoverProvider",(function(e,t){return getHover(e,t,u.a.None)}));var M=n("X+cX"),S=function(){function HoverOperation(e,t,n,o,i){var r=this;this._computer=e,this._state=0,this._hoverTime=i,this._firstWaitScheduler=new M.d((function(){return r._triggerAsyncComputation()}),0),this._secondWaitScheduler=new M.d((function(){return r._triggerSyncComputation()}),0),this._loadingMessageScheduler=new M.d((function(){return r._showLoadingMessage()}),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=o}return HoverOperation.prototype.setHoverTime=function(e){this._hoverTime=e},HoverOperation.prototype._firstWaitTime=function(){return this._hoverTime/2},HoverOperation.prototype._secondWaitTime=function(){return this._hoverTime/2},HoverOperation.prototype._loadingMessageTime=function(){return 3*this._hoverTime},HoverOperation.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(M.f)((function(t){return e._computer.computeAsync(t)})),this._asyncComputationPromise.then((function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}),(function(t){return e._onError(t)}))):this._asyncComputationPromiseDone=!0},HoverOperation.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},HoverOperation.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},HoverOperation.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},HoverOperation.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},HoverOperation.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):Object(w.e)(e)},HoverOperation.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},HoverOperation.prototype.start=function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}},HoverOperation.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},HoverOperation}(),O=n("GJhM"),R=n("G300"),D=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o},k=function(e){function ContentHoverWidget(t,n){var o=e.call(this)||this;return o.allowEditorOverflow=!0,o._id=t,o._editor=n,o._isVisible=!1,o._stoleFocus=!1,o._containerDomNode=document.createElement("div"),o._containerDomNode.className="monaco-editor-hover hidden",o._containerDomNode.tabIndex=0,o._domNode=document.createElement("div"),o._domNode.className="monaco-editor-hover-content",o.scrollbar=new O.a(o._domNode,{}),o._register(o.scrollbar),o._containerDomNode.appendChild(o.scrollbar.getDomNode()),o.onkeydown(o._containerDomNode,(function(e){e.equals(9)&&o.hide()})),o._register(o._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o.updateFont()}))),o._editor.onDidLayoutChange((function(e){return o.layout()})),o.layout(),o._editor.addContentWidget(o),o._showAtPosition=null,o._showAtRange=null,o._stoleFocus=!1,o}return D(ContentHoverWidget,e),Object.defineProperty(ContentHoverWidget.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(d.Y)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),ContentHoverWidget.prototype.getId=function(){return this._id},ContentHoverWidget.prototype.getDomNode=function(){return this._containerDomNode},ContentHoverWidget.prototype.showAt=function(e,t,n){this._showAtPosition=e,this._showAtRange=t,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._containerDomNode.focus()},ContentHoverWidget.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},ContentHoverWidget.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},ContentHoverWidget.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},ContentHoverWidget.prototype.updateFont=function(){var e=this;Array.prototype.slice.call(this._domNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))},ContentHoverWidget.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},ContentHoverWidget.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},ContentHoverWidget.prototype.layout=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(34),n=t.fontSize,o=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=o+"px",this._domNode.style.maxHeight=e+"px",this._domNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"},ContentHoverWidget}(R.a),L=function(e){function GlyphHoverWidget(t,n){var o=e.call(this)||this;return o._id=t,o._editor=n,o._isVisible=!1,o._domNode=document.createElement("div"),o._domNode.className="monaco-editor-hover hidden",o._domNode.setAttribute("aria-hidden","true"),o._domNode.setAttribute("role","presentation"),o._showAtLineNumber=-1,o._register(o._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o.updateFont()}))),o._editor.addOverlayWidget(o),o}return D(GlyphHoverWidget,e),Object.defineProperty(GlyphHoverWidget.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(d.Y)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),GlyphHoverWidget.prototype.getId=function(){return this._id},GlyphHoverWidget.prototype.getDomNode=function(){return this._domNode},GlyphHoverWidget.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),o=this._editor.getScrollTop(),i=this._editor.getOption(49),r=n-o-(this._domNode.clientHeight-i)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"},GlyphHoverWidget.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},GlyphHoverWidget.prototype.getPosition=function(){return null},GlyphHoverWidget.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},GlyphHoverWidget.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));__spreadArrays(t,n).forEach((function(t){return e._editor.applyFontInfo(t)}))},GlyphHoverWidget.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},GlyphHoverWidget}(R.a),A=n("3qCu"),F=n("t9D7"),I=n("tADe"),N=n("gslv"),P=n("W9cx"),x=n("lY/7"),E=n("hJVp"),T=n("C1Q+"),j=n("nlbu"),W=n("MD5Z"),H=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),modesContentHover_spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o},B=d.a,U=function U(e,t,n){this.range=e,this.color=t,this.provider=n},V=function V(e,t){this.range=e,this.marker=t},G=function(){function ModesContentComputer(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return ModesContentComputer.prototype.setRange=function(e){this._range=e,this._result=[]},ModesContentComputer.prototype.clearResult=function(){this._result=[]},ModesContentComputer.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return m.p.has(t)?getHover(t,new g.a(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},ModesContentComputer.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),n=this._range.startLineNumber;if(n>this._editor.getModel().getLineCount())return[];var o=v.ColorDetector.get(this._editor),i=t.getLineMaxColumn(n),r=this._editor.getLineDecorations(n),s=!1,c=this._range,l=r.map((function(r){var l=r.range.startLineNumber===n?r.range.startColumn:1,d=r.range.endLineNumber===n?r.range.endColumn:i;if(l>c.startColumn||c.endColumn>d)return null;var u=new a.a(c.startLineNumber,l,c.startLineNumber,d),h=e._markerDecorationsService.getMarker(t,r);if(h)return new V(u,h);var g=o.getColorData(r.range.getStartPosition());if(!s&&g){s=!0;var f=g.colorInfo,m=f.color,_=f.range;return new U(_,m,g.provider)}return Object(p.b)(r.options.hoverMessage)?null:{contents:r.options.hoverMessage?Object(C.b)(r.options.hoverMessage):[],range:u}}));return Object(C.d)(l)},ModesContentComputer.prototype.onResult=function(e,t){this._result=t?e.concat(this._result.sort((function(e,t){return e instanceof U?-1:t instanceof U?1:0}))):this._result.concat(e)},ModesContentComputer.prototype.getResult=function(){return this._result.slice(0)},ModesContentComputer.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},ModesContentComputer.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new p.a).appendText(o.a("modesContentHover.loading","Loading..."))]}},ModesContentComputer}(),K={type:2,filter:{include:j.b.QuickFix}},q=function(e){function ModesContentHoverWidget(t,n,o,i,s,a){void 0===a&&(a=P.b);var c=e.call(this,ModesContentHoverWidget.ID,t)||this;return c._themeService=o,c._keybindingService=i,c._modeService=s,c._openerService=a,c.renderDisposable=c._register(new r.d),c._messages=[],c._lastRange=null,c._computer=new G(c._editor,n),c._highlightDecorations=[],c._isChangingDecorations=!1,c._shouldFocus=!1,c._colorPicker=null,c._hoverOperation=new S(c._computer,(function(e){return c._withResult(e,!0)}),null,(function(e){return c._withResult(e,!1)}),c._editor.getOption(44).delay),c._register(d.o(c.getDomNode(),d.d.FOCUS,(function(){c._colorPicker&&d.f(c.getDomNode(),"colorpicker-hover")}))),c._register(d.o(c.getDomNode(),d.d.BLUR,(function(){d.P(c.getDomNode(),"colorpicker-hover")}))),c._register(t.onDidChangeConfiguration((function(e){c._hoverOperation.setHoverTime(c._editor.getOption(44).delay)}))),c._register(m.B.onDidChange((function(e){c.isVisible&&c._lastRange&&c._messages.length>0&&(c._domNode.textContent="",c._renderMessages(c._lastRange,c._messages))}))),c}return H(ModesContentHoverWidget,e),ModesContentHoverWidget.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},ModesContentHoverWidget.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},ModesContentHoverWidget.prototype.startShowingAt=function(e,t,n){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){for(var o=[],i=0,r=this._messages.length;i<r;i++){var s=this._messages[i],a=s.range;a&&a.startColumn<=e.startColumn&&a.endColumn>=e.endColumn&&o.push(s)}if(o.length>0){if(function hoverContentsEquals(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var o=e[n],i=t[n];if(o instanceof V&&i instanceof V)return I.a.makeKey(o.marker)===I.a.makeKey(i.marker);if(o instanceof U||i instanceof U)return!1;if(o instanceof V||i instanceof V)return!1;if(!Object(p.c)(o.contents,i.contents))return!1}return!0}(o,this._messages))return;this._renderMessages(e,o)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=n,this._hoverOperation.start(t)}},ModesContentHoverWidget.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},ModesContentHoverWidget.prototype.isColorPickerVisible=function(){return!!this._colorPicker},ModesContentHoverWidget.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},ModesContentHoverWidget.prototype._renderMessages=function(e,t){var n=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=1073741824,i=t[0].range?a.a.lift(t[0].range):null,s=document.createDocumentFragment(),c=!0,l=!1,f=new r.b,m=[];if(t.forEach((function(e){if(e.range)if(o=Math.min(o,e.range.startColumn),i=i?a.a.plusRange(i,e.range):a.a.lift(e.range),e instanceof U){l=!0;var t=e.color,g=t.red,v=t.green,C=t.blue,w=t.alpha,M=new h.c(Math.round(255*g),Math.round(255*v),Math.round(255*C),w),S=new h.a(M);if(!n._editor.hasModel())return;var O=n._editor.getModel(),R=new a.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),D={range:e.range,color:e.color},k=new b.a(S,[],0),L=new y.a(s,k,n._editor.getOption(105),n._themeService);Object(_.a)(O,D,e.provider,u.a.None).then((function(t){if(k.colorPresentations=t||[],n._editor.hasModel()){var o=n._editor.getModel().getValueInRange(e.range);k.guessColorPresentation(S,o);var updateEditorModel=function(){var e,t;k.presentation.textEdit?(e=[k.presentation.textEdit],t=(t=new a.a(k.presentation.textEdit.range.startLineNumber,k.presentation.textEdit.range.startColumn,k.presentation.textEdit.range.endLineNumber,k.presentation.textEdit.range.endColumn)).setEndPosition(t.endLineNumber,t.startColumn+k.presentation.textEdit.text.length)):(e=[{identifier:null,range:R,text:k.presentation.label,forceMoveMarkers:!1}],t=R.setEndPosition(R.endLineNumber,R.startColumn+k.presentation.label.length)),n._editor.pushUndoStop(),n._editor.executeEdits("colorpicker",e),k.presentation.additionalTextEdits&&(e=modesContentHover_spreadArrays(k.presentation.additionalTextEdits),n._editor.executeEdits("colorpicker",e),n.hide()),n._editor.pushUndoStop(),R=t},updateColorPresentations=function(t){return Object(_.a)(O,{range:R,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},e.provider,u.a.None).then((function(e){k.colorPresentations=e||[]}))},i=k.onColorFlushed((function(e){updateColorPresentations(e).then(updateEditorModel)})),c=k.onDidChangeColor(updateColorPresentations);n._colorPicker=L,n.showAt(R.getStartPosition(),R,n._shouldFocus),n.updateContents(s),n._colorPicker.layout(),n.renderDisposable.value=Object(r.e)(i,c,L,f)}}))}else e instanceof V?(m.push(e),c=!1):e.contents.filter((function(e){return!Object(p.b)(e)})).forEach((function(e){var t=B("div.hover-row.markdown-hover"),o=d.q(t,B("div.hover-contents")),i=f.add(new A.a(n._editor,n._modeService,n._openerService));f.add(i.onDidRenderCodeBlock((function(){o.className="hover-contents code-hover-contents",n.onContentsChange()})));var r=f.add(i.render(e));o.appendChild(r.element),s.appendChild(t),c=!1}))})),m.length){m.forEach((function(e){return s.appendChild(n.renderMarkerHover(e))}));var v=1===m.length?m[0]:m.sort((function(e,t){return I.c.compare(e.marker.severity,t.marker.severity)}))[0];s.appendChild(this.renderMarkerStatusbar(v))}l||c||(this.showAt(new g.a(e.startLineNumber,o),i,this._shouldFocus),this.updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,i?[{range:i,options:ModesContentHoverWidget._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},ModesContentHoverWidget.prototype.renderMarkerHover=function(e){var t=this,n=B("div.hover-row"),o=d.q(n,B("div.marker.hover-contents")),i=e.marker,r=i.source,s=i.message,a=i.code,c=i.relatedInformation;this._editor.applyFontInfo(o);var l=d.q(o,B("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=s,r||a)if("string"==typeof a)(u=d.q(o,B("span"))).style.opacity="0.6",u.style.paddingLeft="6px",u.innerText=r&&a?r+"("+a+")":r||"("+a+")";else if(a){var u,h=B("span");if(r)d.q(h,B("span")).innerText=r;this._codeLink=d.q(h,B("a.code-link")),this._codeLink.setAttribute("href",a.link.toString()),this._codeLink.onclick=function(e){t._openerService.open(a.link),e.preventDefault(),e.stopPropagation()},d.q(this._codeLink,B("span")).innerText=a.value,(u=d.q(o,h)).style.opacity="0.6",u.style.paddingLeft="6px"}if(Object(C.q)(c))for(var _loop_1=function(e,n,i,r){var s=d.q(o,B("div"));s.style.marginTop="8px";var a=d.q(s,B("a"));a.innerText=Object(N.b)(n)+"("+i+", "+r+"): ",a.style.cursor="pointer",a.onclick=function(e){e.stopPropagation(),e.preventDefault(),t._openerService&&t._openerService.open(n.with({fragment:i+","+r}),{fromUserGesture:!0}).catch(w.e)};var c=d.q(s,B("span"));c.innerText=e,p._editor.applyFontInfo(c)},p=this,g=0,f=c;g<f.length;g++){var m=f[g];_loop_1(m.message,m.resource,m.startLineNumber,m.startColumn)}return n},ModesContentHoverWidget.prototype.renderMarkerStatusbar=function(e){var t=this,n=B("div.hover-row.status-bar"),i=new r.b,s=d.q(n,B("div.actions"));e.marker.severity!==I.c.Error&&e.marker.severity!==I.c.Warning&&e.marker.severity!==I.c.Info||i.add(this.renderAction(s,{label:o.a("peek problem","Peek Problem"),commandId:x.NextMarkerAction.ID,run:function(){t.hide(),x.MarkerController.get(t._editor).show(e.marker),t._editor.focus()}}));var a=d.q(s,B("div"));a.style.opacity="0",a.style.transition="opacity 0.2s",setTimeout((function(){return a.style.opacity="1"}),200),a.textContent=o.a("checkingForQuickFixes","Checking for quick fixes..."),i.add(Object(r.h)((function(){return a.remove()})));var c=this.getCodeActions(e.marker);return i.add(Object(r.h)((function(){return c.cancel()}))),c.then((function(e){if(a.style.transition="",a.style.opacity="1",!e.validActions.length)return e.dispose(),void(a.textContent=o.a("noQuickFixes","No quick fixes available"));a.remove();var n=!1;i.add(Object(r.h)((function(){n||e.dispose()}))),i.add(t.renderAction(s,{label:o.a("quick fixes","Quick Fix..."),commandId:T.e.Id,run:function(o){n=!0;var i=T.f.get(t._editor),r=d.C(o);i.showCodeActions(K,e,{x:r.left+6,y:r.top+r.height+6})}}))})),this.renderDisposable.value=i,n},ModesContentHoverWidget.prototype.getCodeActions=function(e){var t=this;return Object(M.f)((function(n){return Object(E.c)(t._editor.getModel(),new a.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),K,n)}))},ModesContentHoverWidget.prototype.renderAction=function(e,t){var n=d.q(e,B("div.action-container")),o=d.q(n,B("a.action"));t.iconClass&&d.q(o,B("span.icon."+t.iconClass));var i=d.q(o,B("span"));i.textContent=t.label;var r=this._keybindingService.lookupKeybinding(t.commandId);return r&&(i.title=t.label+" ("+r.getLabel()+")"),d.j(n,d.d.CLICK,(function(e){e.stopPropagation(),e.preventDefault(),t.run(n)}))},ModesContentHoverWidget.ID="editor.contrib.modesContentHoverWidget",ModesContentHoverWidget._DECORATION_OPTIONS=f.a.register({className:"hoverHighlight"}),ModesContentHoverWidget}(k);Object(F.e)((function(e,t){var n=e.getColor(W.ec);n&&t.addRule(".monaco-editor-hover .hover-contents a.code-link span:hover { color: "+n+"; }")}));var Z=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),z=function(){function MarginComputer(e){this._editor=e,this._lineNumber=-1,this._result=[]}return MarginComputer.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},MarginComputer.prototype.clearResult=function(){this._result=[]},MarginComputer.prototype.computeSync=function(){var toHoverMessage=function(e){return{value:e}},e=this._editor.getLineDecorations(this._lineNumber),t=[];if(!e)return t;for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i.options.glyphMarginClassName){var r=i.options.glyphMarginHoverMessage;r&&!Object(p.b)(r)&&t.push.apply(t,Object(C.b)(r).map(toHoverMessage))}}return t},MarginComputer.prototype.onResult=function(e,t){this._result=this._result.concat(e)},MarginComputer.prototype.getResult=function(){return this._result},MarginComputer.prototype.getResultWithLoadingMessage=function(){return this.getResult()},MarginComputer}(),Y=function(e){function ModesGlyphHoverWidget(t,n,o){void 0===o&&(o=P.b);var i=e.call(this,ModesGlyphHoverWidget.ID,t)||this;return i._renderDisposeables=i._register(new r.b),i._messages=[],i._lastLineNumber=-1,i._markdownRenderer=i._register(new A.a(i._editor,n,o)),i._computer=new z(i._editor),i._hoverOperation=new S(i._computer,(function(e){return i._withResult(e)}),void 0,(function(e){return i._withResult(e)}),300),i}return Z(ModesGlyphHoverWidget,e),ModesGlyphHoverWidget.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},ModesGlyphHoverWidget.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},ModesGlyphHoverWidget.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))},ModesGlyphHoverWidget.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},ModesGlyphHoverWidget.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},ModesGlyphHoverWidget.prototype._renderMessages=function(e,t){this._renderDisposeables.clear();for(var n=document.createDocumentFragment(),o=0,i=t;o<i.length;o++){var r=i[o],s=this._markdownRenderer.render(r.value);this._renderDisposeables.add(s),n.appendChild(Object(d.a)("div.hover-row",void 0,s.element))}this.updateContents(n),this.showAt(e)},ModesGlyphHoverWidget.ID="editor.contrib.modesGlyphHoverWidget",ModesGlyphHoverWidget}(L),X=n("79sc"),Q=n("bexQ"),J=n("H4T2"),$=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__param=function(e,t){return function(n,o){t(n,o,e)}},ee=function(){function ModesHoverController(e,t,n,o,i,s){var a=this;this._editor=e,this._openerService=t,this._modeService=n,this._markerDecorationsService=o,this._keybindingService=i,this._themeService=s,this._toUnhook=new r.b,this._contentWidget=new r.d,this._glyphWidget=new r.d,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(44)&&(a._hideWidgets(),a._unhookEvents(),a._hookEvents())}))}return Object.defineProperty(ModesHoverController.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(ModesHoverController.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),ModesHoverController.get=function(e){return e.getContribution(ModesHoverController.ID)},ModesHoverController.prototype._hookEvents=function(){var e=this,hideWidgetsEventHandler=function(){return e._hideWidgets()},t=this._editor.getOption(44);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)}))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((function(){return e._onModelDecorationsChanged()})))):this._toUnhook.add(this._editor.onMouseMove(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))},ModesHoverController.prototype._unhookEvents=function(){this._toUnhook.clear()},ModesHoverController.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},ModesHoverController.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},ModesHoverController.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==q.ID?12===t&&e.target.detail===Y.ID||(12!==t&&e.target.detail!==Y.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},ModesHoverController.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},ModesHoverController.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible()||this._isHoverSticky&&9===t&&e.target.detail===q.ID||this._isHoverSticky&&12===t&&e.target.detail===Y.ID)){if(7===t){var n=this._editor.getOption(34).typicalHalfwidthCharacterWidth/2,o=e.target.detail;o&&!o.isAfterLines&&"number"==typeof o.horizontalDistanceToText&&o.horizontalDistanceToText<n&&(t=6)}6===t?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):2===t?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},ModesHoverController.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()},ModesHoverController.prototype._hideWidgets=function(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())},ModesHoverController.prototype._createHoverWidgets=function(){this._contentWidget.value=new q(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new Y(this._editor,this._modeService,this._openerService)},ModesHoverController.prototype.showContentHover=function(e,t,n){this.contentWidget.startShowingAt(e,t,n)},ModesHoverController.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},ModesHoverController.ID="editor.contrib.hover",ModesHoverController=__decorate([__param(1,P.a),__param(2,l.a),__param(3,X.a),__param(4,Q.a),__param(5,F.c)],ModesHoverController)}(),te=function(e){function ShowHoverAction(){return e.call(this,{id:"editor.action.showHover",label:o.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:c.a.editorTextFocus,primary:Object(i.a)(2089,2087),weight:100}})||this}return $(ShowHoverAction,e),ShowHoverAction.prototype.run=function(e,t){if(t.hasModel()){var n=ee.get(t);if(n){var o=t.getPosition(),i=new a.a(o.lineNumber,o.column,o.lineNumber,o.column),r=2===t.getOption(2);n.showContentHover(i,1,r)}}},ShowHoverAction}(s.b),ne=function(e){function ShowDefinitionPreviewHoverAction(){return e.call(this,{id:"editor.action.showDefinitionPreviewHover",label:o.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return $(ShowDefinitionPreviewHoverAction,e),ShowDefinitionPreviewHoverAction.prototype.run=function(e,t){var n=ee.get(t);if(n){var o=t.getPosition();if(o){var i=new a.a(o.lineNumber,o.column,o.lineNumber,o.column),r=J.GotoDefinitionAtPositionEditorContribution.get(t).startFindDefinitionFromCursor(o);r?r.then((function(){n.showContentHover(i,1,!0)})):n.showContentHover(i,1,!0)}}},ShowDefinitionPreviewHoverAction}(s.b);Object(s.h)(ee.ID,ee),Object(s.f)(te),Object(s.f)(ne),Object(F.e)((function(e,t){var n=e.getColor(W.D);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+n+"; }");var o=e.getColor(W.A);o&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+o+"; }");var i=e.getColor(W.B);i&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+i+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+i.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+i.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+i.transparent(.5)+"; }"));var r=e.getColor(W.ec);r&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var s=e.getColor(W.C);s&&t.addRule(".monaco-editor .monaco-editor-hover { color: "+s+"; }");var a=e.getColor(W.E);a&&t.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+a+"; }");var c=e.getColor(W.dc);c&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+c+"; }")}))},vRMv:function(e,t,n){"use strict";n.d(t,"b",(function(){return getDefinitionsAtPosition})),n.d(t,"a",(function(){return getDeclarationsAtPosition})),n.d(t,"c",(function(){return getImplementationsAtPosition})),n.d(t,"e",(function(){return getTypeDefinitionsAtPosition})),n.d(t,"d",(function(){return getReferencesAtPosition}));var o=n("6OMU"),i=n("JQT/"),r=n("/cxE"),s=n("sswD"),a=n("twdY"),__awaiter=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function getLocationLinks(e,t,n,i){var s=n.ordered(e).map((function(n){return Promise.resolve(i(n,e,t)).then(void 0,(function(e){Object(r.f)(e)}))}));return Promise.all(s).then(o.m).then(o.d)}function getDefinitionsAtPosition(e,t,n){return getLocationLinks(e,t,a.f,(function(e,t,o){return e.provideDefinition(t,o,n)}))}function getDeclarationsAtPosition(e,t,n){return getLocationLinks(e,t,a.e,(function(e,t,o){return e.provideDeclaration(t,o,n)}))}function getImplementationsAtPosition(e,t,n){return getLocationLinks(e,t,a.q,(function(e,t,o){return e.provideImplementation(t,o,n)}))}function getTypeDefinitionsAtPosition(e,t,n){return getLocationLinks(e,t,a.C,(function(e,t,o){return e.provideTypeDefinition(t,o,n)}))}function getReferencesAtPosition(e,t,n,o){var i=this;return getLocationLinks(e,t,a.u,(function(e,t,r){return __awaiter(i,void 0,void 0,(function(){var i,s;return __generator(this,(function(a){switch(a.label){case 0:return[4,e.provideReferences(t,r,{includeDeclaration:!0},o)];case 1:return i=a.sent(),n&&i&&2===i.length?[4,e.provideReferences(t,r,{includeDeclaration:!1},o)]:[2,i];case 2:return(s=a.sent())&&1===s.length?[2,s]:[2,i]}}))}))}))}Object(s.k)("_executeDefinitionProvider",(function(e,t){return getDefinitionsAtPosition(e,t,i.a.None)})),Object(s.k)("_executeDeclarationProvider",(function(e,t){return getDeclarationsAtPosition(e,t,i.a.None)})),Object(s.k)("_executeImplementationProvider",(function(e,t){return getImplementationsAtPosition(e,t,i.a.None)})),Object(s.k)("_executeTypeDefinitionProvider",(function(e,t){return getTypeDefinitionsAtPosition(e,t,i.a.None)})),Object(s.k)("_executeReferenceProvider",(function(e,t){return getReferencesAtPosition(e,t,!1,i.a.None)}))}}]);
//# sourceMappingURL=157.9ace5ce81d03317b130b.chunk.js.map