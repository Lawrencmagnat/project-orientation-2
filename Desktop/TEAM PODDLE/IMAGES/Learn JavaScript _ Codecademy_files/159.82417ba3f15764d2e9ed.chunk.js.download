(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[159],{"+G7+":function(e,t,i){"use strict";i.d(t,"a",(function(){return getDocumentSymbols}));var o=i("bY76"),n=i("aokT"),r=i("G2kB"),s=i("JQT/"),a=i("t49l"),c=i("cPWS"),l=i("vl9R"),u=i("nnTU"),d=i("746U"),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function getDocumentSymbols(e,t,i){return __awaiter(this,void 0,void 0,(function(){var o,n,r,s,a,u;return __generator(this,(function(d){switch(d.label){case 0:return[4,c.b.create(e,i)];case 1:for(o=d.sent(),n=[],r=0,s=Object(l.d)(o.children);r<s.length;r++)(a=s[r])instanceof c.a?n.push(a.symbol):n.push.apply(n,Object(l.d)(a.children).map((function(e){return e.symbol})));return u=[],i.isCancellationRequested?[2,u]:(t?flatten(u,n,""):u=n,[2,u.sort(compareEntriesUsingStart)])}}))}))}function compareEntriesUsingStart(e,t){return n.a.compareRangesUsingStarts(e.range,t.range)}function flatten(e,t,i){for(var o=0,n=t;o<n.length;o++){var r=n[o];e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||i,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&flatten(e,r.children,r.name)}}u.a.registerCommand("_executeDocumentSymbolProvider",(function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return __awaiter(this,void 0,void 0,(function(){var i,n,c;return __generator(this,(function(l){switch(l.label){case 0:return i=t[0],Object(d.a)(o.a.isUri(i)),(n=e.get(r.a).getModel(i))?[2,getDocumentSymbols(n,!1,s.a.None)]:[4,e.get(a.a).createModelReference(i)];case 1:c=l.sent(),l.label=2;case 2:return l.trys.push([2,,4,5]),[4,getDocumentSymbols(c.object.textEditorModel,!1,s.a.None)];case 3:return[2,l.sent()];case 4:return c.dispose(),[7];case 5:return[2]}}))}))}))},"10Fh":function(e,t,i){"use strict";i.r(t),i.d(t,"provideSelectionRanges",(function(){return provideSelectionRanges}));var o=i("6OMU"),n=i("JQT/"),r=i("sswD"),s=i("cGHE"),a=i("aokT"),c=i("gCVg"),l=i("wQH0"),u=i("twdY"),d=i("3/fG"),h=i("pmY6"),p=i("N0LK"),g=function(){function WordSelectionRangeProvider(){}return WordSelectionRangeProvider.prototype.provideSelectionRanges=function(e,t){for(var i=[],o=0,n=t;o<n.length;o++){var r=n[o],s=[];i.push(s),this._addInWordRanges(s,e,r),this._addWordRanges(s,e,r),this._addWhitespaceLine(s,e,r),s.push({range:e.getFullModelRange()})}return i},WordSelectionRangeProvider.prototype._addInWordRanges=function(e,t,i){var o=t.getWordAtPosition(i);if(o){for(var n=o.word,r=o.startColumn,s=i.column-r,c=s,l=s,u=0;c>=0;c--){if(95===(d=n.charCodeAt(c))||45===d)break;if(Object(p.B)(d)&&Object(p.C)(u))break;u=d}for(c+=1;l<n.length;l++){var d=n.charCodeAt(l);if(Object(p.C)(d)&&Object(p.B)(u))break;if(95===d||45===d)break;u=d}c<l&&e.push({range:new a.a(i.lineNumber,r+c,i.lineNumber,r+l)})}},WordSelectionRangeProvider.prototype._addWordRanges=function(e,t,i){var o=t.getWordAtPosition(i);o&&e.push({range:new a.a(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})},WordSelectionRangeProvider.prototype._addWhitespaceLine=function(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new a.a(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})},WordSelectionRangeProvider}(),f=i("Z7SF"),m=i("nnTU"),_=i("/cxE"),b=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},v=function(){function SelectionRanges(e,t){this.index=e,this.ranges=t}return SelectionRanges.prototype.mov=function(e){var t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;var i=new SelectionRanges(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i},SelectionRanges}(),y=function(){function SmartSelectController(e){this._ignoreSelection=!1,this._editor=e}return SmartSelectController.get=function(e){return e.getContribution(SmartSelectController.ID)},SmartSelectController.prototype.dispose=function(){Object(h.f)(this._selectionListener)},SmartSelectController.prototype.run=function(e){var t=this;if(this._editor.hasModel()){var i=this._editor.getSelections(),r=this._editor.getModel();if(u.w.has(r)){var s=Promise.resolve(void 0);return this._state||(s=provideSelectionRanges(r,i.map((function(e){return e.getPosition()})),n.a.None).then((function(e){if(o.q(e)&&e.length===i.length&&t._editor.hasModel()&&o.g(t._editor.getSelections(),i,(function(e,t){return e.equalsSelection(t)}))){for(var _loop_1=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(i[t].getStartPosition())&&e.containsPosition(i[t].getEndPosition())})),e[t].unshift(i[t])},n=0;n<e.length;n++)_loop_1(n);t._state=e.map((function(e){return new v(0,e)})),Object(h.f)(t._selectionListener),t._selectionListener=t._editor.onDidChangeCursorPosition((function(){t._ignoreSelection||(Object(h.f)(t._selectionListener),t._state=void 0)}))}}))),s.then((function(){if(t._state){t._state=t._state.map((function(t){return t.mov(e)}));var i=t._state.map((function(e){return c.a.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())}));t._ignoreSelection=!0;try{t._editor.setSelections(i)}finally{t._ignoreSelection=!1}}}))}}},SmartSelectController.ID="editor.contrib.smartSelectController",SmartSelectController}(),S=function(e){function AbstractSmartSelect(t,i){var o=e.call(this,i)||this;return o._forward=t,o}return b(AbstractSmartSelect,e),AbstractSmartSelect.prototype.run=function(e,t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(i){switch(i.label){case 0:return(e=y.get(t))?[4,e.run(this._forward)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},AbstractSmartSelect}(r.b),C=function(e){function GrowSelectionAction(){return e.call(this,!0,{id:"editor.action.smartSelect.expand",label:d.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:l.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:d.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return b(GrowSelectionAction,e),GrowSelectionAction}(S);m.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var w=function(e){function ShrinkSelectionAction(){return e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:d.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:l.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:d.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return b(ShrinkSelectionAction,e),ShrinkSelectionAction}(S);function provideSelectionRanges(e,t,i){var n=u.w.all(e);1===n.length&&n.unshift(new f.a);for(var r=[],c=[],l=0,d=n;l<d.length;l++){var h=d[l];r.push(Promise.resolve(h.provideSelectionRanges(e,t,i)).then((function(e){if(o.q(e)&&e.length===t.length)for(var i=0;i<t.length;i++){c[i]||(c[i]=[]);for(var n=0,r=e[i];n<r.length;n++){var s=r[n];a.a.isIRange(s.range)&&a.a.containsPosition(s.range,t[i])&&c[i].push(a.a.lift(s.range))}}}),_.f))}return Promise.all(r).then((function(){return c.map((function(t){if(0===t.length)return[];t.sort((function(e,t){return s.a.isBefore(e.getStartPosition(),t.getStartPosition())?1:s.a.isBefore(t.getStartPosition(),e.getStartPosition())||s.a.isBefore(e.getEndPosition(),t.getEndPosition())?-1:s.a.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));for(var i,o=[],n=0,r=t;n<r.length;n++){var c=r[n];(!i||a.a.containsRange(c,i)&&!a.a.equalsRange(c,i))&&(o.push(c),i=c)}for(var l=[o[0]],u=1;u<o.length;u++){var d=o[u-1],h=o[u];if(h.startLineNumber!==d.startLineNumber||h.endLineNumber!==d.endLineNumber){var p=new a.a(d.startLineNumber,e.getLineFirstNonWhitespaceColumn(d.startLineNumber),d.endLineNumber,e.getLineLastNonWhitespaceColumn(d.endLineNumber));p.containsRange(d)&&!p.equalsRange(d)&&h.containsRange(p)&&!h.equalsRange(p)&&l.push(p);var g=new a.a(d.startLineNumber,1,d.endLineNumber,e.getLineMaxColumn(d.endLineNumber));g.containsRange(d)&&!g.equalsRange(p)&&h.containsRange(g)&&!h.equalsRange(g)&&l.push(g)}l.push(h)}return l}))}))}Object(r.h)(y.ID,y),Object(r.f)(C),Object(r.f)(w),u.w.register("*",new g),Object(r.l)("_executeSelectionRangeProvider",(function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=t[0];return provideSelectionRanges(e,o,n.a.None)}))},"3qCu":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("w5yO"),n=i("W9cx"),r=i("WBhO"),s=i("/cxE"),a=i("TQUy"),c=i("Cg/j"),l=i("MI8n"),u=i("pmY6"),d=i("twdY"),h=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},p=function(e){function MarkdownRenderer(t,i,o){void 0===o&&(o=n.b);var r=e.call(this)||this;return r._editor=t,r._modeService=i,r._openerService=o,r._onDidRenderCodeBlock=r._register(new l.a),r.onDidRenderCodeBlock=r._onDidRenderCodeBlock.event,r}return h(MarkdownRenderer,e),MarkdownRenderer.prototype.getOptions=function(e){var t=this;return{codeBlockRenderer:function(e,i){var o=null;if(e)o=t._modeService.getModeIdForLanguageName(e);else{var n=t._editor.getModel();n&&(o=n.getLanguageIdentifier().language)}return t._modeService.triggerMode(o||""),Promise.resolve(!0).then((function(e){var t=d.B.getPromise(o||"");return t?t.then((function(e){return Object(a.b)(i,e)})):Object(a.b)(i,void 0)})).then((function(e){return'<span style="font-family: '+t._editor.getOption(34).fontFamily+'">'+e+"</span>"}))},codeBlockRenderCallback:function(){return t._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){t._openerService.open(e,{fromUserGesture:!0}).catch(s.e)},disposeables:e}}},MarkdownRenderer.prototype.render=function(e){var t=new u.b;return{element:e?Object(o.a)(e,this.getOptions(t)):document.createElement("span"),dispose:function(){return t.dispose()}}},MarkdownRenderer=__decorate([__param(1,r.a),__param(2,Object(c.d)(n.a))],MarkdownRenderer)}(u.a)},"8XyJ":function(e,t,i){"use strict";i.r(t),i.d(t,"InsertCursorAbove",(function(){return y})),i.d(t,"InsertCursorBelow",(function(){return S})),i.d(t,"MultiCursorSessionResult",(function(){return x})),i.d(t,"MultiCursorSession",(function(){return P})),i.d(t,"MultiCursorSelectionController",(function(){return k})),i.d(t,"MultiCursorSelectionControllerAction",(function(){return M})),i.d(t,"AddSelectionToNextFindMatchAction",(function(){return T})),i.d(t,"AddSelectionToPreviousFindMatchAction",(function(){return W})),i.d(t,"MoveSelectionToNextFindMatchAction",(function(){return D})),i.d(t,"MoveSelectionToPreviousFindMatchAction",(function(){return R})),i.d(t,"SelectHighlightsAction",(function(){return N})),i.d(t,"CompatChangeAll",(function(){return E})),i.d(t,"SelectionHighlighter",(function(){return j}));var o=i("3/fG"),n=i("X+cX"),r=i("/kV6"),s=i("pmY6"),a=i("sswD"),c=i("oAeH"),l=i("aokT"),u=i("gCVg"),d=i("wQH0"),h=i("M1Kb"),p=i("tX9W"),g=i("twdY"),f=i("oQaD"),m=i("MD5Z"),_=i("t9D7"),b=i("T8No"),v=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),y=function(e){function InsertCursorAbove(){return e.call(this,{id:"editor.action.insertCursorAbove",label:o.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return v(InsertCursorAbove,e),InsertCursorAbove.prototype.run=function(e,t,i){if(t.hasModel()){var o=i&&!0===i.logicalLine,n=t._getCursors(),r=n.context;r.config.readOnly||(r.model.pushStackElement(),n.setStates(i.source,3,c.b.addCursorUp(r,n.getAll(),o)),n.reveal(i.source,!0,1,0))}},InsertCursorAbove}(a.b),S=function(e){function InsertCursorBelow(){return e.call(this,{id:"editor.action.insertCursorBelow",label:o.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return v(InsertCursorBelow,e),InsertCursorBelow.prototype.run=function(e,t,i){if(t.hasModel()){var o=i&&!0===i.logicalLine,n=t._getCursors(),r=n.context;r.config.readOnly||(r.model.pushStackElement(),n.setStates(i.source,3,c.b.addCursorDown(r,n.getAll(),o)),n.reveal(i.source,!0,2,0))}},InsertCursorBelow}(a.b),C=function(e){function InsertCursorAtEndOfEachLineSelected(){return e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return v(InsertCursorAtEndOfEachLineSelected,e),InsertCursorAtEndOfEachLineSelected.prototype.getCursorsForSelection=function(e,t,i){if(!e.isEmpty()){for(var o=e.startLineNumber;o<e.endLineNumber;o++){var n=t.getLineMaxColumn(o);i.push(new u.a(o,n,o,n))}e.endColumn>1&&i.push(new u.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}},InsertCursorAtEndOfEachLineSelected.prototype.run=function(e,t){var i=this;if(t.hasModel()){var o=t.getModel(),n=t.getSelections(),r=[];n.forEach((function(e){return i.getCursorsForSelection(e,o,r)})),r.length>0&&t.setSelections(r)}},InsertCursorAtEndOfEachLineSelected}(a.b),w=function(e){function InsertCursorAtEndOfLineSelected(){return e.call(this,{id:"editor.action.addCursorsToBottom",label:o.a("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return v(InsertCursorAtEndOfLineSelected,e),InsertCursorAtEndOfLineSelected.prototype.run=function(e,t){if(t.hasModel()){for(var i=t.getSelections(),o=t.getModel().getLineCount(),n=[],r=i[0].startLineNumber;r<=o;r++)n.push(new u.a(r,i[0].startColumn,r,i[0].endColumn));n.length>0&&t.setSelections(n)}},InsertCursorAtEndOfLineSelected}(a.b),O=function(e){function InsertCursorAtTopOfLineSelected(){return e.call(this,{id:"editor.action.addCursorsToTop",label:o.a("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return v(InsertCursorAtTopOfLineSelected,e),InsertCursorAtTopOfLineSelected.prototype.run=function(e,t){if(t.hasModel()){for(var i=t.getSelections(),o=[],n=i[0].startLineNumber;n>=1;n--)o.push(new u.a(n,i[0].startColumn,n,i[0].endColumn));o.length>0&&t.setSelections(o)}},InsertCursorAtTopOfLineSelected}(a.b),x=function x(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i},P=function(){function MultiCursorSession(e,t,i,o,n,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=n,this.matchCase=r,this.currentMatch=s}return MultiCursorSession.create=function(e,t){if(!e.hasModel())return null;var i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new MultiCursorSession(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);var o,n,r=!1,s=e.getSelections();1===s.length&&s[0].isEmpty()?(r=!0,o=!0,n=!0):(o=i.wholeWord,n=i.matchCase);var a,c=e.getSelection(),l=null;if(c.isEmpty()){var d=e.getModel().getWordAtPosition(c.getStartPosition());if(!d)return null;a=d.word,l=new u.a(c.startLineNumber,d.startColumn,c.startLineNumber,d.endColumn)}else a=e.getModel().getValueInRange(c).replace(/\r\n/g,"\n");return new MultiCursorSession(e,t,r,a,o,n,l)},MultiCursorSession.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new x(t.concat(e),e,0)},MultiCursorSession.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new x(t.slice(0,t.length-1).concat(e),e,0)},MultiCursorSession.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),i=t[t.length-1],o=this._editor.getModel().findNextMatch(this.searchText,i.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return o?new u.a(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null},MultiCursorSession.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new x(t.concat(e),e,0)},MultiCursorSession.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new x(t.slice(0,t.length-1).concat(e),e,0)},MultiCursorSession.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),i=t[t.length-1],o=this._editor.getModel().findPreviousMatch(this.searchText,i.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return o?new u.a(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null},MultiCursorSession.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1,1073741824)):[]},MultiCursorSession}(),k=function(e){function MultiCursorSelectionController(t){var i=e.call(this)||this;return i._sessionDispose=i._register(new s.b),i._editor=t,i._ignoreSelectionChange=!1,i._session=null,i}return v(MultiCursorSelectionController,e),MultiCursorSelectionController.get=function(e){return e.getContribution(MultiCursorSelectionController.ID)},MultiCursorSelectionController.prototype.dispose=function(){this._endSession(),e.prototype.dispose.call(this)},MultiCursorSelectionController.prototype._beginSessionIfNeeded=function(e){var t=this;if(!this._session){var i=P.create(this._editor,e);if(!i)return;this._session=i;var o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),e.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((function(e){t._ignoreSelectionChange||t._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((function(){t._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((function(e){(e.matchCase||e.wholeWord)&&t._endSession()})))}},MultiCursorSelectionController.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){this._session.findController.getState().change({wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},!1)}this._session=null},MultiCursorSelectionController.prototype._setSelections=function(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1},MultiCursorSelectionController.prototype._expandEmptyToWord=function(e,t){if(!t.isEmpty())return t;var i=e.getWordAtPosition(t.getStartPosition());return i?new u.a(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t},MultiCursorSelectionController.prototype._applySessionResult=function(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))},MultiCursorSelectionController.prototype.getSession=function(e){return this._session},MultiCursorSelectionController.prototype.addSelectionToNextFindMatch=function(e){if(this._editor.hasModel()){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var i=e.getState().matchCase;if(!modelRangesContainSameText(this._editor.getModel(),t,i)){for(var o=this._editor.getModel(),n=[],r=0,s=t.length;r<s;r++)n[r]=this._expandEmptyToWord(o,t[r]);return void this._editor.setSelections(n)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}},MultiCursorSelectionController.prototype.addSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},MultiCursorSelectionController.prototype.moveSelectionToNextFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},MultiCursorSelectionController.prototype.moveSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},MultiCursorSelectionController.prototype.selectAll=function(e){if(this._editor.hasModel()){var t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(96):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){for(var o=i.searchScope,n=[],r=0;r<t.length;r++)t[r].range.endLineNumber<=o.endLineNumber&&t[r].range.startLineNumber>=o.startLineNumber&&n.push(t[r]);t=n}if(t.length>0){for(var s=this._editor.getSelection(),a=(r=0,t.length);r<a;r++){var c=t[r];if(c.range.intersectRanges(s)){t[r]=t[0],t[0]=c;break}}this._setSelections(t.map((function(e){return new u.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})))}}},MultiCursorSelectionController.ID="editor.contrib.multiCursorController",MultiCursorSelectionController}(s.a),M=function(e){function MultiCursorSelectionControllerAction(){return null!==e&&e.apply(this,arguments)||this}return v(MultiCursorSelectionControllerAction,e),MultiCursorSelectionControllerAction.prototype.run=function(e,t){var i=k.get(t);if(i){var o=f.CommonFindController.get(t);o&&this._run(i,o)}},MultiCursorSelectionControllerAction}(a.b),T=function(e){function AddSelectionToNextFindMatchAction(){return e.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:o.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:2082,weight:100},menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return v(AddSelectionToNextFindMatchAction,e),AddSelectionToNextFindMatchAction.prototype._run=function(e,t){e.addSelectionToNextFindMatch(t)},AddSelectionToNextFindMatchAction}(M),W=function(e){function AddSelectionToPreviousFindMatchAction(){return e.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:o.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return v(AddSelectionToPreviousFindMatchAction,e),AddSelectionToPreviousFindMatchAction.prototype._run=function(e,t){e.addSelectionToPreviousFindMatch(t)},AddSelectionToPreviousFindMatchAction}(M),D=function(e){function MoveSelectionToNextFindMatchAction(){return e.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:o.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:Object(r.a)(2089,2082),weight:100}})||this}return v(MoveSelectionToNextFindMatchAction,e),MoveSelectionToNextFindMatchAction.prototype._run=function(e,t){e.moveSelectionToNextFindMatch(t)},MoveSelectionToNextFindMatchAction}(M),R=function(e){function MoveSelectionToPreviousFindMatchAction(){return e.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:o.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return v(MoveSelectionToPreviousFindMatchAction,e),MoveSelectionToPreviousFindMatchAction.prototype._run=function(e,t){e.moveSelectionToPreviousFindMatch(t)},MoveSelectionToPreviousFindMatchAction}(M),N=function(e){function SelectHighlightsAction(){return e.call(this,{id:"editor.action.selectHighlights",label:o.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:3114,weight:100},menuOpts:{menuId:25,group:"3_multi",title:o.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return v(SelectHighlightsAction,e),SelectHighlightsAction.prototype._run=function(e,t){e.selectAll(t)},SelectHighlightsAction}(M),E=function(e){function CompatChangeAll(){return e.call(this,{id:"editor.action.changeAll",label:o.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:b.a.and(d.a.writable,d.a.editorTextFocus),kbOpts:{kbExpr:d.a.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})||this}return v(CompatChangeAll,e),CompatChangeAll.prototype._run=function(e,t){e.selectAll(t)},CompatChangeAll}(M),L=function(){function SelectionHighlighterState(e,t,i){this.searchText=e,this.matchCase=t,this.wordSeparators=i}return SelectionHighlighterState.softEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators)},SelectionHighlighterState}(),j=function(e){function SelectionHighlighter(t){var i=e.call(this)||this;return i.editor=t,i._isEnabled=t.getOption(82),i.decorations=[],i.updateSoon=i._register(new n.d((function(){return i._update()}),300)),i.state=null,i._register(t.onDidChangeConfiguration((function(e){i._isEnabled=t.getOption(82)}))),i._register(t.onDidChangeCursorSelection((function(e){i._isEnabled&&(e.selection.isEmpty()?3===e.reason?(i.state&&i._setState(null),i.updateSoon.schedule()):i._setState(null):i._update())}))),i._register(t.onDidChangeModel((function(e){i._setState(null)}))),i._register(f.CommonFindController.get(t).getState().onFindReplaceStateChange((function(e){i._update()}))),i}return v(SelectionHighlighter,e),SelectionHighlighter.prototype._update=function(){this._setState(SelectionHighlighter._createState(this._isEnabled,this.editor))},SelectionHighlighter._createState=function(e,t){if(!e)return null;if(!t.hasModel())return null;var i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;var o=k.get(t);if(!o)return null;var n=f.CommonFindController.get(t);if(!n)return null;var r=o.getSession(n);if(!r){var s=t.getSelections();if(s.length>1){var a=n.getState().matchCase;if(!modelRangesContainSameText(t.getModel(),s,a))return null}r=P.create(t,n)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;var c=n.getState(),l=c.matchCase;if(c.isRevealed){var u=c.searchString;l||(u=u.toLowerCase());var d=r.searchText;if(l||(d=d.toLowerCase()),u===d&&r.matchCase===c.matchCase&&r.wholeWord===c.wholeWord&&!c.isRegex)return null}return new L(r.searchText,r.matchCase,r.wholeWord?t.getOption(96):null)},SelectionHighlighter.prototype._setState=function(e){if(L.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){if(this.editor.hasModel()){var t=this.editor.getModel();if(!t.isTooLargeForTokenization()){var i=g.i.has(t),o=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((function(e){return e.range}));o.sort(l.a.compareRangesUsingStarts);var n=this.editor.getSelections();n.sort(l.a.compareRangesUsingStarts);for(var r=[],s=0,a=0,c=o.length,u=n.length;s<c;){var d=o[s];if(a>=u)r.push(d),s++;else{var h=l.a.compareRangesUsingStarts(d,n[a]);h<0?(!n[a].isEmpty()&&l.a.areIntersecting(d,n[a])||r.push(d),s++):(h>0||s++,a++)}}var p=r.map((function(e){return{range:e,options:i?SelectionHighlighter._SELECTION_HIGHLIGHT:SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW}}));this.decorations=this.editor.deltaDecorations(this.decorations,p)}}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])},SelectionHighlighter.prototype.dispose=function(){this._setState(null),e.prototype.dispose.call(this)},SelectionHighlighter.ID="editor.contrib.selectionHighlighter",SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW=p.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_.f)(m.Mb),position:h.d.Center}}),SelectionHighlighter._SELECTION_HIGHLIGHT=p.a.register({stickiness:1,className:"selectionHighlight"}),SelectionHighlighter}(s.a);function modelRangesContainSameText(e,t,i){for(var o=getValueInRange(e,t[0],!i),n=1,r=t.length;n<r;n++){var s=t[n];if(s.isEmpty())return!1;if(o!==getValueInRange(e,s,!i))return!1}return!0}function getValueInRange(e,t,i){var o=e.getValueInRange(t);return i?o.toLowerCase():o}Object(a.h)(k.ID,k),Object(a.h)(j.ID,j),Object(a.f)(y),Object(a.f)(S),Object(a.f)(C),Object(a.f)(T),Object(a.f)(W),Object(a.f)(D),Object(a.f)(R),Object(a.f)(N),Object(a.f)(E),Object(a.f)(w),Object(a.f)(O)},LUcL:function(e,t,i){"use strict";i.r(t),i.d(t,"DeleteWordPartLeft",(function(){return u})),i.d(t,"DeleteWordPartRight",(function(){return d})),i.d(t,"WordPartLeftCommand",(function(){return h})),i.d(t,"CursorWordPartLeft",(function(){return p})),i.d(t,"CursorWordPartLeftSelect",(function(){return g})),i.d(t,"WordPartRightCommand",(function(){return f})),i.d(t,"CursorWordPartRight",(function(){return m})),i.d(t,"CursorWordPartRightSelect",(function(){return _}));var o=i("sswD"),n=i("1I1M"),r=i("aokT"),s=i("wQH0"),a=i("s7Km"),c=i("nnTU"),l=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),u=function(e){function DeleteWordPartLeft(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return l(DeleteWordPartLeft,e),DeleteWordPartLeft.prototype._delete=function(e,t,i,o,s){var a=n.b.deleteWordPartLeft(e,t,i,o);return a||new r.a(1,1,1,1)},DeleteWordPartLeft}(a.DeleteWordCommand),d=function(e){function DeleteWordPartRight(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return l(DeleteWordPartRight,e),DeleteWordPartRight.prototype._delete=function(e,t,i,o,s){var a=n.b.deleteWordPartRight(e,t,i,o);if(a)return a;var c=t.getLineCount(),l=t.getLineMaxColumn(c);return new r.a(c,l,c,l)},DeleteWordPartRight}(a.DeleteWordCommand),h=function(e){function WordPartLeftCommand(){return null!==e&&e.apply(this,arguments)||this}return l(WordPartLeftCommand,e),WordPartLeftCommand.prototype._move=function(e,t,i,o){return n.b.moveWordPartLeft(e,t,i)},WordPartLeftCommand}(a.MoveWordCommand),p=function(e){function CursorWordPartLeft(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return l(CursorWordPartLeft,e),CursorWordPartLeft}(h);c.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var g=function(e){function CursorWordPartLeftSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return l(CursorWordPartLeftSelect,e),CursorWordPartLeftSelect}(h);c.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var f=function(e){function WordPartRightCommand(){return null!==e&&e.apply(this,arguments)||this}return l(WordPartRightCommand,e),WordPartRightCommand.prototype._move=function(e,t,i,o){return n.b.moveWordPartRight(e,t,i)},WordPartRightCommand}(a.MoveWordCommand),m=function(e){function CursorWordPartRight(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return l(CursorWordPartRight,e),CursorWordPartRight}(f),_=function(e){function CursorWordPartRightSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return l(CursorWordPartRightSelect,e),CursorWordPartRightSelect}(f);Object(o.g)(new u),Object(o.g)(new d),Object(o.g)(new p),Object(o.g)(new g),Object(o.g)(new m),Object(o.g)(new _)},NR8r:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("3/fG"),n=i("X+cX"),r=i("pmY6"),s=i("OBOq"),a=i("aokT"),c=i("sswD"),l=i("T8No"),u=i("t9D7"),d=i("MD5Z"),h=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},p=function(e){function MessageController(t,i){var o=e.call(this)||this;return o.closeTimeout=3e3,o._messageWidget=o._register(new r.d),o._messageListeners=o._register(new r.b),o._editor=t,o._visible=MessageController.MESSAGE_VISIBLE.bindTo(i),o._register(o._editor.onDidAttemptReadOnlyEdit((function(){return o._onDidAttemptReadOnlyEdit()}))),o}return h(MessageController,e),MessageController.get=function(e){return e.getContribution(MessageController.ID)},MessageController.prototype.dispose=function(){e.prototype.dispose.call(this),this._visible.reset()},MessageController.prototype.showMessage=function(e,t){var i,o=this;Object(s.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new f(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((function(){return o.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return o.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return o.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return o.closeMessage()}))),this._messageListeners.add(new n.e((function(){return o.closeMessage()}),this.closeTimeout)),this._messageListeners.add(this._editor.onMouseMove((function(e){e.target.position&&(i?i.containsPosition(e.target.position)||o.closeMessage():i=new a.a(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))},MessageController.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(f.fadeOut(this._messageWidget.value))},MessageController.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(o.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},MessageController.ID="editor.contrib.messageController",MessageController.MESSAGE_VISIBLE=new l.d("messageVisible",!1),MessageController=__decorate([__param(1,l.c)],MessageController)}(r.a),g=c.c.bindToContribution(p.get);Object(c.g)(new g({id:"leaveEditorMessage",precondition:p.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var f=function(){function MessageWidget(e,t,i){var o=t.lineNumber,n=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var r=document.createElement("div");r.classList.add("message"),r.textContent=i,this._domNode.appendChild(r);var s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return MessageWidget.fadeOut=function(e){var t,dispose=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",dispose)};return t=setTimeout(dispose,110),e.getDomNode().addEventListener("animationend",dispose),e.getDomNode().classList.add("fadeOut"),{dispose:dispose}},MessageWidget.prototype.dispose=function(){this._editor.removeContentWidget(this)},MessageWidget.prototype.getId=function(){return"messageoverlay"},MessageWidget.prototype.getDomNode=function(){return this._domNode},MessageWidget.prototype.getPosition=function(){return{position:this._position,preference:[1,2]}},MessageWidget}();Object(c.h)(p.ID,p),Object(u.e)((function(e,t){var i=e.getColor(d.gb);if(i){var o=e.type===u.b?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+i+"; }"),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+o+"px solid "+i+"; }")}var n=e.getColor(d.fb);n&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+n+"; }");var r=e.getColor(d.hb);r&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+r+"; }")}))},Q631:function(e,t,i){"use strict";i.r(t),i.d(t,"rename",(function(){return rename})),i.d(t,"RenameAction",(function(){return A}));var o=i("3/fG"),n=i("/cxE"),r=i("T8No"),s=i("tTk5"),a=i("sswD"),c=i("wQH0"),l=i("pmY6"),u=i("cGHE"),d=i("aokT"),h=i("MD5Z"),p=i("t9D7"),g=i("bexQ"),f=i("EffR"),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},m=new r.d("renameInputVisible",!1),_=function(){function RenameInputField(e,t,i,o,n){var r=this;this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=o,this._disposables=new l.b,this.allowEditorOverflow=!0,this._visibleContextKey=m.bindTo(n),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&r._updateFont()}))),this._disposables.add(i.onThemeChange(this._updateStyles,this))}return RenameInputField.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},RenameInputField.prototype.getId=function(){return"__renameInputWidget"},RenameInputField.prototype.getDomNode=function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(o.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var updateLabel=function(){var t,i,n=e._acceptKeybindings,r=n[0],s=n[1];e._keybindingService.lookupKeybinding(r),e._label.innerText=Object(o.a)("label","{0} to Rename, {1} to Preview",null===(t=e._keybindingService.lookupKeybinding(r))||void 0===t?void 0:t.getLabel(),null===(i=e._keybindingService.lookupKeybinding(s))||void 0===i?void 0:i.getLabel())};updateLabel(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(updateLabel)),this._updateFont(),this._updateStyles(this._themeService.getTheme())}return this._domNode},RenameInputField.prototype._updateStyles=function(e){var t,i,o,n;if(this._input&&this._domNode){var r=e.getColor(h.hc);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(h.Q))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?" 0 2px 8px "+r:"",this._domNode.style.color=String(null!==(i=e.getColor(h.bb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(o=e.getColor(h.Z))&&void 0!==o?o:"");var s=e.getColor(h.ab);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=null!==(n=null==s?void 0:s.toString())&&void 0!==n?n:"none"}},RenameInputField.prototype._updateFont=function(){if(this._input&&this._label){var e=this._editor.getOption(34);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px"}},RenameInputField.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},RenameInputField.prototype.acceptInput=function(e){this._currentAcceptInput&&this._currentAcceptInput(e)},RenameInputField.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},RenameInputField.prototype.getInput=function(e,t,i,o,n){var r=this;Object(f.Y)(this._domNode,"preview",n),this._position=new u.a(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var s=new l.b;return new Promise((function(i){r._currentCancelInput=function(e){return r._currentAcceptInput=void 0,r._currentCancelInput=void 0,i(e),!0},r._currentAcceptInput=function(e){0!==r._input.value.trim().length&&r._input.value!==t?(r._currentAcceptInput=void 0,r._currentCancelInput=void 0,i({newName:r._input.value,wantsPreview:n&&e})):r.cancelInput(!0)};s.add(r._editor.onDidChangeCursorSelection((function(){var t=r._editor.getPosition();t&&d.a.containsPosition(e,t)||r.cancelInput(!0)}))),s.add(r._editor.onDidBlurEditorWidget((function(){return r.cancelInput(!1)}))),r._show()})).finally((function(){s.dispose(),r._hide()}))},RenameInputField.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)},RenameInputField.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},RenameInputField=__decorate([__param(2,p.c),__param(3,g.a),__param(4,r.c)],RenameInputField)}(),b=i("twdY"),v=i("OBOq"),y=i("NR8r"),S=i("vATl"),C=i("sM1p"),w=i("x/UI"),O=i("bY76"),x=i("Vxe3"),P=i("JQT/"),k=i("X+cX"),M=i("746U"),T=i("09fa"),W=i("Cg/j"),D=i("ic2d"),R=i("CRAX"),N=i("e0rL"),E=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),rename_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},rename_param=function(e,t){return function(i,o){t(i,o,e)}},__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},L=function(){function RenameSkeleton(e,t){this.model=e,this.position=t,this._providers=b.v.ordered(e)}return RenameSkeleton.prototype.hasProvider=function(){return this._providers.length>0},RenameSkeleton.prototype.resolveRenameLocation=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,o,n;return __generator(this,(function(r){switch(r.label){case 0:return(t=this._providers[0])?t.resolveRenameLocation?(o=M.n,[4,t.resolveRenameLocation(this.model,this.position,e)]):[3,2]:[2,void 0];case 1:i=o.apply(void 0,[r.sent()]),r.label=2;case 2:return!i&&(n=this.model.getWordAtPosition(this.position))?[2,{range:new d.a(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word}]:[2,i]}}))}))},RenameSkeleton.prototype.provideRenameEdits=function(e,t,i,n){return __awaiter(this,void 0,void 0,(function(){var r,s;return __generator(this,(function(a){switch(a.label){case 0:return(r=this._providers[t])?[4,r.provideRenameEdits(this.model,this.position,e,n)]:[2,{edits:[],rejectReason:i.join("\n")}];case 1:return(s=a.sent())?s.rejectReason?[2,this.provideRenameEdits(e,t+1,i.concat(s.rejectReason),n)]:[2,s]:[2,this.provideRenameEdits(e,t+1,i.concat(o.a("no result","No result.")),n)]}}))}))},RenameSkeleton}();function rename(e,t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(o){return[2,new L(e,t).provideRenameEdits(i,0,[],P.a.None)]}))}))}var j=function(){function RenameController(e,t,i,o,n,r,s){var a=this;this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=o,this._progressService=n,this._logService=r,this._configService=s,this._dispoableStore=new l.b,this._cts=new P.b,this._renameInputField=this._dispoableStore.add(new k.b((function(){return a._dispoableStore.add(a._instaService.createInstance(_,a.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return RenameController.get=function(e){return e.getContribution(RenameController.ID)},RenameController.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},RenameController.prototype.run=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n,r,s,a,c,l,u,h,p=this;return __generator(this,(function(g){switch(g.label){case 0:if(this._cts.dispose(!0),!this.editor.hasModel())return[2,void 0];if(e=this.editor.getPosition(),!(t=new L(this.editor.getModel(),e)).hasProvider())return[2,void 0];this._cts=new S.b(this.editor,5),g.label=1;case 1:return g.trys.push([1,3,,4]),n=t.resolveRenameLocation(this._cts.token),this._progressService.showWhile(n,250),[4,n];case 2:return i=g.sent(),[3,4];case 3:return r=g.sent(),y.a.get(this.editor).showMessage(r||o.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e),[2,void 0];case 4:return i?i.rejectReason?(y.a.get(this.editor).showMessage(i.rejectReason,e),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(s=this.editor.getSelection(),a=0,c=i.text.length,d.a.isEmpty(s)||d.a.spansMultipleLines(s)||!d.a.containsRange(i.range,s)||(a=Math.max(0,s.startColumn-i.range.startColumn),c=Math.min(i.range.endColumn,s.endColumn)-i.range.startColumn),l=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),[4,this._renameInputField.getValue().getInput(i.range,i.text,a,c,l)]):[2,void 0];case 5:return"boolean"==typeof(u=g.sent())?(u&&this.editor.focus(),[2,void 0]):(this.editor.focus(),h=Object(k.j)(t.provideRenameEdits(u.newName,0,[],this._cts.token),this._cts.token).then((function(e){return __awaiter(p,void 0,void 0,(function(){var t=this;return __generator(this,(function(n){return e&&this.editor.hasModel()?e.rejectReason?(this._notificationService.info(e.rejectReason),[2]):(this._bulkEditService.apply(e,{editor:this.editor,showPreview:u.wantsPreview,label:o.a("label","Renaming '{0}'",null==i?void 0:i.text)}).then((function(e){e.ariaSummary&&Object(v.a)(o.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,u.newName,e.ariaSummary))})).catch((function(e){t._notificationService.error(o.a("rename.failedApply","Rename failed to apply edits")),t._logService.error(e)})),[2]):[2]}))}))}),(function(e){p._notificationService.error(o.a("rename.failed","Rename failed to compute edits")),p._logService.error(e)})),this._progressService.showWhile(h,250),[2,h])}}))}))},RenameController.prototype.acceptRenameInput=function(e){this._renameInputField.getValue().acceptInput(e)},RenameController.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},RenameController.ID="editor.contrib.renameController",RenameController=rename_decorate([rename_param(1,W.a),rename_param(2,C.a),rename_param(3,w.a),rename_param(4,s.a),rename_param(5,T.a),rename_param(6,N.a)],RenameController)}(),A=function(e){function RenameAction(){return e.call(this,{id:"editor.action.rename",label:o.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:r.a.and(c.a.writable,c.a.hasRenameProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}return E(RenameAction,e),RenameAction.prototype.runCommand=function(t,i){var o=this,r=t.get(x.a),s=Array.isArray(i)&&i||[void 0,void 0],a=s[0],c=s[1];return O.a.isUri(a)&&u.a.isIPosition(c)?r.openCodeEditor({resource:a},r.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(c),e.invokeWithinContext((function(t){return o.reportTelemetry(t,e),o.run(t,e)})))}),n.e):e.prototype.runCommand.call(this,t,i)},RenameAction.prototype.run=function(e,t){var i=j.get(t);return i?i.run():Promise.resolve()},RenameAction}(a.b);Object(a.h)(j.ID,j),Object(a.f)(A);var I=a.c.bindToContribution(j.get);Object(a.g)(new I({id:"acceptRenameInput",precondition:m,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:c.a.focus,primary:3}})),Object(a.g)(new I({id:"acceptRenameInputWithPreview",precondition:r.a.and(m,r.a.has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:c.a.focus,primary:1027}})),Object(a.g)(new I({id:"cancelRenameInput",precondition:m,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:c.a.focus,primary:9,secondary:[1033]}})),Object(a.e)("_executeDocumentRenameProvider",(function(e,t,i){var o=i.newName;if("string"!=typeof o)throw Object(n.b)("newName");return rename(e,t,o)})),D.a.as(R.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:o.a("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},QVNv:function(e,t,i){"use strict";i.d(t,"b",(function(){return f})),i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return getSnippetSuggestSupport})),i.d(t,"e",(function(){return provideSuggestionItems})),i.d(t,"d",(function(){return getSuggestionComparator})),i.d(t,"f",(function(){return showSimpleSuggestions}));var o,n=i("X+cX"),r=i("qj0h"),s=i("/cxE"),a=i("sswD"),c=i("twdY"),l=i("cGHE"),u=i("T8No"),d=i("JQT/"),h=i("aokT"),p=i("fpMC"),g=i("pmY6"),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},f={Visible:new u.d("suggestWidgetVisible",!1),MultipleSuggestions:new u.d("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new u.d("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new u.d("acceptSuggestionOnEnter",!0)},m=function m(e,t,i,o,n){var a=this;this.position=e,this.completion=t,this.container=i,this.provider=o,this.isResolved=!1,this.score=p.a.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.name,this.labelLow=this.textLabel.toLowerCase(),this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),h.a.isIRange(t.range)?(this.editStart=new l.a(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new l.a(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new l.a(t.range.endLineNumber,t.range.endColumn)):(this.editStart=new l.a(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new l.a(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new l.a(t.range.replace.endLineNumber,t.range.replace.endColumn));var c,u=o.resolveCompletionItem;"function"!=typeof u?(this.resolve=function(){return Promise.resolve()},this.isResolved=!0):this.resolve=function(i){return c||(c=Promise.resolve(u.call(o,n,e,t,i)).then((function(e){Object(r.a)(t,e),a.isResolved=!0}),(function(e){Object(s.d)(e)&&(c=void 0)})),i.onCancellationRequested((function(){a.isResolved||(c=void 0)}))),c}},_=function(){function CompletionOptions(e,t,i){void 0===e&&(e=2),void 0===t&&(t=new Set),void 0===i&&(i=new Set),this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i}return CompletionOptions.default=new CompletionOptions,CompletionOptions}();function getSnippetSuggestSupport(){return o}function provideSuggestionItems(e,t,i,r,a){void 0===i&&(i=_.default),void 0===r&&(r={triggerKind:0}),void 0===a&&(a=d.a.None);var l=e.getWordAtPosition(t),u=l?new h.a(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn):h.a.fromPositions(t),p=u.setEndPosition(t.lineNumber,t.column);t=t.clone();var f=c.d.orderedGroups(e);i.kindFilter.has(25);var b=[],v=new g.b,y=!1,S=f.map((function(n){return function(){return Promise.all(n.map((function(n){if(!(i.providerFilter.size>0)||i.providerFilter.has(n))return Promise.resolve(n.provideCompletionItems(e,t,r,a)).then((function(r){var s=b.length;if(r){for(var a=0,c=r.suggestions||[];a<c.length;a++){var l=c[a];i.kindFilter.has(l.kind)||(l.range||(l.range={insert:p,replace:u}),l.sortText||(l.sortText="string"==typeof l.label?l.label:l.label.name),b.push(new m(t,l,r,n,e)))}Object(g.g)(r)&&v.add(r)}s!==b.length&&n!==o&&(y=!0)}),s.f)})))}}));return Object(n.h)(S,(function(){return y||a.isCancellationRequested})).then((function(){return a.isCancellationRequested?(v.dispose(),Promise.reject(Object(s.a)())):b.sort(getSuggestionComparator(i.snippetSortOrder))}))}function defaultComparator(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}var b=new Map;function getSuggestionComparator(e){return b.get(e)}b.set(0,(function snippetUpComparator(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return-1;if(25===t.completion.kind)return 1}return defaultComparator(e,t)})),b.set(2,(function snippetDownComparator(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return 1;if(25===t.completion.kind)return-1}return defaultComparator(e,t)})),b.set(1,defaultComparator),Object(a.e)("_executeCompletionItemProvider",(function(e,t,i){return __awaiter(void 0,void 0,void 0,(function(){var o,n,r,s,a,c,l,u;return __generator(this,(function(h){switch(h.label){case 0:return o={incomplete:!1,suggestions:[]},n=new g.b,r=[],s=i.maxItemsToResolve||0,[4,provideSuggestionItems(e,t)];case 1:for(a=h.sent(),c=0,l=a;c<l.length;c++)u=l[c],r.length<s&&r.push(u.resolve(d.a.None)),o.incomplete=o.incomplete||u.container.incomplete,o.suggestions.push(u.completion),Object(g.g)(u.container)&&n.add(u.container);h.label=2;case 2:return h.trys.push([2,,4,5]),[4,Promise.all(r)];case 3:return h.sent(),[2,o];case 4:return setTimeout((function(){return n.dispose()}),100),[7];case 5:return[2]}}))}))}));var v=new(function(){function class_1(){this.onlyOnceSuggestions=[]}return class_1.prototype.provideCompletionItems=function(){var e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e},class_1}());function showSimpleSuggestions(e,t){setTimeout((function(){var i;(i=v.onlyOnceSuggestions).push.apply(i,t),e.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(v))}),0)}c.d.register("*",v)},WwIK:function(e,t,i){"use strict";i.r(t),i.d(t,"TriggerParameterHintsAction",(function(){return E}));var o=i("3/fG"),n=i("pmY6"),r=i("Cg/j"),s=i("wQH0"),a=i("T8No"),c=i("sswD"),l=i("EffR"),u=i("4y0V"),d=i("OBOq"),h=i("GJhM"),p=i("MI8n"),g=i("WBhO"),f=i("3qCu"),m=i("X+cX"),_=i("/cxE"),b=i("twdY"),v=i("JQT/"),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},y={Visible:new a.d("parameterHintsVisible",!1),MultipleSignatures:new a.d("parameterHintsMultipleSignatures",!1)};function provideSignatureHelp(e,t,i,o){var n=b.x.ordered(e);return Object(m.h)(n.map((function(n){return function(){return Promise.resolve(n.provideSignatureHelp(e,t,o,i)).catch((function(e){return Object(_.f)(e)}))}})))}Object(c.e)("_executeSignatureHelpProvider",(function(e,t,i){return __awaiter(void 0,void 0,void 0,(function(){var o;return __generator(this,(function(n){switch(n.label){case 0:return[4,provideSignatureHelp(e,t,{triggerKind:b.y.Invoke,isRetrigger:!1,triggerCharacter:i.triggerCharacter},v.a.None)];case 1:return(o=n.sent())?(setTimeout((function(){return o.dispose()}),0),[2,o.value]):[2,void 0]}}))}))}));var S,C=i("W9cx"),w=i("MD5Z"),O=i("t9D7"),x=i("MXAL"),P=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},parameterHintsModel_awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},parameterHintsModel_generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.Default={type:0};var t=function t(e){this.request=e,this.type=2};e.Pending=t;var i=function i(e){this.hints=e,this.type=1};e.Active=i}(S||(S={}));var k=function(e){function ParameterHintsModel(t,i){void 0===i&&(i=ParameterHintsModel.DEFAULT_DELAY);var o=e.call(this)||this;return o._onChangedHints=o._register(new p.a),o.onChangedHints=o._onChangedHints.event,o.triggerOnType=!1,o._state=S.Default,o._pendingTriggers=[],o._lastSignatureHelpResult=o._register(new n.d),o.triggerChars=new x.b,o.retriggerChars=new x.b,o.triggerId=0,o.editor=t,o.throttledDelayer=new m.a(i),o._register(o.editor.onDidChangeConfiguration((function(){return o.onEditorConfigurationChange()}))),o._register(o.editor.onDidChangeModel((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeCursorSelection((function(e){return o.onCursorChange(e)}))),o._register(o.editor.onDidChangeModelContent((function(e){return o.onModelContentChange()}))),o._register(b.x.onDidChange(o.onModelChanged,o)),o._register(o.editor.onDidType((function(e){return o.onDidType(e)}))),o.onEditorConfigurationChange(),o.onModelChanged(),o}return P(ParameterHintsModel,e),Object.defineProperty(ParameterHintsModel.prototype,"state",{get:function(){return this._state},set:function(e){2===this._state.type&&this._state.request.cancel(),this._state=e},enumerable:!0,configurable:!0}),ParameterHintsModel.prototype.cancel=function(e){void 0===e&&(e=!1),this.state=S.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)},ParameterHintsModel.prototype.trigger=function(e,t){var i=this,o=this.editor.getModel();if(o&&b.x.has(o)){var n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((function(){return i.doTrigger(n)}),t).catch(_.e)}},ParameterHintsModel.prototype.next=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,o=this.editor.getOption(64).cycle;!(e<2||i)||o?this.updateActiveSignature(i&&o?0:t+1):this.cancel()}},ParameterHintsModel.prototype.previous=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,o=this.editor.getOption(64).cycle;!(e<2||i)||o?this.updateActiveSignature(i&&o?e-1:t-1):this.cancel()}},ParameterHintsModel.prototype.updateActiveSignature=function(e){1===this.state.type&&(this.state=new S.Active(__assign(__assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))},ParameterHintsModel.prototype.doTrigger=function(e){return parameterHintsModel_awaiter(this,void 0,void 0,(function(){var t,i,o,n,r,s,a,c;return parameterHintsModel_generator(this,(function(l){switch(l.label){case 0:if(t=1===this.state.type||2===this.state.type,i=1===this.state.type?this.state.hints:void 0,this.cancel(!0),0===this._pendingTriggers.length)return[2,!1];if(o=this._pendingTriggers.reduce(mergeTriggerContexts),this._pendingTriggers=[],n={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:t,activeSignatureHelp:i},!this.editor.hasModel())return[2,!1];r=this.editor.getModel(),s=this.editor.getPosition(),this.state=new S.Pending(Object(m.f)((function(e){return provideSignatureHelp(r,s,n,e)}))),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.state.request];case 2:return a=l.sent(),e!==this.triggerId?(null==a||a.dispose(),[2,!1]):a&&a.value.signatures&&0!==a.value.signatures.length?(this.state=new S.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),[2,!0]):(null==a||a.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),[2,!1]);case 3:return c=l.sent(),e===this.triggerId&&(this.state=S.Default),Object(_.e)(c),[2,!1];case 4:return[2]}}))}))},Object.defineProperty(ParameterHintsModel.prototype,"isTriggered",{get:function(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),ParameterHintsModel.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new x.b,this.retriggerChars=new x.b;var e=this.editor.getModel();if(e)for(var t=0,i=b.x.ordered(e);t<i.length;t++){for(var o=i[t],n=0,r=o.signatureHelpTriggerCharacters||[];n<r.length;n++){var s=r[n];this.triggerChars.add(s.charCodeAt(0)),this.retriggerChars.add(s.charCodeAt(0))}for(var a=0,c=o.signatureHelpRetriggerCharacters||[];a<c.length;a++){s=c[a];this.retriggerChars.add(s.charCodeAt(0))}}},ParameterHintsModel.prototype.onDidType=function(e){if(this.triggerOnType){var t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:b.y.TriggerCharacter,triggerCharacter:e.charAt(t)})}},ParameterHintsModel.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.y.ContentChange})},ParameterHintsModel.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:b.y.ContentChange})},ParameterHintsModel.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(64).enabled,this.triggerOnType||this.cancel()},ParameterHintsModel.prototype.dispose=function(){this.cancel(!0),e.prototype.dispose.call(this)},ParameterHintsModel.DEFAULT_DELAY=120,ParameterHintsModel}(n.a);function mergeTriggerContexts(e,t){switch(t.triggerKind){case b.y.Invoke:return t;case b.y.ContentChange:return e;case b.y.TriggerCharacter:default:return t}}var M=i("N0LK"),T=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},W=l.a,D=function(e){function ParameterHintsWidget(t,i,o,r){var s=e.call(this)||this;return s.editor=t,s.renderDisposeables=s._register(new n.b),s.visible=!1,s.announcedLabel=null,s.allowEditorOverflow=!0,s.markdownRenderer=s._register(new f.a(t,r,o)),s.model=s._register(new k(t)),s.keyVisible=y.Visible.bindTo(i),s.keyMultipleSignatures=y.MultipleSignatures.bindTo(i),s._register(s.model.onChangedHints((function(e){e?(s.show(),s.render(e)):s.hide()}))),s}return T(ParameterHintsWidget,e),ParameterHintsWidget.prototype.createParamaterHintDOMNodes=function(){var e=this,t=W(".editor-widget.parameter-hints-widget"),i=l.q(t,W(".wrapper"));i.tabIndex=-1;var o=l.q(i,W(".controls")),n=l.q(o,W(".button.codicon.codicon-chevron-up")),r=l.q(o,W(".overloads")),s=l.q(o,W(".button.codicon.codicon-chevron-down")),a=Object(u.b)(Object(u.a)(n,"click"));this._register(a(this.previous,this));var c=Object(u.b)(Object(u.a)(s,"click"));this._register(c(this.next,this));var d=W(".body"),g=new h.a(d,{});this._register(g),i.appendChild(g.getDomNode());var f=l.q(d,W(".signature")),m=l.q(d,W(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:f,overloads:r,docs:m,scrollbar:g},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(t){e.visible&&e.editor.layoutContentWidget(e)})));var updateFont=function(){if(e.domNodes){var t=e.editor.getOption(34);e.domNodes.element.style.fontSize=t.fontSize+"px"}};updateFont(),this._register(p.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)})).on(updateFont,null)),this._register(this.editor.onDidLayoutChange((function(t){return e.updateMaxHeight()}))),this.updateMaxHeight()},ParameterHintsWidget.prototype.show=function(){var e=this;this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){e.domNodes&&l.f(e.domNodes.element,"visible")}),100),this.editor.layoutContentWidget(this))},ParameterHintsWidget.prototype.hide=function(){this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&l.P(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))},ParameterHintsWidget.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},ParameterHintsWidget.prototype.render=function(e){if(this.domNodes){var t=e.signatures.length>1;l.Y(this.domNodes.element,"multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerHTML="",this.domNodes.docs.innerHTML="";var i=e.signatures[e.activeSignature];if(i){var n=l.q(this.domNodes.signature,W(".code")),r=i.parameters.length>0,s=this.editor.getOption(34);if(n.style.fontSize=s.fontSize+"px",n.style.fontFamily=s.fontFamily,r)this.renderParameters(n,i,e.activeParameter);else l.q(n,W("span")).textContent=i.label;this.renderDisposeables.clear();var a=i.parameters[e.activeParameter];if(a&&a.documentation){var c=W("span.documentation");if("string"==typeof a.documentation)c.textContent=a.documentation;else{var u=this.markdownRenderer.render(a.documentation);l.f(u.element,"markdown-docs"),this.renderDisposeables.add(u),c.appendChild(u.element)}l.q(this.domNodes.docs,W("p",{},c))}if(void 0===i.documentation);else if("string"==typeof i.documentation)l.q(this.domNodes.docs,W("p",{},i.documentation));else{u=this.markdownRenderer.render(i.documentation);l.f(u.element,"markdown-docs"),this.renderDisposeables.add(u),l.q(this.domNodes.docs,u.element)}var h=this.hasDocs(i,a);if(l.Y(this.domNodes.signature,"has-docs",h),l.Y(this.domNodes.docs,"empty",!h),this.domNodes.overloads.textContent=Object(M.F)(e.activeSignature+1,e.signatures.length.toString().length)+"/"+e.signatures.length,a){var p=this.getParameterLabel(i,e.activeParameter);this.announcedLabel!==p&&(d.a(o.a("hint","{0}, hint",p)),this.announcedLabel=p)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}},ParameterHintsWidget.prototype.hasDocs=function(e,t){return!!(t&&"string"==typeof t.documentation&&t.documentation.length>0)||(!!(t&&"object"==typeof t.documentation&&t.documentation.value.length>0)||("string"==typeof e.documentation&&e.documentation.length>0||"object"==typeof e.documentation&&e.documentation.value.length>0))},ParameterHintsWidget.prototype.renderParameters=function(e,t,i){var o=this.getParameterLabelOffsets(t,i),n=o[0],r=o[1],s=document.createElement("span");s.textContent=t.label.substring(0,n);var a=document.createElement("span");a.textContent=t.label.substring(n,r),a.className="parameter active";var c=document.createElement("span");c.textContent=t.label.substring(r),l.q(e,s,a,c)},ParameterHintsWidget.prototype.getParameterLabel=function(e,t){var i=e.parameters[t];return"string"==typeof i.label?i.label:e.label.substring(i.label[0],i.label[1])},ParameterHintsWidget.prototype.getParameterLabelOffsets=function(e,t){var i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;var o=e.label.lastIndexOf(i.label);return o>=0?[o,o+i.label.length]:[0,0]}return[0,0]},ParameterHintsWidget.prototype.next=function(){this.editor.focus(),this.model.next()},ParameterHintsWidget.prototype.previous=function(){this.editor.focus(),this.model.previous()},ParameterHintsWidget.prototype.cancel=function(){this.model.cancel()},ParameterHintsWidget.prototype.getDomNode=function(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element},ParameterHintsWidget.prototype.getId=function(){return ParameterHintsWidget.ID},ParameterHintsWidget.prototype.trigger=function(e){this.model.trigger(e,0)},ParameterHintsWidget.prototype.updateMaxHeight=function(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250)+"px";this.domNodes.element.style.maxHeight=e;var t=this.domNodes.element.getElementsByClassName("wrapper");t.length&&(t[0].style.maxHeight=e)}},ParameterHintsWidget.ID="editor.widget.parameterHintsWidget",ParameterHintsWidget=__decorate([__param(1,a.c),__param(2,C.a),__param(3,g.a)],ParameterHintsWidget)}(n.a);Object(O.e)((function(e,t){var i=e.getColor(w.B);if(i){var o=e.type===O.b?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+o+"px solid "+i+"; }"),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+i.transparent(.5)+"; }"),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+i.transparent(.5)+"; }")}var n=e.getColor(w.A);n&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+n+"; }");var r=e.getColor(w.ec);r&&t.addRule(".monaco-editor .parameter-hints-widget a { color: "+r+"; }");var s=e.getColor(w.C);s&&t.addRule(".monaco-editor .parameter-hints-widget { color: "+s+"; }");var a=e.getColor(w.dc);a&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+a+"; }")}));var R=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),parameterHints_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},parameterHints_param=function(e,t){return function(i,o){t(i,o,e)}},N=function(e){function ParameterHintsController(t,i){var o=e.call(this)||this;return o.editor=t,o.widget=o._register(i.createInstance(D,o.editor)),o}return R(ParameterHintsController,e),ParameterHintsController.get=function(e){return e.getContribution(ParameterHintsController.ID)},ParameterHintsController.prototype.cancel=function(){this.widget.cancel()},ParameterHintsController.prototype.previous=function(){this.widget.previous()},ParameterHintsController.prototype.next=function(){this.widget.next()},ParameterHintsController.prototype.trigger=function(e){this.widget.trigger(e)},ParameterHintsController.ID="editor.controller.parameterHints",ParameterHintsController=parameterHints_decorate([parameterHints_param(1,r.a)],ParameterHintsController)}(n.a),E=function(e){function TriggerParameterHintsAction(){return e.call(this,{id:"editor.action.triggerParameterHints",label:o.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:s.a.hasSignatureHelpProvider,kbOpts:{kbExpr:s.a.editorTextFocus,primary:3082,weight:100}})||this}return R(TriggerParameterHintsAction,e),TriggerParameterHintsAction.prototype.run=function(e,t){var i=N.get(t);i&&i.trigger({triggerKind:b.y.Invoke})},TriggerParameterHintsAction}(c.b);Object(c.h)(N.ID,N),Object(c.f)(E);var L=c.c.bindToContribution(N.get);Object(c.g)(new L({id:"closeParameterHints",precondition:y.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:175,kbExpr:s.a.focus,primary:9,secondary:[1033]}})),Object(c.g)(new L({id:"showPrevParameterHint",precondition:a.a.and(y.Visible,y.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:175,kbExpr:s.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(c.g)(new L({id:"showNextParameterHint",precondition:a.a.and(y.Visible,y.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:175,kbExpr:s.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},XtJs:function(e,t,i){"use strict";i.r(t),i.d(t,"getOccurrencesAtPosition",(function(){return getOccurrencesAtPosition}));var o=i("3/fG"),n=i("6OMU"),r=i("X+cX"),s=i("JQT/"),a=i("/cxE"),c=i("pmY6"),l=i("sswD"),u=i("aokT"),d=i("wQH0"),h=i("M1Kb"),p=i("tX9W"),g=i("twdY"),f=i("T8No"),m=i("MD5Z"),_=i("t9D7"),b=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},v=Object(m.Tb)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},o.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),y=Object(m.Tb)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},o.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),S=Object(m.Tb)("editor.wordHighlightBorder",{light:null,dark:null,hc:m.b},o.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),C=Object(m.Tb)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:m.b},o.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),w=Object(m.Tb)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},o.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),O=Object(m.Tb)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},o.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),x=new f.d("hasWordHighlights",!1);function getOccurrencesAtPosition(e,t,i){var o=g.i.ordered(e);return Object(r.h)(o.map((function(o){return function(){return Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,a.f)}})),n.q)}var P=function(){function OccurenceAtPositionRequest(e,t,i){var o=this;this._wordRange=this._getCurrentWordRange(e,t),this.result=Object(r.f)((function(n){return o._compute(e,t,i,n)}))}return OccurenceAtPositionRequest.prototype._getCurrentWordRange=function(e,t){var i=e.getWordAtPosition(t.getPosition());return i?new u.a(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null},OccurenceAtPositionRequest.prototype.isValid=function(e,t,i){for(var o=t.startLineNumber,n=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t),a=Boolean(this._wordRange&&this._wordRange.equalsRange(s)),c=0,l=i.length;!a&&c<l;c++){var u=e.getDecorationRange(i[c]);u&&u.startLineNumber===o&&u.startColumn<=n&&u.endColumn>=r&&(a=!0)}return a},OccurenceAtPositionRequest.prototype.cancel=function(){this.result.cancel()},OccurenceAtPositionRequest}(),k=function(e){function SemanticOccurenceAtPositionRequest(){return null!==e&&e.apply(this,arguments)||this}return b(SemanticOccurenceAtPositionRequest,e),SemanticOccurenceAtPositionRequest.prototype._compute=function(e,t,i,o){return getOccurrencesAtPosition(e,t.getPosition(),o).then((function(e){return e||[]}))},SemanticOccurenceAtPositionRequest}(P),M=function(e){function TextualOccurenceAtPositionRequest(t,i,o){var n=e.call(this,t,i,o)||this;return n._selectionIsEmpty=i.isEmpty(),n}return b(TextualOccurenceAtPositionRequest,e),TextualOccurenceAtPositionRequest.prototype._compute=function(e,t,i,o){return Object(r.l)(250,o).then((function(){if(!t.isEmpty())return[];var o=e.getWordAtPosition(t.getPosition());return o?e.findMatches(o.word,!0,!1,!0,i,!1).map((function(e){return{range:e.range,kind:g.h.Text}})):[]}))},TextualOccurenceAtPositionRequest.prototype.isValid=function(t,i,o){var n=i.isEmpty();return this._selectionIsEmpty===n&&e.prototype.isValid.call(this,t,i,o)},TextualOccurenceAtPositionRequest}(P);Object(l.k)("_executeDocumentHighlights",(function(e,t){return getOccurrencesAtPosition(e,t,s.a.None)}));var T=function(){function WordHighlighter(e,t){var i=this;this.toUnhook=new c.b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=x.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(61),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((function(e){i._ignorePositionChangeEvent||i.occurrencesHighlight&&i._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((function(e){i._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((function(e){var t=i.editor.getOption(61);i.occurrencesHighlight!==t&&(i.occurrencesHighlight=t,i._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return WordHighlighter.prototype.hasDecorations=function(){return this._decorationIds.length>0},WordHighlighter.prototype.restore=function(){this.occurrencesHighlight&&this._run()},WordHighlighter.prototype._getSortedHighlights=function(){var e=this;return n.d(this._decorationIds.map((function(t){return e.model.getDecorationRange(t)})).sort(u.a.compareRangesUsingStarts))},WordHighlighter.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),i=t[(n.k(t,(function(t){return t.containsPosition(e.editor.getPosition())}))+1)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i)}finally{this._ignorePositionChangeEvent=!1}},WordHighlighter.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),i=t[(n.k(t,(function(t){return t.containsPosition(e.editor.getPosition())}))-1+t.length)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i)}finally{this._ignorePositionChangeEvent=!1}},WordHighlighter.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},WordHighlighter.prototype._stopAll=function(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},WordHighlighter.prototype._onPositionChanged=function(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()},WordHighlighter.prototype._run=function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber===t.endLineNumber){var i=t.startLineNumber,o=t.startColumn,n=t.endColumn,r=this.model.getWordAtPosition({lineNumber:i,column:o});if(!r||r.startColumn>o||r.endColumn<n)this._stopAll();else{var s=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var c=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function computeOccurencesAtPosition(e,t,i){return g.i.has(e)?new k(e,t,i):new M(e,t,i)}(this.model,this.editor.getSelection(),this.editor.getOption(96)),this.workerRequest.result.then((function(t){c===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=t||[],e._beginRenderDecorations())}),a.e)}}}else this._stopAll()},WordHighlighter.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),i=this.lastCursorPositionChangeTime+250;t>=i?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((function(){e.renderDecorations()}),i-t)},WordHighlighter.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,i=this.workerRequestValue.length;t<i;t++){var o=this.workerRequestValue[t];e.push({range:o.range,options:WordHighlighter._getDecorationOptions(o.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())},WordHighlighter._getDecorationOptions=function(e){return e===g.h.Write?this._WRITE_OPTIONS:e===g.h.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},WordHighlighter.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},WordHighlighter._WRITE_OPTIONS=p.a.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(_.f)(O),position:h.d.Center}}),WordHighlighter._TEXT_OPTIONS=p.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_.f)(m.Mb),position:h.d.Center}}),WordHighlighter._REGULAR_OPTIONS=p.a.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(_.f)(w),position:h.d.Center}}),WordHighlighter}(),W=function(e){function WordHighlighterContribution(t,i){var o=e.call(this)||this;o.wordHighligher=null;var createWordHighlighterIfPossible=function(){t.hasModel()&&(o.wordHighligher=new T(t,i))};return o._register(t.onDidChangeModel((function(e){o.wordHighligher&&(o.wordHighligher.dispose(),o.wordHighligher=null),createWordHighlighterIfPossible()}))),createWordHighlighterIfPossible(),o}return b(WordHighlighterContribution,e),WordHighlighterContribution.get=function(e){return e.getContribution(WordHighlighterContribution.ID)},WordHighlighterContribution.prototype.saveViewState=function(){return!(!this.wordHighligher||!this.wordHighligher.hasDecorations())},WordHighlighterContribution.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},WordHighlighterContribution.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},WordHighlighterContribution.prototype.restoreViewState=function(e){this.wordHighligher&&e&&this.wordHighligher.restore()},WordHighlighterContribution.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),e.prototype.dispose.call(this)},WordHighlighterContribution.ID="editor.contrib.wordHighlighter",WordHighlighterContribution=__decorate([__param(1,f.c)],WordHighlighterContribution)}(c.a),D=function(e){function WordHighlightNavigationAction(t,i){var o=e.call(this,i)||this;return o._isNext=t,o}return b(WordHighlightNavigationAction,e),WordHighlightNavigationAction.prototype.run=function(e,t){var i=W.get(t);i&&(this._isNext?i.moveNext():i.moveBack())},WordHighlightNavigationAction}(l.b),R=function(e){function NextWordHighlightAction(){return e.call(this,!0,{id:"editor.action.wordHighlight.next",label:o.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:x,kbOpts:{kbExpr:d.a.editorTextFocus,primary:65,weight:100}})||this}return b(NextWordHighlightAction,e),NextWordHighlightAction}(D),N=function(e){function PrevWordHighlightAction(){return e.call(this,!1,{id:"editor.action.wordHighlight.prev",label:o.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:x,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1089,weight:100}})||this}return b(PrevWordHighlightAction,e),PrevWordHighlightAction}(D),E=function(e){function TriggerWordHighlightAction(){return e.call(this,{id:"editor.action.wordHighlight.trigger",label:o.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:x.toNegated(),kbOpts:{kbExpr:d.a.editorTextFocus,primary:0,weight:100}})||this}return b(TriggerWordHighlightAction,e),TriggerWordHighlightAction.prototype.run=function(e,t,i){var o=W.get(t);o&&o.restoreViewState(!0)},TriggerWordHighlightAction}(l.b);Object(l.h)(W.ID,W),Object(l.f)(R),Object(l.f)(N),Object(l.f)(E),Object(_.e)((function(e,t){var i=e.getColor(m.M);i&&(t.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+i+"; }"),t.addRule(".monaco-editor .selectionHighlight { background-color: "+i.transparent(.5)+"; }"));var o=e.getColor(v);o&&t.addRule(".monaco-editor .wordHighlight { background-color: "+o+"; }");var n=e.getColor(y);n&&t.addRule(".monaco-editor .wordHighlightStrong { background-color: "+n+"; }");var r=e.getColor(m.N);r&&t.addRule(".monaco-editor .selectionHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+r+"; box-sizing: border-box; }");var s=e.getColor(S);s&&t.addRule(".monaco-editor .wordHighlight { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; box-sizing: border-box; }");var a=e.getColor(C);a&&t.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; box-sizing: border-box; }")}))},Z7SF:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("cGHE"),n=i("aokT"),r=i("24hK"),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},s=function(){function BracketSelectionRangeProvider(){}return BracketSelectionRangeProvider.prototype.provideSelectionRanges=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,n,r,s;return __generator(this,(function(a){switch(a.label){case 0:i=[],o=function(t){var o,n;return __generator(this,(function(r){switch(r.label){case 0:return o=[],i.push(o),n=new Map,[4,new Promise((function(i){return BracketSelectionRangeProvider._bracketsRightYield(i,0,e,t,n)}))];case 1:return r.sent(),[4,new Promise((function(i){return BracketSelectionRangeProvider._bracketsLeftYield(i,0,e,t,n,o)}))];case 2:return r.sent(),[2]}}))},n=0,r=t,a.label=1;case 1:return n<r.length?(s=r[n],[5,o(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2,i]}}))}))},BracketSelectionRangeProvider._bracketsRightYield=function(e,t,i,o,n){for(var s=new Map,a=Date.now();;){if(t>=BracketSelectionRangeProvider._maxRounds){e();break}if(!o){e();break}var c=i.findNextBracket(o);if(!c){e();break}if(Date.now()-a>BracketSelectionRangeProvider._maxDuration){setTimeout((function(){return BracketSelectionRangeProvider._bracketsRightYield(e,t+1,i,o,n)}));break}var l=c.close[0];if(c.isOpen){var u=s.has(l)?s.get(l):0;s.set(l,u+1)}else{u=s.has(l)?s.get(l):0;if(u-=1,s.set(l,Math.max(0,u)),u<0){var d=n.get(l);d||(d=new r.a,n.set(l,d)),d.push(c.range)}}o=c.range.getEndPosition()}},BracketSelectionRangeProvider._bracketsLeftYield=function(e,t,i,o,r,s){for(var a=new Map,c=Date.now();;){if(t>=BracketSelectionRangeProvider._maxRounds&&0===r.size){e();break}if(!o){e();break}var l=i.findPrevBracket(o);if(!l){e();break}if(Date.now()-c>BracketSelectionRangeProvider._maxDuration){setTimeout((function(){return BracketSelectionRangeProvider._bracketsLeftYield(e,t+1,i,o,r,s)}));break}var u=l.close[0];if(l.isOpen){f=a.has(u)?a.get(u):0;if(f-=1,a.set(u,Math.max(0,f)),f<0){var d=r.get(u);if(d){var h=d.shift();0===d.size&&r.delete(u);var p=n.a.fromPositions(l.range.getEndPosition(),h.getStartPosition()),g=n.a.fromPositions(l.range.getStartPosition(),h.getEndPosition());s.push({range:p}),s.push({range:g}),BracketSelectionRangeProvider._addBracketLeading(i,g,s)}}}else{var f=a.has(u)?a.get(u):0;a.set(u,f+1)}o=l.range.getStartPosition()}},BracketSelectionRangeProvider._addBracketLeading=function(e,t,i){if(t.startLineNumber!==t.endLineNumber){var r=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);0!==s&&s!==t.startColumn&&(i.push({range:n.a.fromPositions(new o.a(r,s),t.getEndPosition())}),i.push({range:n.a.fromPositions(new o.a(r,1),t.getEndPosition())}));var a=r-1;if(a>0){var c=e.getLineFirstNonWhitespaceColumn(a);c===t.startColumn&&c!==e.getLineLastNonWhitespaceColumn(a)&&(i.push({range:n.a.fromPositions(new o.a(a,c),t.getEndPosition())}),i.push({range:n.a.fromPositions(new o.a(a,1),t.getEndPosition())}))}}},BracketSelectionRangeProvider._maxDuration=30,BracketSelectionRangeProvider._maxRounds=2,BracketSelectionRangeProvider}()},ep4t:function(e,t,i){"use strict";i.r(t),i.d(t,"SuggestController",(function(){return De})),i.d(t,"TriggerSuggestAction",(function(){return Re}));var o=i("OBOq"),n=i("6OMU"),r=i("/cxE"),s=i("/kV6"),a=i("pmY6"),c=i("sswD"),l=i("0/Sa"),u=i("aokT"),d=i("wQH0"),h=i("tXSY"),p=i("uACm"),g=i("QDVR"),f=i("A+jI"),m=i("twdY"),_=i("X+cX"),b=i("Cg/j"),v=i("+7oY"),y=i("9fML"),S=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},C=function(){function Memory(){}return Memory.prototype.select=function(e,t,i){if(0===i.length)return 0;for(var o=i[0].score[0],n=1;n<i.length;n++){var r=i[n],s=r.score,a=r.completion;if(s[0]!==o)break;if(a.preselect)return n}return 0},Memory}(),w=function(e){function NoMemory(){return null!==e&&e.apply(this,arguments)||this}return S(NoMemory,e),NoMemory.prototype.memorize=function(e,t,i){},NoMemory.prototype.toJSON=function(){},NoMemory.prototype.fromJSON=function(){},NoMemory}(C),O=function(e){function LRUMemory(){var t=null!==e&&e.apply(this,arguments)||this;return t._cache=new g.a(300,.66),t._seq=0,t}return S(LRUMemory,e),LRUMemory.prototype.memorize=function(e,t,i){var o=i.completion.label,n=e.getLanguageIdentifier().language+"/"+o;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})},LRUMemory.prototype.select=function(t,i,o){if(0===o.length)return 0;var n=t.getLineContent(i.lineNumber).substr(i.column-10,i.column-1);if(/\s$/.test(n))return e.prototype.select.call(this,t,i,o);for(var r=o[0].score[0],s=-1,a=-1,c=-1,l=0;l<o.length&&o[l].score[0]===r;l++){var u=t.getLanguageIdentifier().language+"/"+o[l].completion.label,d=this._cache.peek(u);if(d&&d.touch>c&&d.type===o[l].completion.kind&&d.insertText===o[l].completion.insertText&&(c=d.touch,a=l),o[l].completion.preselect&&-1===s)return l}return-1!==a?a:-1!==s?s:0},LRUMemory.prototype.toJSON=function(){var e=[];return this._cache.forEach((function(t,i){e.push([i,t])})),e},LRUMemory.prototype.fromJSON=function(e){this._cache.clear();for(var t=0,i=e;t<i.length;t++){var o=i[t],n=o[0],r=o[1];r.touch=0,r.type="number"==typeof r.type?r.type:Object(m.E)(r.type),this._cache.set(n,r)}this._seq=this._cache.size},LRUMemory}(C),x=function(e){function PrefixMemory(){var t=null!==e&&e.apply(this,arguments)||this;return t._trie=g.c.forStrings(),t._seq=0,t}return S(PrefixMemory,e),PrefixMemory.prototype.memorize=function(e,t,i){var o=e.getWordUntilPosition(t).word,n=e.getLanguageIdentifier().language+"/"+o;this._trie.set(n,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})},PrefixMemory.prototype.select=function(t,i,o){var n=t.getWordUntilPosition(i).word;if(!n)return e.prototype.select.call(this,t,i,o);var r=t.getLanguageIdentifier().language+"/"+n,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(var a=0;a<o.length;a++){var c=o[a].completion,l=c.kind,u=c.insertText;if(l===s.type&&u===s.insertText)return a}return e.prototype.select.call(this,t,i,o)},PrefixMemory.prototype.toJSON=function(){var e=[];return this._trie.forEach((function(t,i){return e.push([i,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)},PrefixMemory.prototype.fromJSON=function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(var t=0,i=e;t<i.length;t++){var o=i[t],n=o[0],r=o[1];r.type="number"==typeof r.type?r.type:Object(m.E)(r.type),this._trie.set(n,r)}}},PrefixMemory}(C),P=function(e){function SuggestMemoryService(t,i){var o=e.call(this)||this;o._storageService=t,o._configService=i,o._storagePrefix="suggest/memories";var update=function(){var e=o._configService.getValue("editor.suggestSelection"),t=o._configService.getValue("editor.suggest.shareSuggestSelections");o._update(e,t,!1)};return o._persistSoon=o._register(new _.d((function(){return o._saveState()}),500)),o._register(t.onWillSaveState((function(e){e.reason===f.c.SHUTDOWN&&o._saveState()}))),o._register(o._configService.onDidChangeConfiguration((function(e){(e.affectsConfiguration("editor.suggestSelection")||e.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&update()}))),o._register(o._storageService.onDidChangeStorage((function(e){0===e.scope&&0===e.key.indexOf(o._storagePrefix)&&(document.hasFocus()||o._update(o._mode,o._shareMem,!0))}))),update(),o}return S(SuggestMemoryService,e),SuggestMemoryService.prototype._update=function(e,t,i){if(i||this._mode!==e||this._shareMem!==t){this._shareMem=t,this._mode=e,this._strategy="recentlyUsedByPrefix"===e?new x:"recentlyUsed"===e?new O:new w;try{var o=t?0:1,n=this._storageService.get(this._storagePrefix+"/"+this._mode,o);n&&this._strategy.fromJSON(JSON.parse(n))}catch(e){}}},SuggestMemoryService.prototype.memorize=function(e,t,i){this._strategy.memorize(e,t,i),this._persistSoon.schedule()},SuggestMemoryService.prototype.select=function(e,t,i){return this._strategy.select(e,t,i)},SuggestMemoryService.prototype._saveState=function(){var e=JSON.stringify(this._strategy),t=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,e,t)},SuggestMemoryService=__decorate([__param(0,f.a),__param(1,v.a)],SuggestMemoryService)}(a.a),k=Object(b.c)("ISuggestMemories");Object(y.b)(k,P,!0);var M=i("3/fG"),T=i("nnTU"),W=i("T8No"),D=i("nrhi"),R=i("QVNv"),suggestAlternatives_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},suggestAlternatives_param=function(e,t){return function(i,o){t(i,o,e)}},N=function(){function SuggestAlternatives(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=SuggestAlternatives.OtherSuggestions.bindTo(t)}return SuggestAlternatives.prototype.dispose=function(){this.reset()},SuggestAlternatives.prototype.reset=function(){this._ckOtherSuggestions.reset(),Object(a.f)(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},SuggestAlternatives.prototype.set=function(e,t){var i=this,o=e.model,n=e.index;0!==o.items.length?SuggestAlternatives._moveIndex(!0,o,n)!==n?(this._acceptNext=t,this._model=o,this._index=n,this._listener=this._editor.onDidChangeCursorPosition((function(){i._ignore||i.reset()})),this._ckOtherSuggestions.set(!0)):this.reset():this.reset()},SuggestAlternatives._moveIndex=function(e,t,i){for(var o=i;(o=(o+t.items.length+(e?1:-1))%t.items.length)!==i&&t.items[o].completion.additionalTextEdits;);return o},SuggestAlternatives.prototype.next=function(){this._move(!0)},SuggestAlternatives.prototype.prev=function(){this._move(!1)},SuggestAlternatives.prototype._move=function(e){if(this._model)try{this._ignore=!0,this._index=SuggestAlternatives._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},SuggestAlternatives.OtherSuggestions=new W.d("hasOtherSuggestions",!1),SuggestAlternatives=suggestAlternatives_decorate([suggestAlternatives_param(1,W.c)],SuggestAlternatives)}(),E=i("MI8n"),L=i("gCVg"),j=i("fpMC"),A=i("N0LK"),I=function(){function CompletionModel(e,t,i,o,n,r){this._snippetCompareFn=CompletionModel._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=o,this._options=n,this._refilterKind=1,this._lineContext=i,"top"===r?this._snippetCompareFn=CompletionModel._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=CompletionModel._compareCompletionItemsSnippetsDown)}return Object.defineProperty(CompletionModel.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(CompletionModel.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(CompletionModel.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),CompletionModel.prototype.adopt=function(e){for(var t=new Array,i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(CompletionModel.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),CompletionModel.prototype._ensureCachedState=function(){0!==this._refilterKind&&this._createCachedState()},CompletionModel.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,i=e.characterCountDelta,o="",n="",r=1===this._refilterKind?this._items:this._filteredItems,s=[],a=!this._options.filterGraceful||r.length>2e3?j.d:j.e,c=0;c<r.length;c++){var l=r[c];l.container.incomplete&&this._isIncomplete.add(l.provider);var u=l.position.column-l.editStart.column,d=u+i-(l.position.column-this._column);if(o.length!==d&&(n=(o=0===d?"":t.slice(-d)).toLowerCase()),l.word=o,0===d)l.score=j.a.Default;else{for(var h=0;h<u;){var p=o.charCodeAt(h);if(32!==p&&9!==p)break;h+=1}var g="string"==typeof l.completion.label?l.completion.label:l.completion.label.name;if(h>=d)l.score=j.a.Default;else if("string"==typeof l.completion.filterText){if(!(f=a(o,n,h,l.completion.filterText,l.filterTextLow,0,!1)))continue;0===Object(A.f)(l.completion.filterText,g)?l.score=f:(l.score=Object(j.b)(o,n,h,g,l.labelLow,0),l.score[0]=f[0])}else{var f;if(!(f=a(o,n,h,g,l.labelLow,0,!1)))continue;l.score=f}}switch(l.idx=c,l.distance=this._wordDistance.distance(l.position,l.completion),s.push(l),this._stats.suggestionCount++,l.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0},CompletionModel._compareCompletionItems=function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},CompletionModel._compareCompletionItemsSnippetsDown=function(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return 1;if(25===t.completion.kind)return-1}return CompletionModel._compareCompletionItems(e,t)},CompletionModel._compareCompletionItemsSnippetsUp=function(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return-1;if(25===t.completion.kind)return 1}return CompletionModel._compareCompletionItems(e,t)},CompletionModel}(),H=i("JQT/"),F=i("Z7SF"),V=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},B=function(){function WordDistance(){}return WordDistance.create=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,r,s;return __generator(this,(function(a){switch(a.label){case 0:return t.getOption(89).localityBonus&&t.hasModel()?(i=t.getModel(),o=t.getPosition(),e.canComputeWordRanges(i.uri)?[4,(new F.a).provideSelectionRanges(i,[o])]:[2,WordDistance.None]):[2,WordDistance.None];case 1:return(r=a.sent())&&0!==r.length&&0!==r[0].length?[4,e.computeWordRanges(i.uri,r[0][0].range)]:[2,WordDistance.None];case 2:return s=a.sent(),[2,new(function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return V(class_1,e),class_1.prototype.distance=function(e,i){if(!s||!o.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;var a="string"==typeof i.label?i.label:i.label.name,c=s[a];if(Object(n.p)(c))return 2<<20;for(var l=Object(n.c)(c,u.a.fromPositions(e),u.a.compareRangesUsingStarts),d=l>=0?c[l]:c[Math.max(0,~l-1)],h=r.length,p=0,g=r[0];p<g.length;p++){var f=g[p];if(!u.a.containsRange(f.range,d))break;h-=1}return h},class_1}(WordDistance))]}}))}))},WordDistance.None=new(function(e){function class_2(){return null!==e&&e.apply(this,arguments)||this}return V(class_2,e),class_2.prototype.distance=function(){return 0},class_2}(WordDistance)),WordDistance}(),q=function(){function LineContext(e,t,i,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=o}return LineContext.shouldAutoTrigger=function(e){if(!e.hasModel())return!1;var t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);var o=t.getWordAtPosition(i);return!!o&&(o.endColumn===i.column&&!!isNaN(Number(o.word)))},LineContext}(),G=function(){function SuggestModel(e,t){var i=this;this._editor=e,this._editorWorker=t,this._toDispose=new a.b,this._quickSuggestDelay=10,this._triggerCharacterListener=new a.b,this._triggerQuickSuggest=new _.e,this._state=0,this._completionDisposables=new a.b,this._onDidCancel=new E.a,this._onDidTrigger=new E.a,this._onDidSuggest=new E.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new L.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){i._updateTriggerCharacters(),i._updateQuickSuggest()}))),this._toDispose.add(m.d.onDidChange((function(){i._updateTriggerCharacters(),i._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){i._onCursorChange(e)})));var o=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){o=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){o=!1,i._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){o||i._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return SuggestModel.prototype.dispose=function(){Object(a.f)(this._triggerCharacterListener),Object(a.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},SuggestModel.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(67),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},SuggestModel.prototype._updateTriggerCharacters=function(){var e=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(68)&&this._editor.hasModel()&&this._editor.getOption(92)){for(var t=new Map,i=0,o=m.d.all(this._editor.getModel());i<o.length;i++)for(var n=o[i],r=0,s=n.triggerCharacters||[];r<s.length;r++){var a=s[r],c=t.get(a);c||((c=new Set).add(Object(R.c)()),t.set(a,c)),c.add(n)}var checkTriggerCharacter=function(i){if(!i){var o=e._editor.getPosition();i=e._editor.getModel().getLineContent(o.lineNumber).substr(0,o.column-1)}var n="";Object(A.A)(i.charCodeAt(i.length-1))?Object(A.z)(i.charCodeAt(i.length-2))&&(n=i.substr(i.length-2)):n=i.charAt(i.length-1);var r=t.get(n);if(r){var s=e._completionModel?e._completionModel.adopt(r):void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(e._completionModel),r,s)}};this._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(checkTriggerCharacter))}},Object.defineProperty(SuggestModel.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),SuggestModel.prototype.cancel=function(e){void 0===e&&(e=!1),0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))},SuggestModel.prototype.clear=function(){this._completionDisposables.clear()},SuggestModel.prototype._updateActiveSuggestSession=function(){0!==this._state&&(this._editor.hasModel()&&m.d.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())},SuggestModel.prototype._onCursorChange=function(e){var t=this;if(this._editor.hasModel()){var i=this._editor.getModel(),o=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(m.d.has(i)&&0===this._state){if(!1===this._editor.getOption(66))return;if(!o.containsRange(this._currentSelection)&&!o.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(89).snippetsPreventQuickSuggestions&&h.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===t._state&&q.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var e=t._editor.getModel(),i=t._editor.getPosition(),o=t._editor.getOption(66);if(!1!==o){if(!0===o);else{e.tokenizeIfCheap(i.lineNumber);var n=e.getLineTokens(i.lineNumber),r=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(!(o.other&&0===r||o.comments&&1===r||o.strings&&2===r))return}t.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)}}},SuggestModel.prototype._refilterCompletionItems=function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getPosition(),o=new q(t,i,2===e._state,!1);e._onNewContext(o)}}))},SuggestModel.prototype.trigger=function(e,t,i,o){var s=this;if(void 0===t&&(t=!1),this._editor.hasModel()){var c,l=this._editor.getModel(),u=e.auto,d=new q(l,this._editor.getPosition(),u,e.shy);this.cancel(t),this._state=u?2:1,this._onDidTrigger.fire({auto:u,shy:e.shy,position:this._editor.getPosition()}),this._context=d,c=e.triggerCharacter?{triggerKind:1,triggerCharacter:e.triggerCharacter}:i&&i.size>0?{triggerKind:2}:{triggerKind:0},this._requestToken=new H.b;var h=this._editor.getOption(86),p=1;switch(h){case"top":p=0;break;case"bottom":p=2}var g=SuggestModel._createItemKindFilter(this._editor),f=B.create(this._editorWorker,this._editor),m=Object(R.e)(l,this._editor.getPosition(),new R.a(p,g,i),c,this._requestToken.token);Promise.all([m,f]).then((function(t){var i=t[0],r=t[1];if(Object(a.f)(s._requestToken),0!==s._state&&s._editor.hasModel()){var c=s._editor.getModel();if(Object(n.q)(o)){var l=Object(R.d)(p);i=i.concat(o).sort(l)}var d=new q(c,s._editor.getPosition(),u,e.shy);s._completionModel=new I(i,s._context.column,{leadingLineContent:d.leadingLineContent,characterCountDelta:d.column-s._context.column},r,s._editor.getOption(89),s._editor.getOption(86));for(var h=0,g=i;h<g.length;h++){var f=g[h];Object(a.g)(f.container)&&s._completionDisposables.add(f.container)}s._onNewContext(d)}})).catch(r.e)}},SuggestModel._createItemKindFilter=function(e){var t=new Set;"none"===e.getOption(86)&&t.add(25);var i=e.getOption(89);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(25),t},SuggestModel.prototype._onNewContext=function(e){if(this._context)if(e.lineNumber===this._context.lineNumber){if(e.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var t=this._completionModel.incomplete,i=this._completionModel.adopt(t);this.trigger({auto:2===this._state,shy:!1},!0,t,i)}else{var o=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(q.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=o,(n=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}else this.cancel()},SuggestModel}(),U=(i("k76M"),i("jqj9"),i("EffR")),K=i("cqdO"),Z=i("GJhM"),z=i("bexQ"),Y=i("XXUj"),X=i("ptcw"),J=i("t9D7"),Q=i("MD5Z"),$=i("3qCu"),ee=i("WBhO"),te=i("W9cx"),ie=i("xONI"),oe=i("iuvu"),ne=i("G2kB"),re=i("bY76"),se=i("RZzQ"),ae=i("eLzo"),ce=i("cGHE"),__assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},suggestWidget_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},suggestWidget_param=function(e,t){return function(i,o){t(i,o,e)}},suggestWidget_awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},suggestWidget_generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},le=Object(Q.Tb)("editorSuggestWidget.background",{dark:Q.Q,light:Q.Q,hc:Q.Q},M.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),ue=Object(Q.Tb)("editorSuggestWidget.border",{dark:Q.R,light:Q.R,hc:Q.R},M.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),de=Object(Q.Tb)("editorSuggestWidget.foreground",{dark:Q.x,light:Q.x,hc:Q.x},M.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),he=Object(Q.Tb)("editorSuggestWidget.selectedBackground",{dark:Q.rb,light:Q.rb,hc:Q.rb},M.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),pe=Object(Q.Tb)("editorSuggestWidget.highlightForeground",{dark:Q.tb,light:Q.tb,hc:Q.tb},M.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),ge=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function canExpandCompletionItem(e){if(!e)return!1;var t=e.completion;return!!t.documentation||t.detail&&t.detail!==t.label}function getAriaId(e){return"suggest-aria-id:"+e}var fe=function(){function ItemRenderer(e,t,i,o,n,r){this.widget=e,this.editor=t,this.triggerKeybindingLabel=i,this._modelService=o,this._modeService=n,this._themeService=r}return Object.defineProperty(ItemRenderer.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),ItemRenderer.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.disposables=new a.b,i.root=e,Object(U.f)(i.root,"show-file-icons"),i.icon=Object(U.q)(e,Object(U.a)(".icon")),i.colorspan=Object(U.q)(i.icon,Object(U.a)("span.colorspan"));var o=Object(U.q)(e,Object(U.a)(".contents")),n=Object(U.q)(o,Object(U.a)(".main"));i.left=Object(U.q)(n,Object(U.a)("span.left")),i.right=Object(U.q)(n,Object(U.a)("span.right")),i.iconContainer=Object(U.q)(i.left,Object(U.a)(".icon-label.codicon")),i.iconLabel=new ie.a(i.left,{supportHighlights:!0,supportCodicons:!0}),i.disposables.add(i.iconLabel),i.signatureLabel=Object(U.q)(i.left,Object(U.a)("span.signature-label")),i.qualifierLabel=Object(U.q)(i.left,Object(U.a)("span.qualifier-label")),i.detailsLabel=Object(U.q)(i.right,Object(U.a)("span.details-label")),i.readMore=Object(U.q)(i.right,Object(U.a)("span.readMore.codicon.codicon-info")),i.readMore.title=M.a("readMore","Read More...{0}",this.triggerKeybindingLabel);var configureFont=function(){var e=t.editor.getOptions(),o=e.get(34),r=o.fontFamily,s=o.fontFeatureSettings,a=e.get(90)||o.fontSize,c=e.get(91)||o.lineHeight,l=o.fontWeight,u=a+"px",d=c+"px";i.root.style.fontSize=u,i.root.style.fontWeight=l,n.style.fontFamily=r,n.style.fontFeatureSettings=s,n.style.lineHeight=d,i.icon.style.height=d,i.icon.style.width=d,i.readMore.style.height=d,i.readMore.style.width=d};return configureFont(),i.disposables.add(E.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)||e.hasChanged(90)||e.hasChanged(91)})).on(configureFont,null)),i},ItemRenderer.prototype.renderElement=function(e,t,i){var o=this,r=i,s=e.completion,a="string"==typeof s.label?s.label:s.label.name;r.root.id=getAriaId(t),r.icon.className="icon "+Object(m.F)(s.kind),r.colorspan.style.backgroundColor="";var c={labelEscapeNewLines:!0,matches:Object(j.c)(e.score)},l=[];if(19===s.kind&&function extractColor(e,t){var i="string"==typeof e.completion.label?e.completion.label:e.completion.label.name;return i.match(ge)?(t[0]=i,!0):!("string"!=typeof e.completion.documentation||!e.completion.documentation.match(ge)||(t[0]=e.completion.documentation,0))}(e,l))r.icon.className="icon customcolor",r.iconContainer.className="icon hide",r.colorspan.style.backgroundColor=l[0];else if(20===s.kind&&this._themeService.getIconTheme().hasFileIcons){r.icon.className="icon hide",r.iconContainer.className="icon hide";var u=Object(oe.a)(this._modelService,this._modeService,re.a.from({scheme:"fake",path:a}),se.a.FILE),d=Object(oe.a)(this._modelService,this._modeService,re.a.from({scheme:"fake",path:s.detail}),se.a.FILE);c.extraClasses=u.length>d.length?u:d}else 23===s.kind&&this._themeService.getIconTheme().hasFolderIcons?(r.icon.className="icon hide",r.iconContainer.className="icon hide",c.extraClasses=Object(n.m)([Object(oe.a)(this._modelService,this._modeService,re.a.from({scheme:"fake",path:a}),se.a.FOLDER),Object(oe.a)(this._modelService,this._modeService,re.a.from({scheme:"fake",path:s.detail}),se.a.FOLDER)])):(r.icon.className="icon hide",r.iconContainer.className="",Object(U.g)(r.iconContainer,"suggest-icon codicon codicon-symbol-"+Object(m.F)(s.kind)));s.tags&&s.tags.indexOf(1)>=0&&(c.extraClasses=(c.extraClasses||[]).concat(["deprecated"]),c.matches=[]),r.iconLabel.setLabel(a,void 0,c),"string"==typeof s.label?(r.signatureLabel.textContent="",r.qualifierLabel.textContent="",r.detailsLabel.textContent=(s.detail||"").replace(/\n.*$/m,""),Object(U.P)(r.right,"always-show-details")):(r.signatureLabel.textContent=(s.label.signature||"").replace(/\n.*$/m,""),r.qualifierLabel.textContent=(s.label.qualifier||"").replace(/\n.*$/m,""),r.detailsLabel.textContent=(s.label.type||"").replace(/\n.*$/m,""),Object(U.f)(r.right,"always-show-details")),canExpandCompletionItem(e)?(Object(U.f)(r.right,"can-expand-details"),Object(U.X)(r.readMore),r.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},r.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),o.widget.toggleDetails()}):(Object(U.P)(r.right,"can-expand-details"),Object(U.J)(r.readMore),r.readMore.onmousedown=null,r.readMore.onclick=null)},ItemRenderer.prototype.disposeTemplate=function(e){e.disposables.dispose()},ItemRenderer=suggestWidget_decorate([suggestWidget_param(3,ne.a),suggestWidget_param(4,ee.a),suggestWidget_param(5,J.c)],ItemRenderer)}(),me=function(){function SuggestionDetails(e,t,i,o,n){var r=this;this.widget=t,this.editor=i,this.markdownRenderer=o,this.kbToggleDetails=n,this.borderWidth=1,this.disposables=new a.b,this.el=Object(U.q)(e,Object(U.a)(".details")),this.disposables.add(Object(a.h)((function(){return e.removeChild(r.el)}))),this.body=Object(U.a)(".body"),this.scrollbar=new Z.a(this.body,{}),Object(U.q)(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Object(U.q)(this.body,Object(U.a)(".header")),this.close=Object(U.q)(this.header,Object(U.a)("span.codicon.codicon-close")),this.close.title=M.a("readLess","Read less...{0}",this.kbToggleDetails),this.type=Object(U.q)(this.header,Object(U.a)("p.type")),this.docs=Object(U.q)(this.body,Object(U.a)("p.docs")),this.configureFont(),E.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)})).on(this.configureFont,this,this.disposables),o.onDidRenderCodeBlock((function(){return r.scrollbar.scanDomNode()}),this,this.disposables)}return Object.defineProperty(SuggestionDetails.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),SuggestionDetails.prototype.renderLoading=function(){this.type.textContent=M.a("loading","Loading..."),this.docs.textContent=""},SuggestionDetails.prototype.renderItem=function(e,t){var i=this;this.renderDisposeable=Object(a.f)(this.renderDisposeable);var o=e.completion,n=o.documentation,r=o.detail;if(t){var s="";s+="score: "+e.score[0]+(e.word?", compared '"+(e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label)+"' with '"+e.word+"'":" (no prefix)")+"\n",s+="distance: "+e.distance+", see localityBonus-setting\n",s+="index: "+e.idx+", based on "+(e.completion.sortText&&'sortText: "'+e.completion.sortText+'"'||"label")+"\n",n=(new ae.a).appendCodeblock("empty",s),r="Provider: "+e.provider._debugDisplayName}if(!t&&!canExpandCompletionItem(e))return this.type.textContent="",this.docs.textContent="",void Object(U.f)(this.el,"no-docs");if(Object(U.P)(this.el,"no-docs"),"string"==typeof n)Object(U.P)(this.docs,"markdown-docs"),this.docs.textContent=n;else{Object(U.f)(this.docs,"markdown-docs"),this.docs.innerHTML="";var c=this.markdownRenderer.render(n);this.renderDisposeable=c,this.docs.appendChild(c.element)}r?(this.type.innerText=r,Object(U.X)(this.type)):(this.type.innerText="",Object(U.J)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),i.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()},SuggestionDetails.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},SuggestionDetails.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},SuggestionDetails.prototype.scrollTop=function(){this.body.scrollTop=0},SuggestionDetails.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},SuggestionDetails.prototype.pageDown=function(){this.scrollDown(80)},SuggestionDetails.prototype.pageUp=function(){this.scrollUp(80)},SuggestionDetails.prototype.setBorderWidth=function(e){this.borderWidth=e},SuggestionDetails.prototype.configureFont=function(){var e=this.editor.getOptions(),t=e.get(34),i=t.fontFamily,o=e.get(90)||t.fontSize,n=e.get(91)||t.lineHeight,r=t.fontWeight,s=o+"px",a=n+"px";this.el.style.fontSize=s,this.el.style.fontWeight=r,this.el.style.fontFeatureSettings=t.fontFeatureSettings,this.type.style.fontFamily=i,this.close.style.height=a,this.close.style.width=a},SuggestionDetails.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=Object(a.f)(this.renderDisposeable)},SuggestionDetails}(),_e=function(){function SuggestWidget(e,t,i,o,n,r,s,c,l){var u,d,h=this;this.editor=e,this.telemetryService=t,this.keybindingService=i,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=a.a.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new _.e,this.toDispose=new a.b,this.onDidSelectEmitter=new E.a,this.onDidFocusEmitter=new E.a,this.onDidHideEmitter=new E.a,this.onDidShowEmitter=new E.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new E.a,this.onDetailsKeyDown=this._onDetailsKeydown.event;var p=this.toDispose.add(new $.a(e,s,c)),g=null!==(d=null===(u=i.lookupKeybinding("toggleSuggestionDetails"))||void 0===u?void 0:u.getLabel())&&void 0!==d?d:"";this.msgDetailsLess=M.a("detail.less","{0} for less...",g),this.msgDetailMore=M.a("detail.more","{0} for more...",g),this.isAuto=!1,this.focusedItem=null,this.storageService=r,this.element=Object(U.a)(".editor-widget.suggest-widget"),this.toDispose.add(Object(U.j)(this.element,"click",(function(e){e.target===h.element&&h.hideWidget()}))),this.messageElement=Object(U.q)(this.element,Object(U.a)(".message")),this.listElement=Object(U.q)(this.element,Object(U.a)(".tree"));var applyStatusBarStyle=function(){return Object(U.Y)(h.element,"with-status-bar",!h.editor.getOption(89).hideStatusBar)};applyStatusBarStyle(),this.statusBarElement=Object(U.q)(this.element,Object(U.a)(".suggest-status-bar")),this.statusBarLeftSpan=Object(U.q)(this.statusBarElement,Object(U.a)("span")),this.statusBarRightSpan=Object(U.q)(this.statusBarElement,Object(U.a)("span")),this.setStatusBarLeftText(""),this.setStatusBarRightText(""),this.details=l.createInstance(me,this.element,this,this.editor,p,g);var applyIconStyle=function(){return Object(U.Y)(h.element,"no-icons",!h.editor.getOption(89).showIcons)};applyIconStyle();var f=l.createInstance(fe,this,this.editor,g);this.list=new K.c("SuggestWidget",this.listElement,this,[f],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(e){var t="string"==typeof e.completion.label?e.completion.label:e.completion.label.name;if(e.isResolved&&h.expandDocsSettingFromStorage()){var i=e.completion,o=i.documentation,n=i.detail,r=A.r("{0}{1}",n||"",o?"string"==typeof o?o:o.value:"");return M.a("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",t,r)}return t}}}),this.toDispose.add(Object(X.b)(this.list,n,{listInactiveFocusBackground:he,listInactiveFocusOutline:Q.b})),this.toDispose.add(n.onThemeChange((function(e){return h.onThemeChange(e)}))),this.toDispose.add(e.onDidLayoutChange((function(){return h.onEditorLayoutChange()}))),this.toDispose.add(this.list.onMouseDown((function(e){return h.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onTap((function(e){return h.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onSelectionChange((function(e){return h.onListSelection(e)}))),this.toDispose.add(this.list.onFocusChange((function(e){return h.onListFocus(e)}))),this.toDispose.add(this.editor.onDidChangeCursorSelection((function(){return h.onCursorSelectionChanged()}))),this.toDispose.add(this.editor.onDidChangeConfiguration((function(e){e.hasChanged(89)&&(applyStatusBarStyle(),applyIconStyle())}))),this.suggestWidgetVisible=R.b.Visible.bindTo(o),this.suggestWidgetMultipleSuggestions=R.b.MultipleSuggestions.bindTo(o),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(n.getTheme()),this.toDispose.add(Object(U.o)(this.details.element,"keydown",(function(e){h._onDetailsKeydown.fire(e)}))),this.toDispose.add(this.editor.onMouseDown((function(e){return h.onEditorMouseDown(e)})))}return SuggestWidget.prototype.onEditorMouseDown=function(e){this.details.element.contains(e.target.element)?this.details.element.focus():this.element.contains(e.target.element)&&this.editor.focus()},SuggestWidget.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},SuggestWidget.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},SuggestWidget.prototype.onListMouseDownOrTap=function(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},SuggestWidget.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},SuggestWidget.prototype.select=function(e,t){var i=this.completionModel;i&&(this.onDidSelectEmitter.fire({item:e,index:t,model:i}),this.editor.focus())},SuggestWidget.prototype.onThemeChange=function(e){var t=e.getColor(le);t&&(this.listElement.style.backgroundColor=t.toString(),this.statusBarElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var i=e.getColor(ue);i&&(this.listElement.style.borderColor=i.toString(),this.statusBarElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());var o=e.getColor(Q.V);o&&(this.detailsFocusBorderColor=o.toString()),this.details.setBorderWidth("hc"===e.type?2:1)},SuggestWidget.prototype.onListFocus=function(e){var t,i,o=this;if(!this.ignoreFocusEvents){if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this.editor.setAriaOptions({activeDescendant:void 0});if(this.completionModel){var n=e.elements[0],s=e.indexes[0];if(this.firstFocusInCurrentList=!this.focusedItem,n!==this.focusedItem){var a="insert"===this.editor.getOption(89).insertMode,c=null===(t=this.keybindingService.lookupKeybinding("acceptSelectedSuggestion"))||void 0===t?void 0:t.getLabel(),l=null===(i=this.keybindingService.lookupKeybinding("acceptAlternativeSelectedSuggestion"))||void 0===i?void 0:i.getLabel();ce.a.equals(n.editInsertEnd,n.editReplaceEnd)?this.setStatusBarLeftText(M.a("accept","{0} to accept",c)):a?this.setStatusBarLeftText(M.a("insert","{0} to insert, {1} to replace",c,l)):this.setStatusBarLeftText(M.a("replace","{0} to replace, {1} to insert",c,l)),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=n,this.list.reveal(s),this.currentSuggestionDetails=Object(_.f)((function(e){return suggestWidget_awaiter(o,void 0,void 0,(function(){var t,i,o=this;return suggestWidget_generator(this,(function(r){switch(r.label){case 0:return t=Object(_.g)((function(){return o.showDetails(!0)}),250),e.onCancellationRequested((function(){return t.dispose()})),[4,n.resolve(e)];case 1:return i=r.sent(),t.dispose(),[2,i]}}))}))})),this.currentSuggestionDetails.then((function(){s>=o.list.length||n!==o.list.element(s)||(o.ignoreFocusEvents=!0,o.list.splice(s,1,[n]),o.list.setFocus([s]),o.ignoreFocusEvents=!1,o.expandDocsSettingFromStorage()?o.showDetails(!1):Object(U.P)(o.element,"docs-side"),canExpandCompletionItem(o.focusedItem)?o.expandDocsSettingFromStorage()?o.setStatusBarRightText(o.msgDetailsLess):o.setStatusBarRightText(o.msgDetailMore):o.statusBarRightSpan.innerText="",o.editor.setAriaOptions({activeDescendant:getAriaId(s)}))})).catch(r.e)}this.onDidFocusEmitter.fire({item:n,index:s,model:this.completionModel})}}},SuggestWidget.prototype.setState=function(e){if(this.element){var t=this.state!==e;switch(this.state=e,Object(U.Y)(this.element,"frozen",4===e),e){case 0:Object(U.J)(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,t&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=SuggestWidget.LOADING_MESSAGE,Object(U.J)(this.listElement,this.details.element,this.statusBarElement),Object(U.X)(this.messageElement),Object(U.P)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=SuggestWidget.NO_SUGGESTIONS_MESSAGE,Object(U.J)(this.listElement,this.details.element,this.statusBarElement),Object(U.X)(this.messageElement),Object(U.P)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:Object(U.J)(this.messageElement),Object(U.X)(this.listElement,this.statusBarElement),this.show();break;case 4:Object(U.J)(this.messageElement),Object(U.X)(this.listElement),this.show();break;case 5:Object(U.J)(this.messageElement),Object(U.X)(this.details.element,this.listElement,this.statusBarElement),this.show()}}},SuggestWidget.prototype.showTriggered=function(e,t){var i=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=Object(_.g)((function(){return i.setState(1)}),t)))},SuggestWidget.prototype.showSuggestions=function(e,t,i,o){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),i&&2!==this.state&&0!==this.state)this.setState(4);else{var n=this.completionModel.items.length,r=0===n;if(this.suggestWidgetMultipleSuggestions.set(n>1),r)o?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){var s=this.completionModel.stats;s.wasAutomaticallyTriggered=!!o,this.telemetryService.publicLog("suggestWidget",__assign({},s))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),i?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},SuggestWidget.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},SuggestWidget.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},SuggestWidget.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},SuggestWidget.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},SuggestWidget.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},SuggestWidget.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},SuggestWidget.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},SuggestWidget.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},SuggestWidget.prototype.toggleDetails=function(){if(canExpandCompletionItem(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(U.J)(this.details.element),Object(U.P)(this.element,"docs-side"),Object(U.P)(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.setStatusBarRightText(this.msgDetailMore),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this.setStatusBarRightText(this.msgDetailsLess),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},SuggestWidget.prototype.showDetails=function(e){e||this.expandSideOrBelow(),Object(U.X)(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},SuggestWidget.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},SuggestWidget.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet((function(){Object(U.f)(e.element,"visible"),e.onDidShowEmitter.fire(e)}),100)},SuggestWidget.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(U.P)(this.element,"visible")},SuggestWidget.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},SuggestWidget.prototype.getPosition=function(){if(0===this.state)return null;var e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}},SuggestWidget.prototype.getDomNode=function(){return this.element},SuggestWidget.prototype.getId=function(){return SuggestWidget.ID},SuggestWidget.prototype.isFrozen=function(){return 4===this.state},SuggestWidget.prototype.updateListHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight,i=this.editor.getOption(89).maxVisibleSuggestions;e=Math.min(t,i)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.statusBarElement.style.top=e+"px",this.list.layout(e),e},SuggestWidget.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var e=this.editor.getOption(49),t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),i=Object(U.C)(this.editor.getDomNode()),o=i.left+t.left,n=i.top+t.top+t.height,r=Object(U.C)(this.element),s=r.left,a=r.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<a&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=a,s<o-this.listWidth?Object(U.f)(this.element,"list-right"):Object(U.P)(this.element,"list-right"),Object(U.I)(this.element,"docs-side")&&n-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},SuggestWidget.prototype.expandSideOrBelow=function(){if(!canExpandCompletionItem(this.focusedItem)&&this.firstFocusInCurrentList)return Object(U.P)(this.element,"docs-side"),void Object(U.P)(this.element,"docs-below");var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(Object(U.f)(this.element,"docs-below"),Object(U.P)(this.element,"docs-side")):canExpandCompletionItem(this.focusedItem)&&(Object(U.f)(this.element,"docs-side"),Object(U.P)(this.element,"docs-below"))},Object.defineProperty(SuggestWidget.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(89).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(SuggestWidget.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getOptions();return e.get(91)||e.get(34).lineHeight},enumerable:!0,configurable:!0}),SuggestWidget.prototype.getHeight=function(e){return this.unfocusedHeight},SuggestWidget.prototype.getTemplateId=function(e){return"suggestion"},SuggestWidget.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,false)},SuggestWidget.prototype.updateExpandDocsSetting=function(e){this.storageService.store("expandSuggestionDocs",e,0)},SuggestWidget.prototype.setStatusBarLeftText=function(e){this.statusBarLeftSpan.innerText=e},SuggestWidget.prototype.setStatusBarRightText=function(e){this.statusBarRightSpan.innerText=e},SuggestWidget.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},SuggestWidget.ID="editor.widget.suggestWidget",SuggestWidget.LOADING_MESSAGE=M.a("suggestWidget.loading","Loading..."),SuggestWidget.NO_SUGGESTIONS_MESSAGE=M.a("suggestWidget.noSuggestions","No suggestions."),SuggestWidget=suggestWidget_decorate([suggestWidget_param(1,Y.a),suggestWidget_param(2,z.a),suggestWidget_param(3,W.c),suggestWidget_param(4,J.c),suggestWidget_param(5,f.a),suggestWidget_param(6,ee.a),suggestWidget_param(7,te.a),suggestWidget_param(8,b.a)],SuggestWidget)}();Object(J.e)((function(e,t){var i=e.getColor(pe);i&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+i+"; }");var o=e.getColor(de);o&&t.addRule(".monaco-editor .suggest-widget { color: "+o+"; }");var n=e.getColor(Q.ec);n&&t.addRule(".monaco-editor .suggest-widget a { color: "+n+"; }");var r=e.getColor(Q.dc);r&&t.addRule(".monaco-editor .suggest-widget code { background-color: "+r+"; }")}));var be=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),wordContextKey_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},wordContextKey_param=function(e,t){return function(i,o){t(i,o,e)}},ve=function(e){function WordContextKey(t,i){var o=e.call(this)||this;return o._editor=t,o._enabled=!1,o._ckAtEnd=WordContextKey.AtEnd.bindTo(i),o._register(o._editor.onDidChangeConfiguration((function(e){return e.hasChanged(94)&&o._update()}))),o._update(),o}return be(WordContextKey,e),WordContextKey.prototype.dispose=function(){e.prototype.dispose.call(this),Object(a.f)(this._selectionListener),this._ckAtEnd.reset()},WordContextKey.prototype._update=function(){var e=this,t="on"===this._editor.getOption(94);if(this._enabled!==t)if(this._enabled=t,this._enabled){var checkForWordEnd=function(){if(e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getSelection(),o=t.getWordAtPosition(i.getStartPosition());o?e._ckAtEnd.set(o.endColumn===i.getStartPosition().column):e._ckAtEnd.set(!1)}else e._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(checkForWordEnd),checkForWordEnd()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},WordContextKey.AtEnd=new W.d("atEndOfWord",!1),WordContextKey=wordContextKey_decorate([wordContextKey_param(1,W.c)],WordContextKey)}(a.a),ye=i("pAvP"),Se=i("746U"),Ce=i("MXAL"),we=function(){function CommitCharacterController(e,t,i){var o=this;this._disposables=new a.b,this._disposables.add(t.onDidShow((function(){return o._onItem(t.getFocusedItem())}))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((function(n){if(o._active&&!t.isFrozen()){var r=n.charCodeAt(n.length-1);o._active.acceptCharacters.has(r)&&e.getOption(0)&&i(o._active.item)}})))}return CommitCharacterController.prototype._onItem=function(e){if(e&&Object(n.q)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){for(var t=new Ce.b,i=0,o=e.item.completion.commitCharacters;i<o.length;i++){var r=o[i];r.length>0&&t.add(r.charCodeAt(0))}this._active={acceptCharacters:t,item:e}}}else this.reset()},CommitCharacterController.prototype.reset=function(){this._active=void 0},CommitCharacterController.prototype.dispose=function(){this._disposables.dispose()},CommitCharacterController}(),Oe=i("MNsG"),xe=i("4y0V"),Pe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ke=function(){function SuggestRangeHighlighter(e){var t=this;this._controller=e,this._disposables=new a.b,this._decorations=[],this._disposables.add(e.model.onDidSuggest((function(e){if(!e.shy){var i=t._controller.widget.getValue(),o=i.getFocusedItem();o&&t._highlight(o.item),t._widgetListener||(t._widgetListener=i.onDidFocus((function(e){return t._highlight(e.item)})))}}))),this._disposables.add(e.model.onDidCancel((function(){t._reset()})))}return SuggestRangeHighlighter.prototype.dispose=function(){this._reset(),this._disposables.dispose(),Object(a.f)(this._widgetListener),Object(a.f)(this._shiftKeyListener)},SuggestRangeHighlighter.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},SuggestRangeHighlighter.prototype._highlight=function(e){var t,i=this;this._currentItem=e;var o=this._controller.editor.getOption(89),n=[];if(o.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=Me.event((function(){return i._highlight(i._currentItem)})));var r=this._controller.getOverwriteInfo(e,Me.isPressed),s=this._controller.editor.getPosition();if("insert"===o.insertMode&&r.overwriteAfter>0)n=[{range:new u.a(s.lineNumber,s.column,s.lineNumber,s.column+r.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if("replace"===o.insertMode&&0===r.overwriteAfter){var a=null===(t=this._controller.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(s);a&&a.endColumn>s.column&&(n=[{range:new u.a(s.lineNumber,s.column,s.lineNumber,a.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,n)},SuggestRangeHighlighter}(),Me=new(function(e){function ShiftKey(){var t=e.call(this)||this;return t._subscriptions=new a.b,t._isPressed=!1,t._subscriptions.add(Object(xe.a)(document.body,"keydown")((function(e){return t.isPressed=e.shiftKey}))),t._subscriptions.add(Object(xe.a)(document.body,"keyup")((function(){return t.isPressed=!1}))),t._subscriptions.add(Object(xe.a)(document.body,"mouseleave")((function(){return t.isPressed=!1}))),t._subscriptions.add(Object(xe.a)(document.body,"blur")((function(){return t.isPressed=!1}))),t}return Pe(ShiftKey,e),Object.defineProperty(ShiftKey.prototype,"isPressed",{get:function(){return this._isPressed},set:function(e){this._isPressed!==e&&(this._isPressed=e,this.fire(e))},enumerable:!0,configurable:!0}),ShiftKey.prototype.dispose=function(){this._subscriptions.dispose(),e.prototype.dispose.call(this)},ShiftKey}(E.a)),Te=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),suggestController_assign=function(){return(suggestController_assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},suggestController_decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},suggestController_param=function(e,t){return function(i,o){t(i,o,e)}},__spreadArrays=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)o[n]=r[s];return o},We=function(){function LineSuffix(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){var i=e.getOffsetAt(t),o=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:u.a.fromPositions(t,o),options:{stickiness:1}}])}}return LineSuffix.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},LineSuffix.prototype.delta=function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column},LineSuffix}(),De=function(){function SuggestController(e,t,i,o,n,r){var c=this;this._memoryService=i,this._commandService=o,this._contextKeyService=n,this._instantiationService=r,this._lineSuffix=new a.d,this._toDispose=new a.b,this.editor=e,this.model=new G(this.editor,t),this.widget=this._toDispose.add(new _.b((function(){var e=c._instantiationService.createInstance(_e,c.editor);c._toDispose.add(e),c._toDispose.add(e.onDidSelect((function(e){return c._insertSuggestion(e,0)}),c));var t=new we(c.editor,e,(function(e){return c._insertSuggestion(e,2)}));c._toDispose.add(t),c._toDispose.add(c.model.onDidSuggest((function(e){0===e.completionModel.items.length&&t.reset()})));var i=R.b.MakesTextEdit.bindTo(c._contextKeyService);return c._toDispose.add(e.onDidFocus((function(e){var t=e.item,o=c.editor.getPosition(),n=t.editStart.column,r=o.column,s=!0;"smart"!==c.editor.getOption(1)||2!==c.model.state||t.completion.command||t.completion.additionalTextEdits||4&t.completion.insertTextRules||r-n!==t.completion.insertText.length||(s=c.editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:n,endLineNumber:o.lineNumber,endColumn:r})!==t.completion.insertText);i.set(s)}))),c._toDispose.add(Object(a.h)((function(){return i.reset()}))),c._toDispose.add(e.onDetailsKeyDown((function(e){e.toKeybinding().equals(new s.e(!0,!1,!1,!1,33))||Oe.e&&e.toKeybinding().equals(new s.e(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||c.editor.focus()}))),e}))),this._alternatives=this._toDispose.add(new _.b((function(){return c._toDispose.add(new N(c.editor,c._contextKeyService))}))),this._toDispose.add(r.createInstance(ve,e)),this._toDispose.add(this.model.onDidTrigger((function(e){c.widget.getValue().showTriggered(e.auto,e.shy?250:50),c._lineSuffix.value=new We(c.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t=c._memoryService.select(c.editor.getModel(),c.editor.getPosition(),e.completionModel.items);c.widget.getValue().showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||c.widget.getValue().hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){c.model.cancel(),c.model.clear()})));var l=R.b.AcceptSuggestionsOnEnter.bindTo(n),updateFromConfig=function(){var e=c.editor.getOption(1);l.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return updateFromConfig()}))),updateFromConfig(),this._toDispose.add(new ke(this))}return SuggestController.get=function(e){return e.getContribution(SuggestController.ID)},SuggestController.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},SuggestController.prototype._insertSuggestion=function(e,t){var i,o=this;if(!e||!e.item)return this._alternatives.getValue().reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var n=this.editor.getModel(),s=n.getAlternativeVersionId(),a=e.item,c=a.completion;1&t||this.editor.pushUndoStop();var d=this.getOverwriteInfo(a,Boolean(8&t));this._memoryService.memorize(n,this.editor.getPosition(),a),Array.isArray(c.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",c.additionalTextEdits.map((function(e){return l.a.replace(u.a.lift(e.range),e.text)})));var g=c.insertText;4&c.insertTextRules||(g=p.c.escape(g)),h.SnippetController2.get(this.editor).insert(g,{overwriteBefore:d.overwriteBefore,overwriteAfter:d.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&c.insertTextRules)}),2&t||this.editor.pushUndoStop(),c.command?c.command.id===Re.id?this.model.trigger({auto:!0,shy:!1},!0):((i=this._commandService).executeCommand.apply(i,__spreadArrays([c.command.id],c.command.arguments?__spreadArrays(c.command.arguments):[])).catch(r.e).finally((function(){return o.model.clear()})),this.model.cancel()):(this.model.cancel(),this.model.clear()),4&t&&this._alternatives.getValue().set(e,(function(e){for(;n.canUndo();){s!==n.getAlternativeVersionId()&&n.undo(),o._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(e.item)}},SuggestController.prototype.getOverwriteInfo=function(e,t){Object(Se.a)(this.editor.hasModel());var i="replace"===this.editor.getOption(89).insertMode;t&&(i=!i);var o=e.position.column-e.editStart.column,n=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:o+(this.editor.getPosition().column-e.position.column),overwriteAfter:n+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}},SuggestController.prototype._alertCompletionItem=function(e){var t=e.completion,i="string"==typeof t.label?t.label:t.label.name;if(Object(n.q)(t.additionalTextEdits)){var r=M.a("arai.alert.snippet","Accepting '{0}' made {1} additional edits",i,t.additionalTextEdits.length);Object(o.a)(r)}},SuggestController.prototype.triggerSuggest=function(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},SuggestController.prototype.triggerSuggestAndAcceptBest=function(e){var t=this;if(this.editor.hasModel()){var i=this.editor.getPosition(),fallback=function(){i.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)};E.b.once(this.model.onDidTrigger)((function(e){var i=[];E.b.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){Object(a.f)(i),fallback()}),void 0,i),t.model.onDidSuggest((function(e){var o=e.completionModel;if(Object(a.f)(i),0!==o.items.length){var n=t._memoryService.select(t.editor.getModel(),t.editor.getPosition(),o.items),r=o.items[n];!function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var i=t.editor.getPosition(),o=e.editStart.column,n=i.column;return n-o!==e.completion.insertText.length||t.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:o,endLineNumber:i.lineNumber,endColumn:n})!==e.completion.insertText}(r)?fallback():(t.editor.pushUndoStop(),t._insertSuggestion({index:n,item:r,model:o},7))}else fallback()}),void 0,i)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(i.lineNumber,0),this.editor.focus()}},SuggestController.prototype.acceptSelectedSuggestion=function(e,t){var i=this.widget.getValue().getFocusedItem(),o=0;e&&(o|=4),t&&(o|=8),this._insertSuggestion(i,o)},SuggestController.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},SuggestController.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},SuggestController.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},SuggestController.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},SuggestController.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},SuggestController.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},SuggestController.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},SuggestController.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},SuggestController.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},SuggestController.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},SuggestController.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},SuggestController.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},SuggestController.ID="editor.contrib.suggestController",SuggestController=suggestController_decorate([suggestController_param(1,ye.a),suggestController_param(2,k),suggestController_param(3,T.b),suggestController_param(4,W.c),suggestController_param(5,b.a)],SuggestController)}(),Re=function(e){function TriggerSuggestAction(){return e.call(this,{id:TriggerSuggestAction.id,label:M.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:W.a.and(d.a.writable,d.a.hasCompletionItemProvider),kbOpts:{kbExpr:d.a.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})||this}return Te(TriggerSuggestAction,e),TriggerSuggestAction.prototype.run=function(e,t){var i=De.get(t);i&&i.triggerSuggest()},TriggerSuggestAction.id="editor.action.triggerSuggest",TriggerSuggestAction}(c.b);Object(c.h)(De.ID,De),Object(c.f)(Re);var Ne=190,Ee=c.c.bindToContribution(De.get);Object(c.g)(new Ee({id:"acceptSelectedSuggestion",precondition:R.b.Visible,handler:function(e){e.acceptSelectedSuggestion(!0,!1)}})),D.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:W.a.and(R.b.Visible,d.a.textInputFocus),primary:2,weight:Ne}),D.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:W.a.and(R.b.Visible,d.a.textInputFocus,R.b.AcceptSuggestionsOnEnter,R.b.MakesTextEdit),primary:3,weight:Ne}),Object(c.g)(new Ee({id:"acceptAlternativeSelectedSuggestion",precondition:W.a.and(R.b.Visible,d.a.textInputFocus),kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:1027,secondary:[1026]},handler:function(e){e.acceptSelectedSuggestion(!1,!0)}})),T.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(c.g)(new Ee({id:"hideSuggestWidget",precondition:R.b.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:9,secondary:[1033]}})),Object(c.g)(new Ee({id:"selectNextSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(c.g)(new Ee({id:"selectNextPageSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:12,secondary:[2060]}})),Object(c.g)(new Ee({id:"selectLastSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),Object(c.g)(new Ee({id:"selectPrevSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(c.g)(new Ee({id:"selectPrevPageSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:11,secondary:[2059]}})),Object(c.g)(new Ee({id:"selectFirstSuggestion",precondition:W.a.and(R.b.Visible,R.b.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),Object(c.g)(new Ee({id:"toggleSuggestionDetails",precondition:R.b.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:2058,mac:{primary:266}}})),Object(c.g)(new Ee({id:"toggleExplainMode",precondition:R.b.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),Object(c.g)(new Ee({id:"toggleSuggestionFocus",precondition:R.b.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(c.g)(new Ee({id:"insertBestCompletion",precondition:W.a.and(W.a.equals("config.editor.tabCompletion","on"),ve.AtEnd,R.b.Visible.toNegated(),N.OtherSuggestions.toNegated(),h.SnippetController2.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest(Object(Se.i)(t)?suggestController_assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Ne,primary:2}})),Object(c.g)(new Ee({id:"insertNextSuggestion",precondition:W.a.and(W.a.equals("config.editor.tabCompletion","on"),N.OtherSuggestions,R.b.Visible.toNegated(),h.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:2}})),Object(c.g)(new Ee({id:"insertPrevSuggestion",precondition:W.a.and(W.a.equals("config.editor.tabCompletion","on"),N.OtherSuggestions,R.b.Visible.toNegated(),h.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:Ne,kbExpr:d.a.textInputFocus,primary:1026}}))},iNS8:function(e,t,i){"use strict";i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return getOuterEditor})),i.d(t,"c",(function(){return E})),i.d(t,"p",(function(){return L})),i.d(t,"q",(function(){return j})),i.d(t,"r",(function(){return A})),i.d(t,"e",(function(){return I})),i.d(t,"j",(function(){return H})),i.d(t,"l",(function(){return F})),i.d(t,"k",(function(){return V})),i.d(t,"n",(function(){return B})),i.d(t,"o",(function(){return q})),i.d(t,"f",(function(){return G})),i.d(t,"g",(function(){return U})),i.d(t,"m",(function(){return K})),i.d(t,"h",(function(){return Z})),i.d(t,"i",(function(){return z}));var o,n=i("EffR"),r=i("WqXY"),s=i("8HAY"),a=i("zrhQ"),c=i("MI8n"),l=i("qj0h"),u=i("N0LK"),d=i("Vxe3"),h=i("03kh"),p=i("cMOf"),g=i("nD70"),f=i("pmY6"),m=i("aokT"),_=i("tX9W"),b=new a.a(new a.c(0,122,204)),v={showArrow:!0,showFrame:!0,className:"",frameColor:b,arrowColor:b,keepEditorSelection:!1},y=function(){function ViewZoneDelegate(e,t,i,o,n,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=o,this._onDomNodeTop=n,this._onComputedHeight=r}return ViewZoneDelegate.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},ViewZoneDelegate.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},ViewZoneDelegate}(),S=function(){function OverlayWidgetDelegate(e,t){this._id=e,this._domNode=t}return OverlayWidgetDelegate.prototype.getId=function(){return this._id},OverlayWidgetDelegate.prototype.getDomNode=function(){return this._domNode},OverlayWidgetDelegate.prototype.getPosition=function(){return null},OverlayWidgetDelegate}(),C=function(){function Arrow(e){this._editor=e,this._ruleName=Arrow._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return Arrow.prototype.dispose=function(){this.hide(),n.O(this._ruleName)},Object.defineProperty(Arrow.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(Arrow.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),Arrow.prototype._updateStyle=function(){n.O(this._ruleName),n.v(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},Arrow.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:m.a.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])},Arrow.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},Arrow._IdGenerator=new g.a(".arrow-decoration-"),Arrow}(),w=function(){function ZoneWidget(e,t){var i=this;void 0===t&&(t={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new f.b,this.container=null,this._isShowing=!1,this.editor=e,this.options=l.c(t),l.g(this.options,v,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(e){var t=i._getWidth(e);i.domNode.style.width=t+"px",i.domNode.style.left=i._getLeft(e)+"px",i._onWidth(t)})))}return ZoneWidget.prototype.dispose=function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},ZoneWidget.prototype.create=function(){n.f(this.domNode,"zone-widget"),this.options.className&&n.f(this.domNode,this.options.className),this.container=document.createElement("div"),n.f(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new C(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},ZoneWidget.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},ZoneWidget.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}},ZoneWidget.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},ZoneWidget.prototype._getLeft=function(e){return e.minimapWidth>0&&0===e.minimapLeft?e.minimapWidth:0},ZoneWidget.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},ZoneWidget.prototype._onViewZoneHeight=function(e){if(this.domNode.style.height=e+"px",this.container){var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(ZoneWidget.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel();if(t){var i=t.getDecorationRange(e);if(i)return i.getStartPosition()}}},enumerable:!0,configurable:!0}),ZoneWidget.prototype.show=function(e,t){var i=m.a.isIRange(e)?m.a.lift(e):m.a.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:_.a.EMPTY}])},ZoneWidget.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},ZoneWidget.prototype._decoratingElementsHeight=function(){var e=this.editor.getOption(49),t=0;this.options.showArrow&&(t+=2*Math.round(e/3));this.options.showFrame&&(t+=2*Math.round(e/9));return t},ZoneWidget.prototype._showImpl=function(e,t){var i=this,o=e.getStartPosition(),n=this.editor.getLayoutInfo(),r=this._getWidth(n);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(n)+"px";var s=document.createElement("div");s.style.overflow="hidden";var a=this.editor.getOption(49),c=this.editor.getLayoutInfo().height/a*.8;t>=c&&(t=c);var l=0,u=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(o)),this.options.showFrame&&(u=Math.round(a/9)),this.editor.changeViewZones((function(e){i._viewZone&&e.removeZone(i._viewZone.id),i._overlayWidget&&(i.editor.removeOverlayWidget(i._overlayWidget),i._overlayWidget=null),i.domNode.style.top="-1000px",i._viewZone=new y(s,o.lineNumber,o.column,t,(function(e){return i._onViewZoneTop(e)}),(function(e){return i._onViewZoneHeight(e)})),i._viewZone.id=e.addZone(i._viewZone),i._overlayWidget=new S("vs.editor.contrib.zoneWidget"+i._viewZone.id,i.domNode),i.editor.addOverlayWidget(i._overlayWidget)})),this.container&&this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:u;this.container.style.borderTopWidth=d+"px",this.container.style.borderBottomWidth=d+"px"}var h=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,r),this.options.keepEditorSelection||this.editor.setSelection(e);var p=this.editor.getModel();if(p){var g=e.endLineNumber+1;g<=p.getLineCount()?this.revealLine(g,!1):this.revealLine(p.getLineCount(),!0)}},ZoneWidget.prototype.revealLine=function(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)},ZoneWidget.prototype.setCssClass=function(e,t){this.container&&(t&&this.container.classList.remove(t),n.f(this.container,e))},ZoneWidget.prototype._onWidth=function(e){},ZoneWidget.prototype._doLayout=function(e,t){},ZoneWidget.prototype._relayout=function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((function(i){t._viewZone&&(t._viewZone.heightInLines=e,i.layoutZone(t._viewZone.id))}))},ZoneWidget.prototype._initSash=function(){var e,t=this;this._resizeSash||(this._resizeSash=this._disposables.add(new p.a(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(i){t._viewZone&&(e={startY:i.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(i){if(e){var o=(i.currentY-e.startY)/t.editor.getOption(49),n=o<0?Math.ceil(o):Math.floor(o),r=e.heightInLines+n;r>5&&r<35&&t._relayout(r)}}))))},ZoneWidget.prototype.getHorizontalSashLeft=function(){return 0},ZoneWidget.prototype.getHorizontalSashTop=function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},ZoneWidget.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},ZoneWidget}(),O=i("3/fG"),x=i("T8No"),P=i("Cg/j"),k=i("9fML"),M=i("sswD"),T=i("MD5Z"),W=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},D=Object(P.c)("IPeekViewService");Object(k.b)(D,function(){function class_1(){this._widgets=new Map}return class_1.prototype.addExclusiveWidget=function(e,t){var i=this,o=this._widgets.get(e);o&&(o.listener.dispose(),o.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((function(){var o=i._widgets.get(e);o&&o.widget===t&&(o.listener.dispose(),i._widgets.delete(e))}))})},class_1}()),function(e){e.inPeekEditor=new x.d("inReferenceSearchEditor",!0),e.notInPeekEditor=e.inPeekEditor.toNegated()}(o||(o={}));var R=function(){function PeekContextController(e,t){e instanceof h.a&&o.inPeekEditor.bindTo(t)}return PeekContextController.prototype.dispose=function(){},PeekContextController.ID="editor.contrib.referenceController",PeekContextController=__decorate([__param(1,x.c)],PeekContextController)}();function getOuterEditor(e){var t=e.get(d.a).getFocusedCodeEditor();return t instanceof h.a?t.getParentEditor():t}Object(M.h)(R.ID,R);var N={headerBackgroundColor:a.a.white,primaryHeadingColor:a.a.fromHex("#333333"),secondaryHeadingColor:a.a.fromHex("#6c6c6cb3")},E=function(e){function PeekViewWidget(t,i){void 0===i&&(i={});var o=e.call(this,t,i)||this;return o._onDidClose=new c.a,o.onDidClose=o._onDidClose.event,l.g(o.options,N,!1),o}return W(PeekViewWidget,e),PeekViewWidget.prototype.dispose=function(){e.prototype.dispose.call(this),this._onDidClose.fire(this)},PeekViewWidget.prototype.style=function(t){var i=this.options;t.headerBackgroundColor&&(i.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(i.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(i.secondaryHeadingColor=t.secondaryHeadingColor),e.prototype.style.call(this,t)},PeekViewWidget.prototype._applyStyles=function(){e.prototype._applyStyles.call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())},PeekViewWidget.prototype._fillContainer=function(e){this.setCssClass("peekview-widget"),this._headElement=n.a(".head"),this._bodyElement=n.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},PeekViewWidget.prototype._fillHead=function(e){var t=this,i=n.a(".peekview-title");n.q(this._headElement,i),n.o(i,"click",(function(e){return t._onTitleClick(e)})),this._fillTitleIcon(i),this._primaryHeading=n.a("span.filename"),this._secondaryHeading=n.a("span.dirname"),this._metaHeading=n.a("span.meta"),n.q(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var o=n.a(".peekview-actions");n.q(this._headElement,o);var a=this._getActionBarOptions();this._actionbarWidget=new r.a(o,a),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new s.a("peekview.close",O.a("label.close","Close"),"codicon-close",!0,(function(){return t.dispose(),Promise.resolve()})),{label:!1,icon:!0})},PeekViewWidget.prototype._fillTitleIcon=function(e){},PeekViewWidget.prototype._getActionBarOptions=function(){return{}},PeekViewWidget.prototype._onTitleClick=function(e){},PeekViewWidget.prototype.setTitle=function(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=u.o(e),this._primaryHeading.setAttribute("aria-label",e),t?this._secondaryHeading.innerHTML=u.o(t):n.t(this._secondaryHeading))},PeekViewWidget.prototype.setMetaTitle=function(e){this._metaHeading&&(e?(this._metaHeading.innerHTML=u.o(e),n.X(this._metaHeading)):n.J(this._metaHeading))},PeekViewWidget.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var i=Math.ceil(1.2*this.editor.getOption(49)),o=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(o,t)}},PeekViewWidget.prototype._doLayoutHead=function(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)},PeekViewWidget.prototype._doLayoutBody=function(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")},PeekViewWidget}(w),L=Object(T.Tb)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},O.a("peekViewTitleBackground","Background color of the peek view title area.")),j=Object(T.Tb)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},O.a("peekViewTitleForeground","Color of the peek view title.")),A=Object(T.Tb)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},O.a("peekViewTitleInfoForeground","Color of the peek view title info.")),I=Object(T.Tb)("peekView.border",{dark:"#007acc",light:"#007acc",hc:T.e},O.a("peekViewBorder","Color of the peek view borders and arrow.")),H=Object(T.Tb)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:a.a.black},O.a("peekViewResultsBackground","Background color of the peek view result list.")),F=Object(T.Tb)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:a.a.white},O.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),V=Object(T.Tb)("peekViewResult.fileForeground",{dark:a.a.white,light:"#1E1E1E",hc:a.a.white},O.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),B=Object(T.Tb)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},O.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),q=Object(T.Tb)("peekViewResult.selectionForeground",{dark:a.a.white,light:"#6C6C6C",hc:a.a.white},O.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),G=Object(T.Tb)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:a.a.black},O.a("peekViewEditorBackground","Background color of the peek view editor.")),U=Object(T.Tb)("peekViewEditorGutter.background",{dark:G,light:G,hc:G},O.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),K=Object(T.Tb)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},O.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Z=Object(T.Tb)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},O.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),z=Object(T.Tb)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:T.b},O.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},k7pc:function(e,t,i){"use strict";i.r(t),i.d(t,"ToggleTabFocusModeAction",(function(){return c}));var o=i("3/fG"),n=i("OBOq"),r=i("sswD"),s=i("iDAx"),a=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),c=function(e){function ToggleTabFocusModeAction(){return e.call(this,{id:ToggleTabFocusModeAction.ID,label:o.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return a(ToggleTabFocusModeAction,e),ToggleTabFocusModeAction.prototype.run=function(e,t){var i=!s.b.getTabFocusMode();s.b.setTabFocusMode(i),i?Object(n.a)(o.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(n.a)(o.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},ToggleTabFocusModeAction.ID="editor.action.toggleTabFocusMode",ToggleTabFocusModeAction}(r.b);Object(r.f)(c)},s7Km:function(e,t,i){"use strict";i.r(t),i.d(t,"MoveWordCommand",(function(){return m})),i.d(t,"WordLeftCommand",(function(){return _})),i.d(t,"WordRightCommand",(function(){return b})),i.d(t,"CursorWordStartLeft",(function(){return v})),i.d(t,"CursorWordEndLeft",(function(){return y})),i.d(t,"CursorWordLeft",(function(){return S})),i.d(t,"CursorWordStartLeftSelect",(function(){return C})),i.d(t,"CursorWordEndLeftSelect",(function(){return w})),i.d(t,"CursorWordLeftSelect",(function(){return O})),i.d(t,"CursorWordAccessibilityLeft",(function(){return x})),i.d(t,"CursorWordAccessibilityLeftSelect",(function(){return P})),i.d(t,"CursorWordStartRight",(function(){return k})),i.d(t,"CursorWordEndRight",(function(){return M})),i.d(t,"CursorWordRight",(function(){return T})),i.d(t,"CursorWordStartRightSelect",(function(){return W})),i.d(t,"CursorWordEndRightSelect",(function(){return D})),i.d(t,"CursorWordRightSelect",(function(){return R})),i.d(t,"CursorWordAccessibilityRight",(function(){return N})),i.d(t,"CursorWordAccessibilityRightSelect",(function(){return E})),i.d(t,"DeleteWordCommand",(function(){return L})),i.d(t,"DeleteWordLeftCommand",(function(){return j})),i.d(t,"DeleteWordRightCommand",(function(){return A})),i.d(t,"DeleteWordStartLeft",(function(){return I})),i.d(t,"DeleteWordEndLeft",(function(){return H})),i.d(t,"DeleteWordLeft",(function(){return F})),i.d(t,"DeleteWordStartRight",(function(){return V})),i.d(t,"DeleteWordEndRight",(function(){return B})),i.d(t,"DeleteWordRight",(function(){return q}));var o=i("sswD"),n=i("LCkn"),r=i("Ll0s"),s=i("1I1M"),a=i("5v8Y"),c=i("cGHE"),l=i("aokT"),u=i("gCVg"),d=i("wQH0"),h=i("R3nR"),p=i("T8No"),g=i("/UlZ"),f=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),m=function(e){function MoveWordCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i._wordNavigationType=t.wordNavigationType,i}return f(MoveWordCommand,e),MoveWordCommand.prototype.runEditorCommand=function(e,t,i){var o=this;if(t.hasModel()){var n=Object(a.a)(t.getOption(96)),s=t.getModel(),l=t.getSelections().map((function(e){var t=new c.a(e.positionLineNumber,e.positionColumn),i=o._move(n,s,t,o._wordNavigationType);return o._moveTo(e,i,o._inSelectionMode)}));if(t._getCursors().setStates("moveWordCommand",0,l.map((function(e){return r.d.fromModelSelection(e)}))),1===l.length){var u=new c.a(l[0].positionLineNumber,l[0].positionColumn);t.revealPosition(u,0)}}},MoveWordCommand.prototype._moveTo=function(e,t,i){return i?new u.a(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new u.a(t.lineNumber,t.column,t.lineNumber,t.column)},MoveWordCommand}(o.c),_=function(e){function WordLeftCommand(){return null!==e&&e.apply(this,arguments)||this}return f(WordLeftCommand,e),WordLeftCommand.prototype._move=function(e,t,i,o){return s.a.moveWordLeft(e,t,i,o)},WordLeftCommand}(m),b=function(e){function WordRightCommand(){return null!==e&&e.apply(this,arguments)||this}return f(WordRightCommand,e),WordRightCommand.prototype._move=function(e,t,i,o){return s.a.moveWordRight(e,t,i,o)},WordRightCommand}(m),v=function(e){function CursorWordStartLeft(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:d.a.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return f(CursorWordStartLeft,e),CursorWordStartLeft}(_),y=function(e){function CursorWordEndLeft(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return f(CursorWordEndLeft,e),CursorWordEndLeft}(_),S=function(e){function CursorWordLeft(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return f(CursorWordLeft,e),CursorWordLeft}(_),C=function(e){function CursorWordStartLeftSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:d.a.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return f(CursorWordStartLeftSelect,e),CursorWordStartLeftSelect}(_),w=function(e){function CursorWordEndLeftSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return f(CursorWordEndLeftSelect,e),CursorWordEndLeftSelect}(_),O=function(e){function CursorWordLeftSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return f(CursorWordLeftSelect,e),CursorWordLeftSelect}(_),x=function(e){function CursorWordAccessibilityLeft(){return e.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:p.a.and(d.a.textInputFocus,h.a),win:{primary:2063},weight:101}})||this}return f(CursorWordAccessibilityLeft,e),CursorWordAccessibilityLeft.prototype._move=function(t,i,o,n){return e.prototype._move.call(this,Object(a.a)(g.e.wordSeparators.defaultValue),i,o,n)},CursorWordAccessibilityLeft}(_),P=function(e){function CursorWordAccessibilityLeftSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:p.a.and(d.a.textInputFocus,h.a),win:{primary:3087},weight:101}})||this}return f(CursorWordAccessibilityLeftSelect,e),CursorWordAccessibilityLeftSelect.prototype._move=function(t,i,o,n){return e.prototype._move.call(this,Object(a.a)(g.e.wordSeparators.defaultValue),i,o,n)},CursorWordAccessibilityLeftSelect}(_),k=function(e){function CursorWordStartRight(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return f(CursorWordStartRight,e),CursorWordStartRight}(b),M=function(e){function CursorWordEndRight(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:d.a.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return f(CursorWordEndRight,e),CursorWordEndRight}(b),T=function(e){function CursorWordRight(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return f(CursorWordRight,e),CursorWordRight}(b),W=function(e){function CursorWordStartRightSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return f(CursorWordStartRightSelect,e),CursorWordStartRightSelect}(b),D=function(e){function CursorWordEndRightSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:d.a.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return f(CursorWordEndRightSelect,e),CursorWordEndRightSelect}(b),R=function(e){function CursorWordRightSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return f(CursorWordRightSelect,e),CursorWordRightSelect}(b),N=function(e){function CursorWordAccessibilityRight(){return e.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:p.a.and(d.a.textInputFocus,h.a),win:{primary:2065},weight:101}})||this}return f(CursorWordAccessibilityRight,e),CursorWordAccessibilityRight.prototype._move=function(t,i,o,n){return e.prototype._move.call(this,Object(a.a)(g.e.wordSeparators.defaultValue),i,o,n)},CursorWordAccessibilityRight}(b),E=function(e){function CursorWordAccessibilityRightSelect(){return e.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:p.a.and(d.a.textInputFocus,h.a),win:{primary:3089},weight:101}})||this}return f(CursorWordAccessibilityRightSelect,e),CursorWordAccessibilityRightSelect.prototype._move=function(t,i,o,n){return e.prototype._move.call(this,Object(a.a)(g.e.wordSeparators.defaultValue),i,o,n)},CursorWordAccessibilityRightSelect}(b),L=function(e){function DeleteWordCommand(t){var i=e.call(this,t)||this;return i._whitespaceHeuristics=t.whitespaceHeuristics,i._wordNavigationType=t.wordNavigationType,i}return f(DeleteWordCommand,e),DeleteWordCommand.prototype.runEditorCommand=function(e,t,i){var o=this;if(t.hasModel()){var r=Object(a.a)(t.getOption(96)),s=t.getModel(),c=t.getSelections().map((function(e){var t=o._delete(r,s,e,o._whitespaceHeuristics,o._wordNavigationType);return new n.a(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,c),t.pushUndoStop()}},DeleteWordCommand}(o.c),j=function(e){function DeleteWordLeftCommand(){return null!==e&&e.apply(this,arguments)||this}return f(DeleteWordLeftCommand,e),DeleteWordLeftCommand.prototype._delete=function(e,t,i,o,n){var r=s.a.deleteWordLeft(e,t,i,o,n);return r||new l.a(1,1,1,1)},DeleteWordLeftCommand}(L),A=function(e){function DeleteWordRightCommand(){return null!==e&&e.apply(this,arguments)||this}return f(DeleteWordRightCommand,e),DeleteWordRightCommand.prototype._delete=function(e,t,i,o,n){var r=s.a.deleteWordRight(e,t,i,o,n);if(r)return r;var a=t.getLineCount(),c=t.getLineMaxColumn(a);return new l.a(a,c,a,c)},DeleteWordRightCommand}(L),I=function(e){function DeleteWordStartLeft(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:d.a.writable})||this}return f(DeleteWordStartLeft,e),DeleteWordStartLeft}(j),H=function(e){function DeleteWordEndLeft(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:d.a.writable})||this}return f(DeleteWordEndLeft,e),DeleteWordEndLeft}(j),F=function(e){function DeleteWordLeft(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:d.a.writable,kbOpts:{kbExpr:d.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return f(DeleteWordLeft,e),DeleteWordLeft}(j),V=function(e){function DeleteWordStartRight(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:d.a.writable})||this}return f(DeleteWordStartRight,e),DeleteWordStartRight}(A),B=function(e){function DeleteWordEndRight(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:d.a.writable})||this}return f(DeleteWordEndRight,e),DeleteWordEndRight}(A),q=function(e){function DeleteWordRight(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:d.a.writable,kbOpts:{kbExpr:d.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return f(DeleteWordRight,e),DeleteWordRight}(A);Object(o.g)(new v),Object(o.g)(new y),Object(o.g)(new S),Object(o.g)(new C),Object(o.g)(new w),Object(o.g)(new O),Object(o.g)(new k),Object(o.g)(new M),Object(o.g)(new T),Object(o.g)(new W),Object(o.g)(new D),Object(o.g)(new R),Object(o.g)(new x),Object(o.g)(new P),Object(o.g)(new N),Object(o.g)(new E),Object(o.g)(new I),Object(o.g)(new H),Object(o.g)(new F),Object(o.g)(new V),Object(o.g)(new B),Object(o.g)(new q)},tXSY:function(e,t,i){"use strict";i.r(t),i.d(t,"SnippetController2",(function(){return F}));var o=i("pmY6"),n=i("N0LK"),r=i("sswD"),s=i("aokT"),a=i("gCVg"),c=i("wQH0"),l=i("QVNv"),u=i("T8No"),d=i("09fa"),h=i("6OMU"),p=i("0/Sa"),g=i("tX9W"),f=i("9XeP"),m=i("EWX2"),_=i("Cg/j"),b=i("uACm"),v=i("3/fG"),y=i("MrjW"),S=i("gslv"),C=i("cMvZ"),w=i("IOPI"),O=i("3rx1"),x=function(){function CompositeSnippetVariableResolver(e){this._delegates=e}return CompositeSnippetVariableResolver.prototype.resolve=function(e){for(var t=0,i=this._delegates;t<i.length;t++){var o=i[t].resolve(e);if(void 0!==o)return o}},CompositeSnippetVariableResolver}(),P=function(){function SelectionBasedVariableResolver(e,t){this._model=e,this._selection=t}return SelectionBasedVariableResolver.prototype.resolve=function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var i=this._model.getValueInRange(this._selection)||void 0;if(i&&this._selection.startLineNumber!==this._selection.endLineNumber&&e.snippet){var o=this._model.getLineContent(this._selection.startLineNumber),r=Object(n.t)(o,0,this._selection.startColumn-1),s=r;e.snippet.walk((function(t){return t!==e&&(t instanceof b.d&&(s=Object(n.t)(t.value.split(/\r\n|\r|\n/).pop())),!0)}));var a=Object(n.c)(s,r);i=i.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,i){return""+t+s.substr(a)+i}))}return i}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var c=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return c&&c.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0},SelectionBasedVariableResolver}(),k=function(){function ModelBasedVariableResolver(e,t){this._labelService=e,this._model=t}return ModelBasedVariableResolver.prototype.resolve=function(e){var t=e.name;if("TM_FILENAME"===t)return y.basename(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var i=y.basename(this._model.uri.fsPath),o=i.lastIndexOf(".");return o<=0?i:i.slice(0,o)}return"TM_DIRECTORY"===t&&this._labelService?"."===y.dirname(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(S.d)(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):void 0},ModelBasedVariableResolver}(),M=function(){function ClipboardBasedVariableResolver(e,t,i,o){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=o}return ClipboardBasedVariableResolver.prototype.resolve=function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var i=t.split(/\r\n|\n|\r/).filter((function(e){return!Object(n.x)(e)}));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}},ClipboardBasedVariableResolver}(),T=function(){function CommentBasedVariableResolver(e){this._model=e}return CommentBasedVariableResolver.prototype.resolve=function(e){var t=e.name,i=this._model.getLanguageIdentifier(),o=C.a.getComments(i.id);if(o)return"LINE_COMMENT"===t?o.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?o.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&o.blockCommentEndToken||void 0},CommentBasedVariableResolver}(),W=function(){function TimeBasedVariableResolver(){}return TimeBasedVariableResolver.prototype.resolve=function(e){var t=e.name;return"CURRENT_YEAR"===t?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===t?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===t?Object(n.F)((new Date).getMonth().valueOf()+1,2):"CURRENT_DATE"===t?Object(n.F)((new Date).getDate().valueOf(),2):"CURRENT_HOUR"===t?Object(n.F)((new Date).getHours().valueOf(),2):"CURRENT_MINUTE"===t?Object(n.F)((new Date).getMinutes().valueOf(),2):"CURRENT_SECOND"===t?Object(n.F)((new Date).getSeconds().valueOf(),2):"CURRENT_DAY_NAME"===t?TimeBasedVariableResolver.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===t?TimeBasedVariableResolver.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===t?TimeBasedVariableResolver.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?TimeBasedVariableResolver.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(Date.now()/1e3)):void 0},TimeBasedVariableResolver.dayNames=[v.a("Sunday","Sunday"),v.a("Monday","Monday"),v.a("Tuesday","Tuesday"),v.a("Wednesday","Wednesday"),v.a("Thursday","Thursday"),v.a("Friday","Friday"),v.a("Saturday","Saturday")],TimeBasedVariableResolver.dayNamesShort=[v.a("SundayShort","Sun"),v.a("MondayShort","Mon"),v.a("TuesdayShort","Tue"),v.a("WednesdayShort","Wed"),v.a("ThursdayShort","Thu"),v.a("FridayShort","Fri"),v.a("SaturdayShort","Sat")],TimeBasedVariableResolver.monthNames=[v.a("January","January"),v.a("February","February"),v.a("March","March"),v.a("April","April"),v.a("May","May"),v.a("June","June"),v.a("July","July"),v.a("August","August"),v.a("September","September"),v.a("October","October"),v.a("November","November"),v.a("December","December")],TimeBasedVariableResolver.monthNamesShort=[v.a("JanuaryShort","Jan"),v.a("FebruaryShort","Feb"),v.a("MarchShort","Mar"),v.a("AprilShort","Apr"),v.a("MayShort","May"),v.a("JuneShort","Jun"),v.a("JulyShort","Jul"),v.a("AugustShort","Aug"),v.a("SeptemberShort","Sep"),v.a("OctoberShort","Oct"),v.a("NovemberShort","Nov"),v.a("DecemberShort","Dec")],TimeBasedVariableResolver}(),D=function(){function WorkspaceBasedVariableResolver(e){this._workspaceService=e}return WorkspaceBasedVariableResolver.prototype.resolve=function(e){if(this._workspaceService){var t=Object(w.c)(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}},WorkspaceBasedVariableResolver.prototype._resolveWorkspaceName=function(e){if(Object(w.b)(e))return y.basename(e.path);var t=y.basename(e.configPath.path);return Object(n.m)(t,w.a)&&(t=t.substr(0,t.length-w.a.length-1)),t},WorkspaceBasedVariableResolver.prototype._resoveWorkspacePath=function(e){if(Object(w.b)(e))return Object(O.c)(e.fsPath);var t=y.basename(e.configPath.path),i=e.configPath.fsPath;return Object(n.m)(i,t)&&(i=i.substr(0,i.length-t.length-1)),i?Object(O.c)(i):"/"},WorkspaceBasedVariableResolver}(),R=function(){function RandomBasedVariableResolver(){}return RandomBasedVariableResolver.prototype.resolve=function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):void 0},RandomBasedVariableResolver}(),N=i("t9D7"),E=i("MD5Z"),L=i("R8sh");Object(N.e)((function(e,t){function getColorGraceful(t){var i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(".monaco-editor .snippet-placeholder { background-color: "+getColorGraceful(E.bc)+"; outline-color: "+getColorGraceful(E.cc)+"; }"),t.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+getColorGraceful(E.Zb)+"; outline-color: "+getColorGraceful(E.ac)+"; }")}));var j=function(){function OneSnippet(e,t,i){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=i,this._placeholderGroups=Object(h.o)(t.placeholders,b.b.compareByIndex),this._placeholderGroupsIdx=-1}return OneSnippet.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach((function(t){return e.push(t)})),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},OneSnippet.prototype._initDecorations=function(){var e=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var t=this._editor.getModel();this._editor.changeDecorations((function(i){for(var o=0,n=e._snippet.placeholders;o<n.length;o++){var r=n[o],a=e._snippet.offset(r),c=e._snippet.fullLen(r),l=s.a.fromPositions(t.getPositionAt(e._offset+a),t.getPositionAt(e._offset+a+c)),u=r.isFinalTabstop?OneSnippet._decor.inactiveFinal:OneSnippet._decor.inactive,d=i.addDecoration(l,u);e._placeholderDecorations.set(r,d)}}))}},OneSnippet.prototype.move=function(e){var t=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var i=[],o=0,n=this._placeholderGroups[this._placeholderGroupsIdx];o<n.length;o++){var r=n[o];if(r.transform){var s=this._placeholderDecorations.get(r),c=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(c);i.push(p.a.replaceMove(c,r.transform.resolve(l)))}}i.length>0&&this._editor.executeEdits("snippet.placeholderTransform",i)}var u=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,u=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,u=!0);var d=this._editor.getModel().changeDecorations((function(e){for(var i=new Set,o=[],n=0,r=t._placeholderGroups[t._placeholderGroupsIdx];n<r.length;n++){var s=r[n],c=t._placeholderDecorations.get(s),l=t._editor.getModel().getDecorationRange(c);o.push(new a.a(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn)),u=u&&t._hasPlaceholderBeenCollapsed(s),e.changeDecorationOptions(c,s.isFinalTabstop?OneSnippet._decor.activeFinal:OneSnippet._decor.active),i.add(s);for(var d=0,h=t._snippet.enclosingPlaceholders(s);d<h.length;d++){var p=h[d],g=t._placeholderDecorations.get(p);e.changeDecorationOptions(g,p.isFinalTabstop?OneSnippet._decor.activeFinal:OneSnippet._decor.active),i.add(p)}}return t._placeholderDecorations.forEach((function(t,o){i.has(o)||e.changeDecorationOptions(t,o.isFinalTabstop?OneSnippet._decor.inactiveFinal:OneSnippet._decor.inactive)})),o}));return u?this.move(e):d},OneSnippet.prototype._hasPlaceholderBeenCollapsed=function(e){for(var t=e;t;){if(t instanceof b.b){var i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(OneSnippet.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(OneSnippet.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(OneSnippet.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),OneSnippet.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,i=this._placeholderGroups;t<i.length;t++)for(var o=void 0,n=0,r=i[t];n<r.length;n++){var s=r[n];if(s.isFinalTabstop)break;o||(o=[],e.set(s.index,o));var a=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(a);if(!c){e.delete(s.index);break}o.push(c)}return e},Object.defineProperty(OneSnippet.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),OneSnippet.prototype.merge=function(e){var t=this,i=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(o){for(var n=0,r=t._placeholderGroups[t._placeholderGroupsIdx];n<r.length;n++){var a=r[n],c=e.shift();console.assert(!c._placeholderDecorations);for(var l=c._snippet.placeholderInfo.last.index,u=0,d=c._snippet.placeholderInfo.all;u<d.length;u++){var p=d[u];p.isFinalTabstop?p.index=a.index+(l+1)/t._nestingLevel:p.index=a.index+p.index/t._nestingLevel}t._snippet.replace(a,c._snippet.children);var g=t._placeholderDecorations.get(a);o.removeDecoration(g),t._placeholderDecorations.delete(a);for(var f=0,m=c._snippet.placeholders;f<m.length;f++){var _=m[f],v=c._snippet.offset(_),y=c._snippet.fullLen(_),S=s.a.fromPositions(i.getPositionAt(c._offset+v),i.getPositionAt(c._offset+v+y)),C=o.addDecoration(S,OneSnippet._decor.inactive);t._placeholderDecorations.set(_,C)}}t._placeholderGroups=Object(h.o)(t._snippet.placeholders,b.b.compareByIndex)}))},OneSnippet._decor={active:g.a.register({stickiness:0,className:"snippet-placeholder"}),inactive:g.a.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:g.a.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:g.a.register({stickiness:1,className:"finish-snippet-placeholder"})},OneSnippet}(),A={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},I=function(){function SnippetSession(e,t,i){void 0===i&&(i=A),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}return SnippetSession.adjustWhitespace=function(e,t,i,o,r){var s=e.getLineContent(t.lineNumber),a=Object(n.t)(s,0,t.column-1);i.walk((function(t){if(t instanceof b.d&&!(t.parent instanceof b.a)){var i=t.value.split(/\r\n|\r|\n/);if(o)for(var s=1;s<i.length;s++){var c=Object(n.t)(i[s]);i[s]=e.normalizeIndentation(a+c)+i[s].substr(c.length)}if(r){var l=i.join(e.getEOL());l!==t.value&&t.parent.replace(t,[new b.d(l)])}}return!0}))},SnippetSession.adjustSelection=function(e,t,i,o){if(0!==i||0!==o){var n=t.positionLineNumber,r=t.positionColumn,s=r-i,c=r+o,l=e.validateRange({startLineNumber:n,startColumn:s,endLineNumber:n,endColumn:c});t=a.a.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t},SnippetSession.createEditsAndSnippets=function(e,t,i,o,n,r,a){var c=[],l=[];if(!e.hasModel())return{edits:c,snippets:l};for(var u=e.getModel(),d=e.invokeWithinContext((function(e){return e.get(m.a,_.d)})),h=e.invokeWithinContext((function(e){return new k(e.get(L.a,_.d),u)})),g=e.invokeWithinContext((function(e){return e.get(f.a,_.d)})),readClipboardText=function(){return a||g&&g.readTextSync()},v=0,y=u.getValueInRange(SnippetSession.adjustSelection(u,e.getSelection(),i,0)),S=u.getValueInRange(SnippetSession.adjustSelection(u,e.getSelection(),0,o)),C=u.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),w=e.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return s.a.compareRangesUsingStarts(e.selection,t.selection)})),O=0,N=w;O<N.length;O++){var E=N[O],A=E.selection,I=E.idx,H=SnippetSession.adjustSelection(u,A,i,0),F=SnippetSession.adjustSelection(u,A,0,o);y!==u.getValueInRange(H)&&(H=A),S!==u.getValueInRange(F)&&(F=A);var V=A.setStartPosition(H.startLineNumber,H.startColumn).setEndPosition(F.endLineNumber,F.endColumn),B=(new b.c).parse(t,!0,n),q=V.getStartPosition();SnippetSession.adjustWhitespace(u,q,B,r||I>0&&C!==u.getLineFirstNonWhitespaceColumn(A.positionLineNumber),!0),B.resolveVariables(new x([h,new M(readClipboardText,I,w.length,"spread"===e.getOption(60)),new P(u,A),new T(u),new W,new D(d),new R]));var G=u.getOffsetAt(q)+v;v+=B.toString().length-u.getValueLengthInRange(V),c[I]=p.a.replace(V,B.toString()),l[I]=new j(e,B,G)}return{edits:c,snippets:l}},SnippetSession.prototype.dispose=function(){Object(o.f)(this._snippets)},SnippetSession.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},SnippetSession.prototype.insert=function(){var e=this;if(this._editor.hasModel()){var t=SnippetSession.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),i=t.edits,o=t.snippets;this._snippets=o,this._editor.executeEdits("snippet",i,(function(t){return e._snippets[0].hasPlaceholder?e._move(!0):t.map((function(e){return a.a.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}},SnippetSession.prototype.merge=function(e,t){var i=this;if(void 0===t&&(t=A),this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var o=SnippetSession.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText),n=o.edits,r=o.snippets;this._editor.executeEdits("snippet",n,(function(e){for(var t=0,o=i._snippets;t<o.length;t++){o[t].merge(r)}return console.assert(0===r.length),i._snippets[0].hasPlaceholder?i._move(void 0):e.map((function(e){return a.a.fromPositions(e.range.getEndPosition())}))}))}},SnippetSession.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},SnippetSession.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},SnippetSession.prototype._move=function(e){for(var t=[],i=0,o=this._snippets;i<o.length;i++){var n=o[i].move(e);t.push.apply(t,n)}return t},Object.defineProperty(SnippetSession.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(SnippetSession.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),SnippetSession.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,_loop_1=function(i){var o=i.computePossibleSelections();if(0===t.size&&o.forEach((function(i,o){i.sort(s.a.compareRangesUsingStarts);for(var n=0,r=e;n<r.length;n++){var a=r[n];if(i[0].containsRange(a)){t.set(o,[]);break}}})),0===t.size)return{value:!1};t.forEach((function(e,t){e.push.apply(e,o.get(t))}))},i=0,o=this._snippets;i<o.length;i++){var n=_loop_1(o[i]);if("object"==typeof n)return n.value}return e.sort(s.a.compareRangesUsingStarts),t.forEach((function(i,o){if(i.length===e.length){i.sort(s.a.compareRangesUsingStarts);for(var n=0;n<i.length;n++)if(!i[n].containsRange(e[n]))return void t.delete(o)}else t.delete(o)})),t.size>0},SnippetSession}(),__assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},H={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},F=function(){function SnippetController2(e,t,i){this._editor=e,this._logService=t,this._snippetListener=new o.b,this._modelVersionId=-1,this._inSnippet=SnippetController2.InSnippetMode.bindTo(i),this._hasNextTabstop=SnippetController2.HasNextTabstop.bindTo(i),this._hasPrevTabstop=SnippetController2.HasPrevTabstop.bindTo(i)}return SnippetController2.get=function(e){return e.getContribution(SnippetController2.ID)},SnippetController2.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(o.f)(this._session),this._snippetListener.dispose()},SnippetController2.prototype.insert=function(e,t){try{this._doInsert(e,void 0===t?H:__assign(__assign({},H),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},SnippetController2.prototype._doInsert=function(e,t){var i=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new I(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return i._updateState()}))))},SnippetController2.prototype._updateState=function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},SnippetController2.prototype._handleChoice=function(){var e=this;if(this._session&&this._editor.hasModel()){var t=this._session.choice;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map((function(e){return a.a.fromPositions(e.getStartPosition())})));var i=t.options[0];Object(l.f)(this._editor,t.options.map((function(t,o){return{kind:13,label:t.value,insertText:t.value,sortText:Object(n.J)("a",o+1),range:s.a.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,i.value.length))}})))}}else this._currentChoice=void 0}else this._currentChoice=void 0},SnippetController2.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},SnippetController2.prototype.cancel=function(e){void 0===e&&(e=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Object(o.f)(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])},SnippetController2.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},SnippetController2.prototype.next=function(){this._session&&this._session.next(),this._updateState()},SnippetController2.prototype.isInSnippet=function(){return Boolean(this._inSnippet.get())},SnippetController2.ID="snippetController2",SnippetController2.InSnippetMode=new u.d("inSnippetMode",!1),SnippetController2.HasNextTabstop=new u.d("hasNextTabstop",!1),SnippetController2.HasPrevTabstop=new u.d("hasPrevTabstop",!1),SnippetController2=__decorate([__param(1,d.a),__param(2,u.c)],SnippetController2)}();Object(r.h)(F.ID,F);var V=r.c.bindToContribution(F.get);Object(r.g)(new V({id:"jumpToNextSnippetPlaceholder",precondition:u.a.and(F.InSnippetMode,F.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:c.a.editorTextFocus,primary:2}})),Object(r.g)(new V({id:"jumpToPrevSnippetPlaceholder",precondition:u.a.and(F.InSnippetMode,F.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:c.a.editorTextFocus,primary:1026}})),Object(r.g)(new V({id:"leaveSnippet",precondition:F.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:c.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(r.g)(new V({id:"acceptSnippet",precondition:F.InSnippetMode,handler:function(e){return e.finish()}}))},uACm:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return u})),i.d(t,"c",(function(){return f}));var o,n=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__spreadArrays=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)o[n]=r[s];return o},r=function(){function Scanner(){this.value="",this.pos=0}return Scanner.isDigitCharacter=function(e){return e>=48&&e<=57},Scanner.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},Scanner.prototype.text=function(e){this.value=e,this.pos=0},Scanner.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},Scanner.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e,t=this.pos,i=0,o=this.value.charCodeAt(t);if("number"==typeof(e=Scanner._table[o]))return this.pos+=1,{type:e,pos:t,len:1};if(Scanner.isDigitCharacter(o)){e=8;do{i+=1,o=this.value.charCodeAt(t+i)}while(Scanner.isDigitCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}}if(Scanner.isVariableCharacter(o)){e=9;do{o=this.value.charCodeAt(t+ ++i)}while(Scanner.isVariableCharacter(o)||Scanner.isDigitCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}}e=10;do{i+=1,o=this.value.charCodeAt(t+i)}while(!isNaN(o)&&void 0===Scanner._table[o]&&!Scanner.isDigitCharacter(o)&&!Scanner.isVariableCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}},Scanner._table=((o={})[36]=0,o[58]=1,o[44]=2,o[123]=3,o[125]=4,o[92]=5,o[47]=6,o[124]=7,o[43]=11,o[45]=12,o[63]=13,o),Scanner}(),s=function(){function Marker(){this._children=[]}return Marker.prototype.appendChild=function(e){return e instanceof a&&this._children[this._children.length-1]instanceof a?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},Marker.prototype.replace=function(e,t){var i=e.parent,o=i.children.indexOf(e),n=i.children.slice(0);n.splice.apply(n,__spreadArrays([o,1],t)),i._children=n,function _fixParent(e,t){for(var i=0,o=e;i<o.length;i++){var n=o[i];n.parent=t,_fixParent(n.children,n)}}(t,i)},Object.defineProperty(Marker.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(Marker.prototype,"snippet",{get:function(){for(var e=this;;){if(!e)return;if(e instanceof g)return e;e=e.parent}},enumerable:!0,configurable:!0}),Marker.prototype.toString=function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")},Marker.prototype.len=function(){return 0},Marker}(),a=function(e){function Text(t){var i=e.call(this)||this;return i.value=t,i}return n(Text,e),Text.prototype.toString=function(){return this.value},Text.prototype.len=function(){return this.value.length},Text.prototype.clone=function(){return new Text(this.value)},Text}(s),c=function(e){function TransformableMarker(){return null!==e&&e.apply(this,arguments)||this}return n(TransformableMarker,e),TransformableMarker}(s),l=function(e){function Placeholder(t){var i=e.call(this)||this;return i.index=t,i}return n(Placeholder,e),Placeholder.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0},Object.defineProperty(Placeholder.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(Placeholder.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof u?this._children[0]:void 0},enumerable:!0,configurable:!0}),Placeholder.prototype.clone=function(){var e=new Placeholder(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},Placeholder}(c),u=function(e){function Choice(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return n(Choice,e),Choice.prototype.appendChild=function(e){return e instanceof a&&(e.parent=this,this.options.push(e)),this},Choice.prototype.toString=function(){return this.options[0].value},Choice.prototype.len=function(){return this.options[0].len()},Choice.prototype.clone=function(){var e=new Choice;return this.options.forEach(e.appendChild,e),e},Choice}(s),d=function(e){function Transform(){var t=null!==e&&e.apply(this,arguments)||this;return t.regexp=new RegExp(""),t}return n(Transform,e),Transform.prototype.resolve=function(e){var t=this,i=!1,o=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((function(e){return e instanceof h&&Boolean(e.elseValue)}))&&(o=this._replace([])),o},Transform.prototype._replace=function(e){for(var t="",i=0,o=this._children;i<o.length;i++){var n=o[i];if(n instanceof h){var r=e[n.index]||"";t+=r=n.resolve(r)}else t+=n.toString()}return t},Transform.prototype.toString=function(){return""},Transform.prototype.clone=function(){var e=new Transform;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e},Transform}(s),h=function(e){function FormatString(t,i,o,n){var r=e.call(this)||this;return r.index=t,r.shorthandName=i,r.ifValue=o,r.elseValue=n,r}return n(FormatString,e),FormatString.prototype.resolve=function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue},FormatString.prototype._toPascalCase=function(e){var t=e.match(/[a-z]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e},FormatString.prototype.clone=function(){return new FormatString(this.index,this.shorthandName,this.ifValue,this.elseValue)},FormatString}(s),p=function(e){function Variable(t){var i=e.call(this)||this;return i.name=t,i}return n(Variable,e),Variable.prototype.resolve=function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new a(t)],!0)},Variable.prototype.clone=function(){var e=new Variable(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},Variable}(c);function walk(e,t){for(var i=__spreadArrays(e);i.length>0;){var o=i.shift();if(!t(o))break;i.unshift.apply(i,o.children)}}var g=function(e){function TextmateSnippet(){return null!==e&&e.apply(this,arguments)||this}return n(TextmateSnippet,e),Object.defineProperty(TextmateSnippet.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var e,t=[];this.walk((function(i){return i instanceof l&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(TextmateSnippet.prototype,"placeholders",{get:function(){return this.placeholderInfo.all},enumerable:!0,configurable:!0}),TextmateSnippet.prototype.offset=function(e){var t=0,i=!1;return this.walk((function(o){return o===e?(i=!0,!1):(t+=o.len(),!0)})),i?t:-1},TextmateSnippet.prototype.fullLen=function(e){var t=0;return walk([e],(function(e){return t+=e.len(),!0})),t},TextmateSnippet.prototype.enclosingPlaceholders=function(e){for(var t=[],i=e.parent;i;)i instanceof l&&t.push(i),i=i.parent;return t},TextmateSnippet.prototype.resolveVariables=function(e){var t=this;return this.walk((function(i){return i instanceof p&&i.resolve(e)&&(t._placeholders=void 0),!0})),this},TextmateSnippet.prototype.appendChild=function(t){return this._placeholders=void 0,e.prototype.appendChild.call(this,t)},TextmateSnippet.prototype.replace=function(t,i){return this._placeholders=void 0,e.prototype.replace.call(this,t,i)},TextmateSnippet.prototype.clone=function(){var e=new TextmateSnippet;return this._children=this.children.map((function(e){return e.clone()})),e},TextmateSnippet.prototype.walk=function(e){walk(this.children,e)},TextmateSnippet}(s),f=function(){function SnippetParser(){this._scanner=new r,this._token={type:14,pos:0,len:0}}return SnippetParser.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},SnippetParser.prototype.parse=function(e,t,i){this._scanner.text(e),this._token=this._scanner.next();for(var o=new g;this._parse(o););var n=new Map,r=[],s=0;o.walk((function(e){return e instanceof l&&(s+=1,e.isFinalTabstop?n.set(0,void 0):!n.has(e.index)&&e.children.length>0?n.set(e.index,e.children):r.push(e)),!0}));for(var a=0,c=r;a<c.length;a++){var u=c[a],d=n.get(u.index);if(d){var h=new l(u.index);h.transform=u.transform;for(var p=0,f=d;p<f.length;p++){var m=f[p];h.appendChild(m.clone())}o.replace(u,[h])}}return i||(i=s>0&&t),!n.has(0)&&i&&o.appendChild(new l(0)),o},SnippetParser.prototype._accept=function(e,t){if(void 0===e||this._token.type===e){var i=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),i}return!1},SnippetParser.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},SnippetParser.prototype._until=function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var i=this._scanner.next();if(0!==i.type&&4!==i.type&&5!==i.type)return!1}this._token=this._scanner.next()}var o=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),o},SnippetParser.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},SnippetParser.prototype._parseEscaped=function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new a(t)),!0)},SnippetParser.prototype._parseTabstopOrVariableName=function(e){var t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new l(Number(t)):new p(t)),!0):this._backTo(i)},SnippetParser.prototype._parseComplexPlaceholder=function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);var o=new l(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new a("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else{if(!(o.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);for(var n=new u;;){if(this._parseChoiceElement(n)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(n),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}},SnippetParser.prototype._parseChoiceElement=function(e){for(var t=this._token,i=[];2!==this._token.type&&7!==this._token.type;){var o=void 0;if(!(o=(o=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:this._accept(void 0,!0)))return this._backTo(t),!1;i.push(o)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new a(i.join(""))),!0)},SnippetParser.prototype._parseComplexVariable=function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);var o=new p(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new a("${"+t+":")),o.children.forEach(e.appendChild,e),!0}},SnippetParser.prototype._parseTransform=function(e){for(var t=new d,i="",o="";!this._accept(6);){var n=void 0;if(n=this._accept(5,!0))i+=n=this._accept(6,!0)||n;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){n=void 0;if(n=this._accept(5,!0))n=this._accept(5,!0)||this._accept(6,!0)||n,t.appendChild(new a(n));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;o+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,o)}catch(e){return!1}return e.transform=t,!0},SnippetParser.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var i=!1;this._accept(3)&&(i=!0);var o=this._accept(8,!0);if(!o)return this._backTo(t),!1;if(!i)return e.appendChild(new h(Number(o))),!0;if(this._accept(4))return e.appendChild(new h(Number(o))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var n=this._accept(9,!0);return n&&this._accept(4)?(e.appendChild(new h(Number(o),n)),!0):(this._backTo(t),!1)}if(this._accept(11)){if(r=this._until(4))return e.appendChild(new h(Number(o),void 0,r,void 0)),!0}else if(this._accept(12)){if(s=this._until(4))return e.appendChild(new h(Number(o),void 0,void 0,s)),!0}else if(this._accept(13)){var r;if(r=this._until(1))if(s=this._until(4))return e.appendChild(new h(Number(o),void 0,r,s)),!0}else{var s;if(s=this._until(4))return e.appendChild(new h(Number(o),void 0,void 0,s)),!0}return this._backTo(t),!1},SnippetParser.prototype._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new a(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},SnippetParser}()}}]);
//# sourceMappingURL=159.82417ba3f15764d2e9ed.chunk.js.map