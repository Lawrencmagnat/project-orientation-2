(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[141],{bY6Y:function(e,t,r){"use strict";r.r(t),r.d(t,"mochaTest",(function(){return mochaTest}));var s=r("o0o1"),n=r.n(s),a=r("5rFJ"),o=r("4Te6"),c=n.a.mark(mochaTest),l="/home/ccuser/.babelscripts/mocha-setup.js",i="test/test.js",u=function createRunCommand(e,t){var r=["mocha","-R","json"];return e&&("node-14"===t?r.push("--require","@babel/register"):"react-16"===t?r.push("--compilers","js:@babel/register",l):r.push("--compilers","js:babel-register",l)),r.push(i),r.join(" ")},p=function setErrorTexts(e,t){t.forEach((function(t,r){var s;if(t.err.message&&t.err.message.indexOf("Invalid Chai property")>=0)e.tool="An error occurred while attempting to check your code.",e.eval="Invalid Chai property";else if(t.err.message&&t.err.message.lastIndexOf(":")>=0){var n=t.err.message.lastIndexOf(":"),a=t.err.message.substring(0,n);e.friendly+="".concat(a,"\n")}else null!==(s=t.err)&&void 0!==s&&s.type?e.tool+="".concat(t.err.stack,"\n"):0===r&&t.fullTitle&&(e.friendly+="".concat(t.fullTitle.trim()))}))};function mochaTest(e,t){var r,s,l,d,h,m,f,b,g,v,_,y,O,T,j,w,x,C;return n.a.wrap((function mochaTest$(n){for(;;)switch(n.prev=n.next){case 0:return r=t.updateFiles,s=t.executeCommand,l=t.getWorkspaceType,n.prev=1,d=e.test_code,h=e.test_options,m=h.withBabel,f=void 0!==m&&m,b=new o.a({path:i,content:d}),n.next=7,Object(a.call)(r,[b]);case 7:return n.next=9,Object(a.call)(l);case 9:return g=n.sent,n.next=12,Object(a.call)(s,u(f,g));case 12:if(v=n.sent,_={friendly:"",tool:"",eval:""},y=!1,v.Content){try{O=JSON.parse(v.Content)}catch(e){_.tool=v.Content}O&&(j=(T=O).failures,w=void 0===j?[]:j,x=T.passes,C=void 0===x?[]:x,w.length?p(_,w):!w.length&&C.length&&(y=!0))}return n.abrupt("return",{errors:_,pass:y});case 19:return n.prev=19,n.t0=n.catch(1),n.abrupt("return",{pass:!1,errors:{friendly:n.t0.message||"Failed to test your code."}});case 22:case"end":return n.stop()}}),c,null,[[1,19]])}t.default=mochaTest}}]);
//# sourceMappingURL=141.e34e38b7bef84f597337.chunk.js.map