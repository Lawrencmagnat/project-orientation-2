(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[155],{"03kh":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("qj0h"),n=i("Vxe3"),r=i("nB0o"),s=i("nnTU"),a=i("T8No"),d=i("Cg/j"),l=i("sM1p"),u=i("t9D7"),c=i("R3nR"),h=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},p=function(e){function EmbeddedCodeEditorWidget(t,i,o,n,r,s,a,d,l,u){var c=e.call(this,t,o.getRawOptions(),{},n,r,s,a,d,l,u)||this;return c._parentEditor=o,c._overwriteOptions=i,e.prototype.updateOptions.call(c,c._overwriteOptions),c._register(o.onDidChangeConfiguration((function(e){return c._onParentConfigurationChanged(e)}))),c}return h(EmbeddedCodeEditorWidget,e),EmbeddedCodeEditorWidget.prototype.getParentEditor=function(){return this._parentEditor},EmbeddedCodeEditorWidget.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),e.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget.prototype.updateOptions=function(t){o.g(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget=__decorate([__param(3,d.a),__param(4,n.a),__param(5,s.b),__param(6,a.c),__param(7,u.c),__param(8,l.a),__param(9,c.b)],EmbeddedCodeEditorWidget)}(r.a)},"0Lb2":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var o=i("FWmy"),n=i("MI8n"),r=i("pmY6"),s=i("qj0h"),a=i("aokT"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=function(e){function DiffNavigator(t,i){void 0===i&&(i={});var o=e.call(this)||this;return o._onDidUpdate=o._register(new n.a),o._editor=t,o._options=s.g(i,l,!1),o.disposed=!1,o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=Boolean(o._options.alwaysRevealFirst),o._register(o._editor.onDidDispose((function(){return o.dispose()}))),o._register(o._editor.onDidUpdateDiff((function(){return o._onDiffUpdated()}))),o._options.followsCaret&&o._register(o._editor.getModifiedEditor().onDidChangeCursorPosition((function(e){o.ignoreSelectionChange||(o.nextIdx=-1)}))),o._options.alwaysRevealFirst&&o._register(o._editor.getModifiedEditor().onDidChangeModel((function(e){o.revealFirst=!0}))),o._init(),o}return d(DiffNavigator,e),DiffNavigator.prototype._init=function(){this._editor.getLineChanges()},DiffNavigator.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},DiffNavigator.prototype._compute=function(e){var t=this;this.ranges=[],e&&e.forEach((function(e){!t._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((function(e){t.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):t.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort((function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0})),this._onDidUpdate.fire(this)},DiffNavigator.prototype._initIdx=function(e){var t=!1,i=this._editor.getPosition();if(i){for(var o=0,n=this.ranges.length;o<n&&!t;o++){var r=this.ranges[o].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=o+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},DiffNavigator.prototype._move=function(e,t){if(o.a(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealPositionInCenter(n,t)}finally{this.ignoreSelectionChange=!1}}},DiffNavigator.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},DiffNavigator.prototype.next=function(e){void 0===e&&(e=0),this._move(!0,e)},DiffNavigator.prototype.previous=function(e){void 0===e&&(e=0),this._move(!1,e)},DiffNavigator.prototype.dispose=function(){e.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},DiffNavigator}(r.a)},"1YUG":function(e,t,i){"use strict";i.r(t),i.d(t,"CoreEditorCommand",(function(){return b})),i.d(t,"EditorScroll_",(function(){return o})),i.d(t,"RevealLine_",(function(){return n})),i.d(t,"CoreNavigationCommands",(function(){return r})),i.d(t,"CoreEditingCommands",(function(){return s}));var o,n,r,s,a=i("3/fG"),d=i("746U"),l=i("sswD"),u=i("Vxe3"),c=i("/ZHX"),h=i("Ll0s"),p=i("snIX"),f=i("oAeH"),g=i("GR/f"),m=i("cGHE"),_=i("aokT"),v=i("iuje"),y=i("wQH0"),C=i("T8No"),w=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),b=function(e){function CoreEditorCommand(){return null!==e&&e.apply(this,arguments)||this}return w(CoreEditorCommand,e),CoreEditorCommand.prototype.runEditorCommand=function(e,t,i){var o=t._getCursors();o&&this.runCoreEditorCommand(o,i||{})},CoreEditorCommand}(l.c);function registerCommand(e){e.register()}!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!d.i(e))return!1;var t=e;return!!d.j(t.to)&&(!(!d.k(t.by)&&!d.j(t.by))&&(!(!d.k(t.value)&&!d.h(t.value))&&!(!d.k(t.revealCursor)&&!d.e(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=function parse(t){var i,o;switch(t.to){case e.RawDirection.Up:i=1;break;case e.RawDirection.Down:i=2;break;default:return null}switch(t.by){case e.RawUnit.Line:o=1;break;case e.RawUnit.WrappedLine:o=2;break;case e.RawUnit.Page:o=3;break;case e.RawUnit.HalfPage:o=4;break;default:o=2}return{direction:i,unit:o,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(o||(o={})),function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!d.i(e))return!1;var t=e;return!!d.h(t.lineNumber)&&!(!d.k(t.at)&&!d.j(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(n||(n={})),function(e){var t=function(e){function BaseMoveToCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(BaseMoveToCommand,e),BaseMoveToCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!0,0,0)},BaseMoveToCommand}(b);e.MoveTo=Object(l.g)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=Object(l.g)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var i=function(e){function ColumnSelectCommand(){return null!==e&&e.apply(this,arguments)||this}return w(ColumnSelectCommand,e),ColumnSelectCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var i=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,3,i.viewStates.map((function(e){return h.d.fromViewState(e)}))),e.setColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),e.reveal(t.source,!0,i.reversed?1:2,0)},ColumnSelectCommand}(b);e.ColumnSelect=Object(l.g)(new(function(e){function class_1(){return e.call(this,{id:"columnSelect",precondition:void 0})||this}return w(class_1,e),class_1.prototype._getColumnSelectResult=function(e,t,i,o){var n=e.model.validatePosition(o.position),r=e.validateViewPosition(new m.a(o.viewPosition.lineNumber,o.viewPosition.column),n),s=o.doColumnSelect?i.fromViewLineNumber:r.lineNumber,a=o.doColumnSelect?i.fromViewVisualColumn:o.mouseColumn-1;return c.a.columnSelect(e.config,e.viewModel,s,a,r.lineNumber,o.mouseColumn-1)},class_1}(i))),e.CursorColumnSelectLeft=Object(l.g)(new(function(e){function class_2(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3599,linux:{primary:0}}})||this}return w(class_2,e),class_2.prototype._getColumnSelectResult=function(e,t,i,o){return c.a.columnSelectLeft(e.config,e.viewModel,i)},class_2}(i))),e.CursorColumnSelectRight=Object(l.g)(new(function(e){function class_3(){return e.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3601,linux:{primary:0}}})||this}return w(class_3,e),class_3.prototype._getColumnSelectResult=function(e,t,i,o){return c.a.columnSelectRight(e.config,e.viewModel,i)},class_3}(i)));var r=function(e){function ColumnSelectUpCommand(t){var i=e.call(this,t)||this;return i._isPaged=t.isPaged,i}return w(ColumnSelectUpCommand,e),ColumnSelectUpCommand.prototype._getColumnSelectResult=function(e,t,i,o){return c.a.columnSelectUp(e.config,e.viewModel,i,this._isPaged)},ColumnSelectUpCommand}(i);e.CursorColumnSelectUp=Object(l.g)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Object(l.g)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3595,linux:{primary:0}}}));var s=function(e){function ColumnSelectDownCommand(t){var i=e.call(this,t)||this;return i._isPaged=t.isPaged,i}return w(ColumnSelectDownCommand,e),ColumnSelectDownCommand.prototype._getColumnSelectResult=function(e,t,i,o){return c.a.columnSelectDown(e.config,e.viewModel,i,this._isPaged)},ColumnSelectDownCommand}(i);e.CursorColumnSelectDown=Object(l.g)(new s({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Object(l.g)(new s({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3596,linux:{primary:0}}}));var a=function(e){function CursorMoveImpl(){return e.call(this,{id:"cursorMove",precondition:void 0,description:f.a.description})||this}return w(CursorMoveImpl,e),CursorMoveImpl.prototype.runCoreEditorCommand=function(e,t){var i=f.a.parse(t);i&&this._runCursorMove(e,t.source,i)},CursorMoveImpl.prototype._runCursorMove=function(e,t,i){e.context.model.pushStackElement(),e.setStates(t,3,f.b.move(e.context,e.getAll(),i)),e.reveal(t,!0,0,0)},CursorMoveImpl}(b);e.CursorMoveImpl=a,e.CursorMove=Object(l.g)(new a);var d=function(t){function CursorMoveBasedCommand(e){var i=t.call(this,e)||this;return i._staticArgs=e.args,i}return w(CursorMoveBasedCommand,t),CursorMoveBasedCommand.prototype.runCoreEditorCommand=function(t,i){var o=this._staticArgs;-1===this._staticArgs.value&&(o={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),e.CursorMove._runCursorMove(t,i.source,o)},CursorMoveBasedCommand}(b);e.CursorLeft=Object(l.g)(new d({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Object(l.g)(new d({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1039}})),e.CursorRight=Object(l.g)(new d({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Object(l.g)(new d({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1041}})),e.CursorUp=Object(l.g)(new d({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Object(l.g)(new d({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Object(l.g)(new d({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:11}})),e.CursorPageUpSelect=Object(l.g)(new d({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1035}})),e.CursorDown=Object(l.g)(new d({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Object(l.g)(new d({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Object(l.g)(new d({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:12}})),e.CursorPageDownSelect=Object(l.g)(new d({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1036}})),e.CreateCursor=Object(l.g)(new(function(e){function class_4(){return e.call(this,{id:"createCursor",precondition:void 0})||this}return w(class_4,e),class_4.prototype.runCoreEditorCommand=function(e,t){var i,o=e.context;i=t.wholeLine?f.b.line(o,e.getPrimaryCursor(),!1,t.position,t.viewPosition):f.b.moveTo(o,e.getPrimaryCursor(),!1,t.position,t.viewPosition);var n=e.getAll();if(n.length>1)for(var r=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null,a=0,d=n.length;a<d;a++){var l=n[a];if((!r||l.modelState.selection.containsPosition(r))&&(!s||l.viewState.selection.containsPosition(s)))return n.splice(a,1),e.context.model.pushStackElement(),void e.setStates(t.source,3,n)}n.push(i),e.context.model.pushStackElement(),e.setStates(t.source,3,n)},class_4}(b))),e.LastCursorMoveToSelect=Object(l.g)(new(function(e){function class_5(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return w(class_5,e),class_5.prototype.runCoreEditorCommand=function(e,t){var i=e.context,o=e.getLastAddedCursorIndex(),n=e.getAll(),r=n.slice(0);r[o]=f.b.moveTo(i,n[o],!0,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,r)},class_5}(b)));var u=function(e){function HomeCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(HomeCommand,e),HomeCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},HomeCommand}(b);e.CursorHome=Object(l.g)(new u({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Object(l.g)(new u({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),e.CursorLineStart=Object(l.g)(new(function(e){function class_6(){return e.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:0,mac:{primary:287}}})||this}return w(class_6,e),class_6.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_6.prototype._exec=function(e,t){for(var i=[],o=0,n=t.length;o<n;o++){var r=t[o],s=r.modelState.position.lineNumber;i[o]=h.d.fromModelState(r.modelState.move(!1,s,1,0))}return i},class_6}(b)));var p=function(e){function EndCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(EndCommand,e),EndCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},EndCommand}(b);e.CursorEnd=Object(l.g)(new p({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),e.CursorEndSelect=Object(l.g)(new p({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),e.CursorLineEnd=Object(l.g)(new(function(e){function class_7(){return e.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:0,mac:{primary:291}}})||this}return w(class_7,e),class_7.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_7.prototype._exec=function(e,t){for(var i=[],o=0,n=t.length;o<n;o++){var r=t[o],s=r.modelState.position.lineNumber,a=e.model.getLineMaxColumn(s);i[o]=h.d.fromModelState(r.modelState.move(!1,s,a,0))}return i},class_7}(b)));var g=function(e){function TopCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(TopCommand,e),TopCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},TopCommand}(b);e.CursorTop=Object(l.g)(new g({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Object(l.g)(new g({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3086,mac:{primary:3088}}}));var v=function(e){function BottomCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(BottomCommand,e),BottomCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},BottomCommand}(b);e.CursorBottom=Object(l.g)(new v({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Object(l.g)(new v({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:3085,mac:{primary:3090}}}));var C=function(e){function EditorScrollImpl(){return e.call(this,{id:"editorScroll",precondition:void 0,description:o.description})||this}return w(EditorScrollImpl,e),EditorScrollImpl.prototype.runCoreEditorCommand=function(e,t){var i=o.parse(t);i&&this._runEditorScroll(e,t.source,i)},EditorScrollImpl.prototype._runEditorScroll=function(e,t,i){var o=this._computeDesiredScrollTop(e.context,i);if(i.revealCursor){var n=e.context.getCompletelyVisibleViewRangeAtScrollTop(o);e.setStates(t,3,[f.b.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),n,i.select)])}e.scrollTo(o)},EditorScrollImpl.prototype._computeDesiredScrollTop=function(e,t){if(1===t.unit){var i=e.getCompletelyVisibleModelRange(),o=void 0;o=1===t.direction?Math.max(1,i.startLineNumber-t.value):Math.min(e.model.getLineCount(),i.startLineNumber+t.value);var n=e.convertModelPositionToViewPosition(new m.a(o,1));return e.getVerticalOffsetForViewLine(n.lineNumber)}var r;r=3===t.unit?e.config.pageSize*t.value:4===t.unit?Math.round(e.config.pageSize/2)*t.value:t.value;var s=(1===t.direction?-1:1)*r;return e.getCurrentScrollTop()+s*e.config.lineHeight},EditorScrollImpl}(b);e.EditorScrollImpl=C,e.EditorScroll=Object(l.g)(new C),e.ScrollLineUp=Object(l.g)(new(function(t){function class_8(){return t.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2064,mac:{primary:267}}})||this}return w(class_8,t),class_8.prototype.runCoreEditorCommand=function(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},class_8}(b))),e.ScrollPageUp=Object(l.g)(new(function(t){function class_9(){return t.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return w(class_9,t),class_9.prototype.runCoreEditorCommand=function(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},class_9}(b))),e.ScrollLineDown=Object(l.g)(new(function(t){function class_10(){return t.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2066,mac:{primary:268}}})||this}return w(class_10,t),class_10.prototype.runCoreEditorCommand=function(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},class_10}(b))),e.ScrollPageDown=Object(l.g)(new(function(t){function class_11(){return t.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return w(class_11,t),class_11.prototype.runCoreEditorCommand=function(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},class_11}(b)));var S=function(e){function WordCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(WordCommand,e),WordCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]),e.reveal(t.source,!0,0,0)},WordCommand}(b);e.WordSelect=Object(l.g)(new S({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=Object(l.g)(new S({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=Object(l.g)(new(function(e){function class_12(){return e.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return w(class_12,e),class_12.prototype.runCoreEditorCommand=function(e,t){var i=e.context,o=e.getLastAddedCursorIndex(),n=e.getAll(),r=n.slice(0),s=n[o];r[o]=f.b.word(i,s,s.modelState.hasSelection(),t.position),i.model.pushStackElement(),e.setStates(t.source,3,r)},class_12}(b)));var D=function(e){function LineCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(LineCommand,e),LineCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!1,0,0)},LineCommand}(b);e.LineSelect=Object(l.g)(new D({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=Object(l.g)(new D({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var L=function(e){function LastCursorLineCommand(t){var i=e.call(this,t)||this;return i._inSelectionMode=t.inSelectionMode,i}return w(LastCursorLineCommand,e),LastCursorLineCommand.prototype.runCoreEditorCommand=function(e,t){var i=e.getLastAddedCursorIndex(),o=e.getAll(),n=o.slice(0);n[i]=f.b.line(e.context,o[i],this._inSelectionMode,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,n)},LastCursorLineCommand}(b);e.LastCursorLineSelect=Object(l.g)(new L({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=Object(l.g)(new L({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=Object(l.g)(new(function(e){function class_13(){return e.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2090}})||this}return w(class_13,e),class_13.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.expandLineSelection(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_13}(b))),e.CancelSelection=Object(l.g)(new(function(e){function class_14(){return e.call(this,{id:"cancelSelection",precondition:y.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:9,secondary:[1033]}})||this}return w(class_14,e),class_14.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.cancelSelection(e.context,e.getPrimaryCursor())]),e.reveal(t.source,!0,0,0)},class_14}(b))),e.RemoveSecondaryCursors=Object(l.g)(new(function(e){function class_15(){return e.call(this,{id:"removeSecondaryCursors",precondition:y.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:y.a.textInputFocus,primary:9,secondary:[1033]}})||this}return w(class_15,e),class_15.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[e.getPrimaryCursor()]),e.reveal(t.source,!0,0,0)},class_15}(b))),e.RevealLine=Object(l.g)(new(function(e){function class_16(){return e.call(this,{id:"revealLine",precondition:void 0,description:n.description})||this}return w(class_16,e),class_16.prototype.runCoreEditorCommand=function(e,t){var i=t,o=(i.lineNumber||0)+1;o<1&&(o=1);var r=e.context.model.getLineCount();o>r&&(o=r);var s=new _.a(o,1,o,e.context.model.getLineMaxColumn(o)),a=0;if(i.at)switch(i.at){case n.RawAtArgument.Top:a=3;break;case n.RawAtArgument.Center:a=1;break;case n.RawAtArgument.Bottom:a=4}var d=e.context.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,d,a,0)},class_16}(b))),e.SelectAll=Object(l.g)(new(function(e){function class_17(){return e.call(this,{id:"selectAll",precondition:void 0})||this}return w(class_17,e),class_17.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.selectAll(e.context,e.getPrimaryCursor())])},class_17}(b))),e.SetSelection=Object(l.g)(new(function(e){function class_18(){return e.call(this,{id:"setSelection",precondition:void 0})||this}return w(class_18,e),class_18.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[h.d.fromModelSelection(t.selection)])},class_18}(b)))}(r||(r={})),function(e){var t=function(e){function CoreEditingCommand(){return null!==e&&e.apply(this,arguments)||this}return w(CoreEditingCommand,e),CoreEditingCommand.prototype.runEditorCommand=function(e,t,i){var o=t._getCursors();o&&this.runCoreEditingCommand(t,o,i||{})},CoreEditingCommand}(l.c);e.CoreEditingCommand=t,e.LineBreakInsert=Object(l.g)(new(function(e){function class_19(){return e.call(this,{id:"lineBreakInsert",precondition:y.a.writable,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:0,mac:{primary:301}}})||this}return w(class_19,e),class_19.prototype.runCoreEditingCommand=function(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,g.a.lineBreakInsert(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))))},class_19}(t))),e.Outdent=Object(l.g)(new(function(e){function class_20(){return e.call(this,{id:"outdent",precondition:y.a.writable,kbOpts:{weight:0,kbExpr:C.a.and(y.a.editorTextFocus,y.a.tabDoesNotMoveFocus),primary:1026}})||this}return w(class_20,e),class_20.prototype.runCoreEditingCommand=function(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,g.a.outdent(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},class_20}(t))),e.Tab=Object(l.g)(new(function(e){function class_21(){return e.call(this,{id:"tab",precondition:y.a.writable,kbOpts:{weight:0,kbExpr:C.a.and(y.a.editorTextFocus,y.a.tabDoesNotMoveFocus),primary:2}})||this}return w(class_21,e),class_21.prototype.runCoreEditingCommand=function(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,g.a.tab(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},class_21}(t))),e.DeleteLeft=Object(l.g)(new(function(e){function class_22(){return e.call(this,{id:"deleteLeft",precondition:y.a.writable,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return w(class_22,e),class_22.prototype.runCoreEditingCommand=function(e,t,i){var o=p.a.deleteLeft(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),n=o[0],r=o[1];n&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(2)},class_22}(t))),e.DeleteRight=Object(l.g)(new(function(e){function class_23(){return e.call(this,{id:"deleteRight",precondition:y.a.writable,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return w(class_23,e),class_23.prototype.runCoreEditingCommand=function(e,t,i){var o=p.a.deleteRight(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),n=o[0],r=o[1];n&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(3)},class_23}(t)))}(s||(s={}));var S=function(e){function EditorOrNativeTextInputCommand(t){var i=e.call(this,t)||this;return i._editorHandler=t.editorHandler,i._inputHandler=t.inputHandler,i}return w(EditorOrNativeTextInputCommand,e),EditorOrNativeTextInputCommand.prototype.runCommand=function(e,t){var i=e.get(u.a).getFocusedCodeEditor();if(i&&i.hasTextFocus())return this._runEditorHandler(e,i,t);var o=document.activeElement;if(!(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)){var n=e.get(u.a).getActiveCodeEditor();return n?(n.focus(),this._runEditorHandler(e,n,t)):void 0}document.execCommand(this._inputHandler)},EditorOrNativeTextInputCommand.prototype._runEditorHandler=function(e,t,i){var o=this._editorHandler;"string"==typeof o?t.trigger("keyboard",o,i):((i=i||{}).source="keyboard",o.runEditorCommand(e,t,i))},EditorOrNativeTextInputCommand}(l.a),D=function(e){function EditorHandlerCommand(t,i,o){var n=e.call(this,{id:t,precondition:void 0,description:o})||this;return n._handlerId=i,n}return w(EditorHandlerCommand,e),EditorHandlerCommand.prototype.runCommand=function(e,t){var i=e.get(u.a).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)},EditorHandlerCommand}(l.a);function registerOverwritableCommand(e,t){registerCommand(new D("default:"+e,e)),registerCommand(new D(e,e,t))}registerCommand(new S({editorHandler:r.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:y.a.textInputFocus,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:{menuId:25,group:"1_basic",title:a.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),registerCommand(new S({editorHandler:v.b.Undo,inputHandler:"undo",id:v.b.Undo,precondition:y.a.writable,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2104},menuOpts:{menuId:17,group:"1_do",title:a.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),registerCommand(new D("default:"+v.b.Undo,v.b.Undo)),registerCommand(new S({editorHandler:v.b.Redo,inputHandler:"redo",id:v.b.Redo,precondition:y.a.writable,kbOpts:{weight:0,kbExpr:y.a.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:{menuId:17,group:"1_do",title:a.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),registerCommand(new D("default:"+v.b.Redo,v.b.Redo)),registerOverwritableCommand(v.b.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),registerOverwritableCommand(v.b.ReplacePreviousChar),registerOverwritableCommand(v.b.CompositionStart),registerOverwritableCommand(v.b.CompositionEnd),registerOverwritableCommand(v.b.Paste),registerOverwritableCommand(v.b.Cut)},"5TxY":function(e,t,i){"use strict";i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return m}));var o=i("D3Dy"),n=i("EffR"),r=i("X+cX"),s=i("MI8n"),a=i("pmY6"),d=i("MNsG"),l=i("N0LK"),u=i("Comh"),c=i("gCVg"),h=i("CjF5"),p=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),f={forceCopyWithSyntaxHighlighting:!1},g=function(){function InMemoryClipboardMetadataManager(){this._lastState=null}return InMemoryClipboardMetadataManager.prototype.set=function(e,t){this._lastState={lastCopiedValue:e,data:t}},InMemoryClipboardMetadataManager.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)},InMemoryClipboardMetadataManager.INSTANCE=new InMemoryClipboardMetadataManager,InMemoryClipboardMetadataManager}(),m=function(e){function TextAreaInput(t,i){var a=e.call(this)||this;a.textArea=i,a._onFocus=a._register(new s.a),a.onFocus=a._onFocus.event,a._onBlur=a._register(new s.a),a.onBlur=a._onBlur.event,a._onKeyDown=a._register(new s.a),a.onKeyDown=a._onKeyDown.event,a._onKeyUp=a._register(new s.a),a.onKeyUp=a._onKeyUp.event,a._onCut=a._register(new s.a),a.onCut=a._onCut.event,a._onPaste=a._register(new s.a),a.onPaste=a._onPaste.event,a._onType=a._register(new s.a),a.onType=a._onType.event,a._onCompositionStart=a._register(new s.a),a.onCompositionStart=a._onCompositionStart.event,a._onCompositionUpdate=a._register(new s.a),a.onCompositionUpdate=a._onCompositionUpdate.event,a._onCompositionEnd=a._register(new s.a),a.onCompositionEnd=a._onCompositionEnd.event,a._onSelectionChangeRequest=a._register(new s.a),a.onSelectionChangeRequest=a._onSelectionChangeRequest.event,a._host=t,a._textArea=a._register(new v(i)),a._asyncTriggerCut=a._register(new r.d((function(){return a._onCut.fire()}),0)),a._textAreaState=u.b.EMPTY,a._selectionChangeListener=null,a.writeScreenReaderContent("ctor"),a._hasFocus=!1,a._isDoingComposition=!1,a._nextCommand=0,a._register(n.o(i.domNode,"keydown",(function(e){!a._isDoingComposition||109!==e.keyCode&&1!==e.keyCode||e.stopPropagation(),e.equals(9)&&e.preventDefault(),a._onKeyDown.fire(e)}))),a._register(n.o(i.domNode,"keyup",(function(e){a._onKeyUp.fire(e)}))),a._register(n.j(i.domNode,"compositionstart",(function(e){a._isDoingComposition||(a._isDoingComposition=!0,o.f||a._setAndWriteTextAreaState("compositionstart",u.b.EMPTY),a._onCompositionStart.fire())})));var deduceInputFromTextAreaValue=function(e){var t=a._textAreaState,i=u.b.readFromTextArea(a._textArea);return[i,u.b.deduceInput(t,i,e)]},deduceComposition=function(e){var t=a._textAreaState,i=u.b.selectedText(e);return[i,{text:i.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},compositionDataInValid=function(e){return!(!o.f||"ja"!==e)||!(!o.i||0!==e.indexOf("zh-Han"))};return a._register(n.j(i.domNode,"compositionupdate",(function(e){if(compositionDataInValid(e.locale)){var t=deduceInputFromTextAreaValue(!1),i=t[0],o=t[1];return a._textAreaState=i,a._onType.fire(o),void a._onCompositionUpdate.fire(e)}var n=deduceComposition(e.data),r=n[0],s=n[1];a._textAreaState=r,a._onType.fire(s),a._onCompositionUpdate.fire(e)}))),a._register(n.j(i.domNode,"compositionend",(function(e){if(a._isDoingComposition){if(compositionDataInValid(e.locale)){var t=deduceInputFromTextAreaValue(!1),i=t[0],n=t[1];a._textAreaState=i,a._onType.fire(n)}else{var r=deduceComposition(e.data);i=r[0],n=r[1];a._textAreaState=i,a._onType.fire(n)}(o.f||o.d)&&(a._textAreaState=u.b.readFromTextArea(a._textArea)),a._isDoingComposition&&(a._isDoingComposition=!1,a._onCompositionEnd.fire())}}))),a._register(n.j(i.domNode,"input",(function(){if(a._textArea.setIgnoreSelectionChangeTime("received input event"),!a._isDoingComposition){var e=deduceInputFromTextAreaValue(d.e),t=e[0],i=e[1];0===i.replaceCharCnt&&1===i.text.length&&l.z(i.text.charCodeAt(0))||(a._textAreaState=t,0===a._nextCommand?""!==i.text&&a._onType.fire(i):(""===i.text&&0===i.replaceCharCnt||a._firePaste(i.text,null),a._nextCommand=0))}}))),a._register(n.j(i.domNode,"cut",(function(e){a._textArea.setIgnoreSelectionChangeTime("received cut event"),a._ensureClipboardGetsEditorSelection(e),a._asyncTriggerCut.schedule()}))),a._register(n.j(i.domNode,"copy",(function(e){a._ensureClipboardGetsEditorSelection(e)}))),a._register(n.j(i.domNode,"paste",(function(e){if(a._textArea.setIgnoreSelectionChangeTime("received paste event"),_.canUseTextData(e)){var t=_.getTextData(e),i=t[0],o=t[1];""!==i&&a._firePaste(i,o)}else a._textArea.getSelectionStart()!==a._textArea.getSelectionEnd()&&a._setAndWriteTextAreaState("paste",u.b.EMPTY),a._nextCommand=1}))),a._register(n.j(i.domNode,"focus",(function(){a._setHasFocus(!0)}))),a._register(n.j(i.domNode,"blur",(function(){a._setHasFocus(!1)}))),a}return p(TextAreaInput,e),TextAreaInput.prototype._installSelectionChangeListener=function(){var e=this,t=0;return n.j(document,"selectionchange",(function(i){if(e._hasFocus&&!e._isDoingComposition&&o.d&&d.h){var n=Date.now(),r=n-t;if(t=n,!(r<5)){var s=n-e._textArea.getIgnoreSelectionChangeTime();if(e._textArea.resetSelectionChangeTime(),!(s<100)&&e._textAreaState.selectionStartPosition&&e._textAreaState.selectionEndPosition){var a=e._textArea.getValue();if(e._textAreaState.value===a){var l=e._textArea.getSelectionStart(),u=e._textArea.getSelectionEnd();if(e._textAreaState.selectionStart!==l||e._textAreaState.selectionEnd!==u){var h=e._textAreaState.deduceEditorPosition(l),p=e._host.deduceModelPosition(h[0],h[1],h[2]),f=e._textAreaState.deduceEditorPosition(u),g=e._host.deduceModelPosition(f[0],f[1],f[2]),m=new c.a(p.lineNumber,p.column,g.lineNumber,g.column);e._onSelectionChangeRequest.fire(m)}}}}}}))},TextAreaInput.prototype.dispose=function(){e.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},TextAreaInput.prototype.focusTextArea=function(){this._setHasFocus(!0),this.refreshFocusState()},TextAreaInput.prototype.isFocused=function(){return this._hasFocus},TextAreaInput.prototype.refreshFocusState=function(){var e=n.E(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):n.M(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)},TextAreaInput.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(o.e?this._setAndWriteTextAreaState("focusgain",u.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},TextAreaInput.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},TextAreaInput.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},TextAreaInput.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getDataToCopy(_.canUseTextData(e)&&h.a.clipboard.richText),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};g.INSTANCE.set(o.h?t.text.replace(/\r\n/g,"\n"):t.text,i),_.canUseTextData(e)?_.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",u.b.selectedText(t.text))},TextAreaInput.prototype._firePaste=function(e,t){t||(t=g.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})},TextAreaInput}(a.a),_=function(){function ClipboardEventUtils(){}return ClipboardEventUtils.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},ClipboardEventUtils.getTextData=function(e){if(e.clipboardData){e.preventDefault();var t=e.clipboardData.getData("text/plain"),i=null,o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{1!==(i=JSON.parse(o)).version&&(i=null)}catch(e){}return[t,i]}if(window.clipboardData)return e.preventDefault(),[t=window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},ClipboardEventUtils.setTextData=function(e,t,i,o){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(o)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},ClipboardEventUtils}(),v=function(e){function TextAreaWrapper(t){var i=e.call(this)||this;return i._actual=t,i._ignoreSelectionChangeTime=0,i}return p(TextAreaWrapper,e),TextAreaWrapper.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()},TextAreaWrapper.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},TextAreaWrapper.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},TextAreaWrapper.prototype.getValue=function(){return this._actual.domNode.value},TextAreaWrapper.prototype.setValue=function(e,t){var i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)},TextAreaWrapper.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},TextAreaWrapper.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},TextAreaWrapper.prototype.setSelectionRange=function(e,t,i){var r=this._actual.domNode,s=n.E(r),a=(s?s.activeElement:document.activeElement)===r,d=r.selectionStart,l=r.selectionEnd;if(a&&d===t&&l===i)o.h&&window.parent!==window&&r.focus();else{if(a)return this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),void(o.h&&window.parent!==window&&r.focus());try{var u=n.V(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),n.T(r,u)}catch(e){}}},TextAreaWrapper}(a.a)},Comh:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var o=i("N0LK"),n=i("cGHE"),r=i("aokT"),s=function(){function TextAreaState(e,t,i,o,n){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=o,this.selectionEndPosition=n}return TextAreaState.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},TextAreaState.readFromTextArea=function(e){return new TextAreaState(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)},TextAreaState.prototype.collapseSelection=function(){return new TextAreaState(this.value,this.value.length,this.value.length,null,null)},TextAreaState.prototype.writeToTextArea=function(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},TextAreaState.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var i=this.value.substring(this.selectionStart,e);if(-1===i.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);var o=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,o,-1)},TextAreaState.prototype._finishDeduceEditorPosition=function(e,t,i){for(var o=0,n=-1;-1!==(n=t.indexOf("\n",n+1));)o++;return[e,i*t.length,o]},TextAreaState.selectedText=function(e){return new TextAreaState(e,0,e.length,null,null)},TextAreaState.deduceInput=function(e,t,i){if(!e)return{text:"",replaceCharCnt:0};var n=e.value,r=e.selectionStart,s=e.selectionEnd,a=t.value,d=t.selectionStart,l=t.selectionEnd,u=n.substring(s),c=a.substring(l),h=o.d(u,c);a=a.substring(0,a.length-h);var p=(n=n.substring(0,n.length-h)).substring(0,r),f=a.substring(0,d),g=o.c(p,f);if(a=a.substring(g),n=n.substring(g),d-=g,r-=g,l-=g,s-=g,i&&d===l&&n.length>0){var m=null;if(d===a.length?o.N(a,n)&&(m=a.substring(n.length)):o.m(a,n)&&(m=a.substring(0,a.length-n.length)),null!==m&&m.length>0&&(/\uFE0F/.test(m)||o.g(m)))return{text:m,replaceCharCnt:0}}return d===l?n===a&&0===r&&s===n.length&&d===a.length&&-1===a.indexOf("\n")&&o.h(a)?{text:"",replaceCharCnt:0}:{text:a,replaceCharCnt:p.length-g}:{text:a,replaceCharCnt:s-r}},TextAreaState.EMPTY=new TextAreaState("",0,0,null,null),TextAreaState}(),a=function(){function PagedScreenReaderStrategy(){}return PagedScreenReaderStrategy._getPageOfLine=function(e,t){return Math.floor((e-1)/t)},PagedScreenReaderStrategy._getRangeForPage=function(e,t){var i=e*t,o=i+1,n=i+t;return new r.a(o,1,n+1,1)},PagedScreenReaderStrategy.fromEditorSelection=function(e,t,i,o,a){var d,l=PagedScreenReaderStrategy._getPageOfLine(i.startLineNumber,o),u=PagedScreenReaderStrategy._getRangeForPage(l,o),c=PagedScreenReaderStrategy._getPageOfLine(i.endLineNumber,o),h=PagedScreenReaderStrategy._getRangeForPage(c,o),p=u.intersectRanges(new r.a(1,1,i.startLineNumber,i.startColumn)),f=t.getValueInRange(p,1),g=t.getLineCount(),m=t.getLineMaxColumn(g),_=h.intersectRanges(new r.a(i.endLineNumber,i.endColumn,g,m)),v=t.getValueInRange(_,1);if(l===c||l+1===c)d=t.getValueInRange(i,1);else{var y=u.intersectRanges(i),C=h.intersectRanges(i);d=t.getValueInRange(y,1)+String.fromCharCode(8230)+t.getValueInRange(C,1)}if(a){var w=500;f.length>w&&(f=f.substring(f.length-w,f.length)),v.length>w&&(v=v.substring(0,w)),d.length>1e3&&(d=d.substring(0,w)+String.fromCharCode(8230)+d.substring(d.length-w,d.length))}return new s(f+d+v,f.length,f.length+d.length,new n.a(i.startLineNumber,i.startColumn),new n.a(i.endLineNumber,i.endColumn))},PagedScreenReaderStrategy}()},HdwC:function(e,t,i){"use strict";i.d(t,"b",(function(){return clearAllFontInfos})),i.d(t,"a",(function(){return m}));var o=i("D3Dy"),n=i("MI8n"),r=i("pmY6"),s=i("MNsG"),a=function(){function CharWidthRequest(e,t){this.chr=e,this.type=t,this.width=0}return CharWidthRequest.prototype.fulfill=function(e){this.width=e},CharWidthRequest}(),d=function(){function DomCharWidthReader(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return DomCharWidthReader.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},DomCharWidthReader.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);var o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",e.appendChild(o);for(var n=[],r=0,s=this._requests;r<s.length;r++){var a=s[r],d=void 0;0===a.type&&(d=t),2===a.type&&(d=i),1===a.type&&(d=o),d.appendChild(document.createElement("br"));var l=document.createElement("span");DomCharWidthReader._render(l,a),d.appendChild(l),n.push(l)}this._container=e,this._testElements=n},DomCharWidthReader._render=function(e,t){if(" "===t.chr){for(var i="&#160;",o=0;o<8;o++)i+=i;e.innerHTML=i}else{var n=t.chr;for(o=0;o<8;o++)n+=n;e.textContent=n}},DomCharWidthReader.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var i=this._requests[e],o=this._testElements[e];i.fulfill(o.offsetWidth/256)}},DomCharWidthReader}();var l=i("o39E"),u=i("iDAx"),c=i("/UlZ"),h=i("+3Gp"),p=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),f=function(){function CSSBasedConfigurationCache(){this._keys=Object.create(null),this._values=Object.create(null)}return CSSBasedConfigurationCache.prototype.has=function(e){var t=e.getId();return!!this._values[t]},CSSBasedConfigurationCache.prototype.get=function(e){var t=e.getId();return this._values[t]},CSSBasedConfigurationCache.prototype.put=function(e,t){var i=e.getId();this._keys[i]=e,this._values[i]=t},CSSBasedConfigurationCache.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},CSSBasedConfigurationCache.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map((function(t){return e._values[t]}))},CSSBasedConfigurationCache}();function clearAllFontInfos(){g.INSTANCE.clearCache()}var g=function(e){function CSSBasedConfiguration(){var t=e.call(this)||this;return t._onDidChange=t._register(new n.a),t.onDidChange=t._onDidChange.event,t._cache=new f,t._evictUntrustedReadingsTimeout=-1,t}return p(CSSBasedConfiguration,e),CSSBasedConfiguration.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},CSSBasedConfiguration.prototype.clearCache=function(){this._cache=new f,this._onDidChange.fire()},CSSBasedConfiguration.prototype._writeToCache=function(e,t){var i=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((function(){i._evictUntrustedReadingsTimeout=-1,i._evictUntrustedReadings()}),5e3))},CSSBasedConfiguration.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,i=0,o=e.length;i<o;i++){var n=e[i];n.isTrusted||(t=!0,this._cache.remove(n))}t&&this._onDidChange.fire()},CSSBasedConfiguration.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var t=CSSBasedConfiguration._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new h.b({zoomLevel:o.c(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)},CSSBasedConfiguration.createRequest=function(e,t,i,o){var n=new a(e,t);return i.push(n),o&&o.push(n),n},CSSBasedConfiguration._actualReadConfiguration=function(e){var t=[],i=[],n=this.createRequest("n",0,t,i),r=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,i),a=this.createRequest("0",0,t,i),l=this.createRequest("1",0,t,i),u=this.createRequest("2",0,t,i),p=this.createRequest("3",0,t,i),f=this.createRequest("4",0,t,i),g=this.createRequest("5",0,t,i),m=this.createRequest("6",0,t,i),_=this.createRequest("7",0,t,i),v=this.createRequest("8",0,t,i),y=this.createRequest("9",0,t,i),C=this.createRequest("→",0,t,i),w=this.createRequest("￫",0,t,null),b=this.createRequest("·",0,t,i);this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),function readCharWidths(e,t){new d(e,t).read()}(e,t);for(var S=Math.max(a.width,l.width,u.width,p.width,f.width,g.width,m.width,_.width,v.width,y.width),D=e.fontFeatureSettings===c.d.OFF,L=i[0].width,E=1,N=i.length;D&&E<N;E++){var O=L-i[E].width;if(O<-.001||O>.001){D=!1;break}}var M=!0;D&&w.width!==L&&(M=!1),w.width>C.width&&(M=!1);var x=o.b()>2e3;return new h.b({zoomLevel:o.c(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:D,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:s.width,middotWidth:b.width,maxDigitWidth:S},x)},CSSBasedConfiguration.INSTANCE=new CSSBasedConfiguration,CSSBasedConfiguration}(r.a),m=function(e){function Configuration(t,i,n,r){void 0===n&&(n=null);var s=e.call(this,t,i)||this;return s.accessibilityService=r,s._elementSizeObserver=s._register(new l.a(n,i.dimension,(function(){return s._onReferenceDomElementSizeChanged()}))),s._register(g.INSTANCE.onDidChange((function(){return s._onCSSBasedConfigurationChanged()}))),s._validatedOptions.get(9)&&s._elementSizeObserver.startObserving(),s._register(o.o((function(e){return s._recomputeOptions()}))),s._register(s.accessibilityService.onDidChangeScreenReaderOptimized((function(){return s._recomputeOptions()}))),s._recomputeOptions(),s}return p(Configuration,e),Configuration.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"},Configuration.applyFontInfo=function(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)},Configuration.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},Configuration.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},Configuration.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},Configuration.prototype.dispose=function(){e.prototype.dispose.call(this)},Configuration.prototype._getExtraEditorClassName=function(){var e="";return o.k||o.n||(e+="no-user-select "),s.e&&(e+="mac "),e},Configuration.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:o.m||o.h,pixelRatio:o.a(),zoomLevel:o.c(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}},Configuration.prototype.readConfiguration=function(e){return g.INSTANCE.readConfiguration(e)},Configuration}(u.a)},NpUS:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var o=i("EffR"),n=i("24hK"),r=i("Q4rV"),s=i("tYmi"),a=i("gslv"),d=i("bY76"),l=i("Vxe3"),u=i("nnTU"),c=i("W9cx"),h=i("fAkz"),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__spreadArrays=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)o[n]=r[s];return o},p=function(){function CommandOpener(e){this._commandService=e}return CommandOpener.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(o){switch(o.label){case 0:if(!Object(c.c)(e,s.b.command))return[2,!1];if("string"==typeof e&&(e=d.a.parse(e)),!u.a.getCommand(e.path))throw new Error("command '"+e.path+"' NOT known");t=[];try{t=Object(r.a)(decodeURIComponent(e.query))}catch(i){try{t=Object(r.a)(e.query)}catch(e){}}return Array.isArray(t)||(t=[t]),[4,(i=this._commandService).executeCommand.apply(i,__spreadArrays([e.path],t))];case 1:return o.sent(),[2,!0]}}))}))},CommandOpener=__decorate([__param(0,u.b)],CommandOpener)}(),f=function(){function EditorOpener(e){this._editorService=e}return EditorOpener.prototype.open=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o;return __generator(this,(function(n){switch(n.label){case 0:return"string"==typeof e&&(e=d.a.parse(e)),i=void 0,(o=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment))&&(i={startLineNumber:parseInt(o[1]),startColumn:o[2]?parseInt(o[2]):1},e=e.with({fragment:""})),e.scheme===s.b.file&&(e=Object(a.g)(e)),[4,this._editorService.openCodeEditor({resource:e,options:{selection:i,context:(null==t?void 0:t.fromUserGesture)?h.a.USER:h.a.API}},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide)];case 1:return n.sent(),[2,!0]}}))}))},EditorOpener=__decorate([__param(0,l.a)],EditorOpener)}(),g=function(){function OpenerService(e,t){var i=this;this._openers=new n.a,this._validators=new n.a,this._resolvers=new n.a,this._externalOpener={openExternal:function(e){return o.ab(e),Promise.resolve(!0)}},this._openers.push({open:function(e,t){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.openExternal)||Object(c.c)(e,s.b.mailto)||Object(c.c)(e,s.b.http)||Object(c.c)(e,s.b.https)?[4,this._doOpenExternal(e,t)]:[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}}))}))}}),this._openers.push(new p(t)),this._openers.push(new f(e))}return OpenerService.prototype.open=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,n,r;return __generator(this,(function(s){switch(s.label){case 0:i=0,o=this._validators.toArray(),s.label=1;case 1:return i<o.length?[4,o[i].shouldOpen(e)]:[3,4];case 2:if(!s.sent())return[2,!1];s.label=3;case 3:return i++,[3,1];case 4:n=0,r=this._openers.toArray(),s.label=5;case 5:return n<r.length?[4,r[n].open(e,t)]:[3,8];case 6:if(s.sent())return[2,!0];s.label=7;case 7:return n++,[3,5];case 8:return[2,!1]}}))}))},OpenerService.prototype.resolveExternalUri=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,n;return __generator(this,(function(r){switch(r.label){case 0:i=0,o=this._resolvers.toArray(),r.label=1;case 1:return i<o.length?[4,o[i].resolveExternalUri(e,t)]:[3,4];case 2:if(n=r.sent())return[2,n];r.label=3;case 3:return i++,[3,1];case 4:return[2,{resolved:e,dispose:function(){}}]}}))}))},OpenerService.prototype._doOpenExternal=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o;return __generator(this,(function(n){switch(n.label){case 0:return i="string"==typeof e?d.a.parse(e):e,[4,this.resolveExternalUri(i,t)];case 1:return o=n.sent().resolved,"string"==typeof e&&i.toString()===o.toString()?[2,this._externalOpener.openExternal(e)]:[2,this._externalOpener.openExternal(encodeURI(o.toString(!0)))]}}))}))},OpenerService.prototype.dispose=function(){this._validators.clear()},OpenerService=__decorate([__param(0,l.a),__param(1,u.b)],OpenerService)}()},SmQN:function(e,t,i){"use strict";i.d(t,"a",(function(){return $}));var o=i("3/fG"),n=i("EffR"),r=i("ZlPH"),s=i("cMOf"),a=i("X+cX"),d=i("MI8n"),l=i("pmY6"),u=i("qj0h"),c=i("HdwC"),h=i("vATl"),p=i("Vxe3"),f=i("nB0o"),g=i("WqXY"),m=i("GJhM"),_=i("8HAY"),v=i("sswD"),y=i("/UlZ"),C=i("4bUh"),w=i("cGHE"),b=i("kYye"),S=i("baJR"),D=i("qNAo"),L=i("T8No"),E=i("MD5Z"),N=i("t9D7"),O=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),M=function(){function DiffEntry(e,t,i,o){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=o}return DiffEntry.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},DiffEntry}(),x=function x(e){this.entries=e},R=function(e){function DiffReview(t){var i=e.call(this)||this;return i._width=0,i._diffEditor=t,i._isVisible=!1,i.shadow=Object(r.b)(document.createElement("div")),i.shadow.setClassName("diff-review-shadow"),i.actionBarContainer=Object(r.b)(document.createElement("div")),i.actionBarContainer.setClassName("diff-review-actions"),i._actionBar=i._register(new g.a(i.actionBarContainer.domNode)),i._actionBar.push(new _.a("diffreview.close",o.a("label.close","Close"),"close-diff-review",!0,(function(){return i.hide(),Promise.resolve(null)})),{label:!1,icon:!0}),i.domNode=Object(r.b)(document.createElement("div")),i.domNode.setClassName("diff-review monaco-editor-background"),i._content=Object(r.b)(document.createElement("div")),i._content.setClassName("diff-review-content"),i.scrollbar=i._register(new m.a(i._content.domNode,{})),i.domNode.domNode.appendChild(i.scrollbar.getDomNode()),i._register(t.onDidUpdateDiff((function(){i._isVisible&&(i._diffs=i._compute(),i._render())}))),i._register(t.getModifiedEditor().onDidChangeCursorPosition((function(){i._isVisible&&i._render()}))),i._register(t.getOriginalEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(t.getModifiedEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(n.o(i.domNode.domNode,"click",(function(e){e.preventDefault();var t=n.x(e.target,"diff-review-row");t&&i._goToRow(t)}))),i._register(n.o(i.domNode.domNode,"keydown",(function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),i._goToRow(i._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),i._goToRow(i._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),i.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),i.accept())}))),i._diffs=[],i._currentDiff=null,i}return O(DiffReview,e),DiffReview.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new w.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new w.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new w.a(e,1)),this._diffEditor.revealPosition(new w.a(e,1),1))},DiffReview.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},DiffReview.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},DiffReview.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},DiffReview.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},DiffReview.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},DiffReview.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},DiffReview.prototype.isVisible=function(){return this._isVisible},DiffReview.prototype.layout=function(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},DiffReview.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?DiffReview._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]},DiffReview._mergeAdjacent=function(e,t,i){if(!e||0===e.length)return[];for(var o=[],n=0,r=0,s=e.length;r<s;r++){var a=e[r],d=a.originalStartLineNumber,l=a.originalEndLineNumber,u=a.modifiedStartLineNumber,c=a.modifiedEndLineNumber,h=[],p=0,f=0===l?d:d-1,g=0===c?u:u-1,m=1,_=1;if(r>0){var v=e[r-1];m=0===v.originalEndLineNumber?v.originalStartLineNumber+1:v.originalEndLineNumber+1,_=0===v.modifiedEndLineNumber?v.modifiedStartLineNumber+1:v.modifiedEndLineNumber+1}var y=f-3+1,C=g-3+1;if(y<m)y+=E=m-y,C+=E;if(C<_)y+=E=_-C,C+=E;h[p++]=new M(y,f,C,g),0!==l&&(h[p++]=new M(d,l,0,0)),0!==c&&(h[p++]=new M(0,0,u,c));var w=0===l?d+1:l+1,b=0===c?u+1:c+1,S=t,D=i;if(r+1<s){var L=e[r+1];S=0===L.originalEndLineNumber?L.originalStartLineNumber:L.originalStartLineNumber-1,D=0===L.modifiedEndLineNumber?L.modifiedStartLineNumber:L.modifiedStartLineNumber-1}var E,N=w+3-1,O=b+3-1;if(N>S)N+=E=S-N,O+=E;if(O>D)N+=E=D-O,O+=E;h[p++]=new M(w,N,b,O),o[n++]=new x(h)}var R=o[0].entries,T=[],W=0;for(r=1,s=o.length;r<s;r++){var A=o[r].entries,I=R[R.length-1],V=A[0];0===I.getType()&&0===V.getType()&&V.originalLineStart<=I.originalLineEnd?(R[R.length-1]=new M(I.originalLineStart,V.originalLineEnd,I.modifiedLineStart,V.modifiedLineEnd),R=R.concat(A.slice(1))):(T[W++]=new x(R),R=A)}return T[W++]=new x(R),T},DiffReview.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,i=0,o=this._diffs.length;i<o;i++){var n=this._diffs[i].entries;if(t<=n[n.length-1].modifiedLineEnd)return i}return 0},DiffReview.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=r.getOptions();if(!this._isVisible||!i||!r)return n.t(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var d=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[d]!==this._currentDiff){this._currentDiff=this._diffs[d];var l=this._diffs[d].entries,u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),c.a.applyFontInfoSlow(u,t.get(34));for(var h=0,p=0,f=0,g=0,m=0,_=l.length;m<_;m++){var v=(M=l[m]).originalLineStart,y=M.originalLineEnd,C=M.modifiedLineStart,w=M.modifiedLineEnd;0!==v&&(0===h||v<h)&&(h=v),0!==y&&(0===p||y>p)&&(p=y),0!==C&&(0===f||C<f)&&(f=C),0!==w&&(0===g||w>g)&&(g=w)}var b=document.createElement("div");b.className="diff-review-row";var S=document.createElement("div");S.className="diff-review-cell diff-review-summary";var D=p-h+1,L=g-f+1;S.appendChild(document.createTextNode(d+1+"/"+this._diffs.length+": @@ -"+h+","+D+" +"+f+","+L+" @@")),b.setAttribute("data-line",String(f));var getAriaLines=function(e){return 0===e?o.a("no_lines","no lines"):1===e?o.a("one_line","1 line"):o.a("more_lines","{0} lines",e)},E=getAriaLines(D),N=getAriaLines(L);b.setAttribute("aria-label",o.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",d+1,this._diffs.length,h,E,f,N)),b.appendChild(S),b.setAttribute("role","listitem"),u.appendChild(b);var O=f;for(m=0,_=l.length;m<_;m++){var M=l[m];DiffReview._renderSection(u,M,O,this._width,e,i,s,t,r,a),0!==M.modifiedLineStart&&(O=M.modifiedLineEnd)}n.t(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}},DiffReview._renderSection=function(e,t,i,n,r,s,a,d,l,u){var c=t.getType(),h="diff-review-row",p="",f="diff-review-spacer";switch(c){case 1:h="diff-review-row line-insert",p=" char-insert",f="diff-review-spacer insert-sign";break;case 2:h="diff-review-row line-delete",p=" char-delete",f="diff-review-spacer delete-sign"}for(var g=t.originalLineStart,m=t.originalLineEnd,_=t.modifiedLineStart,v=t.modifiedLineEnd,y=Math.max(v-_,m-g),C=r.get(107),w=C.glyphMarginWidth+C.lineNumbersWidth,b=d.get(107),S=10+b.glyphMarginWidth+b.lineNumbersWidth,D=0;D<=y;D++){var L=0===g?0:g+D,E=0===_?0:_+D,N=document.createElement("div");N.style.minWidth=n+"px",N.className=h,N.setAttribute("role","listitem"),0!==E&&(i=E),N.setAttribute("data-line",String(i));var O=document.createElement("div");O.className="diff-review-cell",N.appendChild(O);var M=document.createElement("span");M.style.width=w+"px",M.style.minWidth=w+"px",M.className="diff-review-line-number"+p,0!==L?M.appendChild(document.createTextNode(String(L))):M.innerHTML="&#160;",O.appendChild(M);var x=document.createElement("span");x.style.width=S+"px",x.style.minWidth=S+"px",x.style.paddingRight="10px",x.className="diff-review-line-number"+p,0!==E?x.appendChild(document.createTextNode(String(E))):x.innerHTML="&#160;",O.appendChild(x);var R=document.createElement("span");R.className=f,R.innerHTML="&#160;&#160;",O.appendChild(R);var T=void 0;0!==E?(O.insertAdjacentHTML("beforeend",this._renderLine(l,d,u.tabSize,E)),T=l.getLineContent(E)):(O.insertAdjacentHTML("beforeend",this._renderLine(s,r,a.tabSize,L)),T=s.getLineContent(L)),0===T.length&&(T=o.a("blankLine","blank"));var W="";switch(c){case 0:W=o.a("equalLine","original {0}, modified {1}: {2}",L,E,T);break;case 1:W=o.a("insertLine","+ modified {0}: {1}",E,T);break;case 2:W=o.a("deleteLine","- original {0}: {1}",L,T)}N.setAttribute("aria-label",W),e.appendChild(N)}},DiffReview._renderLine=function(e,t,i,o){var n=e.getLineContent(o),r=t.get(34),s=new Uint32Array(2);s[0]=n.length,s[1]=16793600;var a=new C.a(s,n),d=D.d.isBasicASCII(n,e.mightContainNonBasicASCII()),l=D.d.containsRTL(n,d,e.mightContainRTL());return Object(S.e)(new S.c(r.isMonospace&&!t.get(23),r.canUseHalfwidthRightwardsArrow,n,!1,d,l,0,a,[],i,0,r.spaceWidth,r.middotWidth,t.get(88),t.get(74),t.get(69),t.get(35)!==y.d.OFF,null)).html},DiffReview}(l.a);Object(N.e)((function(e,t){var i=e.getColor(b.k);i&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+i+"; }");var o=e.getColor(E.Vb);o&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+o+" 0 -6px 6px -6px inset; }")}));var T=function(e){function DiffReviewNext(){return e.call(this,{id:"editor.action.diffReview.next",label:o.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:L.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return O(DiffReviewNext,e),DiffReviewNext.prototype.run=function(e,t){var i=findFocusedDiffEditor(e);i&&i.diffReviewNext()},DiffReviewNext}(v.b),W=function(e){function DiffReviewPrev(){return e.call(this,{id:"editor.action.diffReview.prev",label:o.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:L.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return O(DiffReviewPrev,e),DiffReviewPrev.prototype.run=function(e,t){var i=findFocusedDiffEditor(e);i&&i.diffReviewPrev()},DiffReviewPrev}(v.b);function findFocusedDiffEditor(e){for(var t=e.get(p.a).listDiffEditors(),i=0,o=t.length;i<o;i++){var n=t[i];if(n.hasWidgetFocus())return n}return null}Object(v.f)(T),Object(v.f)(W);var A=i("aokT"),I=i("erNZ"),V=i("iuje"),P=i("tX9W"),H=i("pAvP"),F=i("MvK1"),k=i("dBaI"),B=i("Cg/j"),j=i("8HsV"),z=i("sM1p"),U=i("Uzvx"),Z=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},K=function(e){function InlineDiffMargin(t,i,r,s,a,d){var l=e.call(this)||this;l._viewZoneId=t,l._marginDomNode=i,l.editor=r,l.diff=s,l._contextMenuService=a,l._clipboardService=d,l._visibility=!1,l._marginDomNode.style.zIndex="10",l._diffActions=document.createElement("div"),l._diffActions.className="codicon codicon-lightbulb lightbulb-glyph",l._diffActions.style.position="absolute";var u=r.getOption(49),c=r.getModel().getEOL();l._diffActions.style.right="0px",l._diffActions.style.visibility="hidden",l._diffActions.style.height=u+"px",l._diffActions.style.lineHeight=u+"px",l._marginDomNode.appendChild(l._diffActions);var h=[];h.push(new _.a("diff.clipboard.copyDeletedContent",s.originalEndLineNumber>s.modifiedStartLineNumber?o.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):o.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent.join(c)+c)];case 1:return e.sent(),[2]}}))}))})));var p=0,f=void 0;s.originalEndLineNumber>s.modifiedStartLineNumber&&(f=new _.a("diff.clipboard.copyDeletedLineContent",o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent[p])];case 1:return e.sent(),[2]}}))}))})),h.push(f)),r.getOption(68)||h.push(new _.a("diff.inline.revertChange",o.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){var e;return __generator(this,(function(t){return 0===s.modifiedEndLineNumber?(e=r.getModel().getLineMaxColumn(s.modifiedStartLineNumber),r.executeEdits("diffEditor",[{range:new A.a(s.modifiedStartLineNumber,e,s.modifiedStartLineNumber,e),text:c+s.originalContent.join(c)}])):(e=r.getModel().getLineMaxColumn(s.modifiedEndLineNumber),r.executeEdits("diffEditor",[{range:new A.a(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,e),text:s.originalContent.join(c)}])),[2]}))}))})));var showContextMenu=function(e,t){l._contextMenuService.showContextMenu({getAnchor:function(){return{x:e,y:t}},getActions:function(){return f&&(f.label=o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber+p)),h},autoSelectFirstItem:!0})};return l._register(n.o(l._diffActions,"mousedown",(function(e){var t=n.C(l._diffActions),i=t.top,o=t.height,r=Math.floor(u/3);e.preventDefault(),showContextMenu(e.posx,i+o+r)}))),l._register(r.onMouseMove((function(e){8===e.target.type||5===e.target.type?e.target.detail.viewZoneId===l._viewZoneId?(l.visibility=!0,p=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u)):l.visibility=!1:l.visibility=!1}))),l._register(r.onMouseDown((function(e){e.event.rightButton&&(8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId===l._viewZoneId&&(e.event.preventDefault(),p=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u),showContextMenu(e.event.posx,e.event.posy+u)))}))),l}return Z(InlineDiffMargin,e),Object.defineProperty(InlineDiffMargin.prototype,"visibility",{get:function(){return this._visibility},set:function(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")},enumerable:!0,configurable:!0}),InlineDiffMargin.prototype._updateLightBulbPosition=function(e,t,i){var o=t-n.C(e).top,r=Math.floor(o/i),s=r*i;return this._diffActions.style.top=s+"px",r},InlineDiffMargin}(l.a),q=i("/cxE"),G=i("tTk5"),Y=i("o39E"),X=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},J=function(){function VisualEditorState(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return VisualEditorState.prototype.getForeignViewZones=function(e){var t=this;return e.filter((function(e){return!t._zonesMap[String(e.id)]}))},VisualEditorState.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones((function(e){for(var i=0,o=t._zones.length;i<o;i++)e.removeZone(t._zones[i])})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},VisualEditorState.prototype.apply=function(e,t,i,o){var n=this,r=o?h.c.capture(e):null;e.changeViewZones((function(t){for(var o=0,r=n._zones.length;o<r;o++)t.removeZone(n._zones[o]);o=0;for(var s=n.inlineDiffMargins.length;o<s;o++)n.inlineDiffMargins[o].dispose();n._zones=[],n._zonesMap={},n.inlineDiffMargins=[];o=0;for(var a=i.zones.length;o<a;o++){var d=i.zones[o];d.suppressMouseDown=!0;var l=t.addZone(d);n._zones.push(l),n._zonesMap[String(l)]=!0,i.zones[o].diff&&d.marginDomNode&&n._clipboardService&&(d.suppressMouseDown=!1,n.inlineDiffMargins.push(new K(l,d.marginDomNode,e,i.zones[o].diff,n._contextMenuService,n._clipboardService)))}})),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)},VisualEditorState}(),Q=0,$=function(e){function DiffEditorWidget(t,i,o,s,l,u,c,h,p,f,g){var m=e.call(this)||this;m._editorProgressService=g,m._onDidDispose=m._register(new d.a),m.onDidDispose=m._onDidDispose.event,m._onDidUpdateDiff=m._register(new d.a),m.onDidUpdateDiff=m._onDidUpdateDiff.event,m._lastOriginalWarning=null,m._lastModifiedWarning=null,m._editorWorkerService=s,m._codeEditorService=c,m._contextKeyService=m._register(l.createScoped(t)),m._contextKeyService.createKey("isInDiffEditor",!0),m._themeService=h,m._notificationService=p,m.id=++Q,m._state=0,m._updatingDiffProgress=null,m._domElement=t,i=i||{},m._renderSideBySide=!0,void 0!==i.renderSideBySide&&(m._renderSideBySide=i.renderSideBySide),m._maxComputationTime=5e3,void 0!==i.maxComputationTime&&(m._maxComputationTime=i.maxComputationTime),m._ignoreTrimWhitespace=!0,void 0!==i.ignoreTrimWhitespace&&(m._ignoreTrimWhitespace=i.ignoreTrimWhitespace),m._renderIndicators=!0,void 0!==i.renderIndicators&&(m._renderIndicators=i.renderIndicators),m._originalIsEditable=!1,void 0!==i.originalEditable&&(m._originalIsEditable=Boolean(i.originalEditable)),m._updateDecorationsRunner=m._register(new a.d((function(){return m._updateDecorations()}),0)),m._containerDomElement=document.createElement("div"),m._containerDomElement.className=DiffEditorWidget._getClassName(m._themeService.getTheme(),m._renderSideBySide),m._containerDomElement.style.position="relative",m._containerDomElement.style.height="100%",m._domElement.appendChild(m._containerDomElement),m._overviewViewportDomElement=Object(r.b)(document.createElement("div")),m._overviewViewportDomElement.setClassName("diffViewport"),m._overviewViewportDomElement.setPosition("absolute"),m._overviewDomElement=document.createElement("div"),m._overviewDomElement.className="diffOverview",m._overviewDomElement.style.position="absolute",m._overviewDomElement.appendChild(m._overviewViewportDomElement.domNode),m._register(n.o(m._overviewDomElement,"mousedown",(function(e){m.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),m._containerDomElement.appendChild(m._overviewDomElement),m._originalDomNode=document.createElement("div"),m._originalDomNode.className="editor original",m._originalDomNode.style.position="absolute",m._originalDomNode.style.height="100%",m._containerDomElement.appendChild(m._originalDomNode),m._modifiedDomNode=document.createElement("div"),m._modifiedDomNode.className="editor modified",m._modifiedDomNode.style.position="absolute",m._modifiedDomNode.style.height="100%",m._containerDomElement.appendChild(m._modifiedDomNode),m._beginUpdateDecorationsTimeout=-1,m._currentlyChangingViewZones=!1,m._diffComputationToken=0,m._originalEditorState=new J(f,o),m._modifiedEditorState=new J(f,o),m._isVisible=!0,m._isHandlingScrollEvent=!1,m._elementSizeObserver=m._register(new Y.a(m._containerDomElement,void 0,(function(){return m._onDidContainerSizeChanged()}))),i.automaticLayout&&m._elementSizeObserver.startObserving(),m._diffComputationResult=null;var _=m._contextKeyService.createScoped();_.createKey("isInDiffLeftEditor",!0);var y=new j.a;y.set(L.c,_);var C=u.createChild(y),w=m._contextKeyService.createScoped();w.createKey("isInDiffRightEditor",!0);var b=new j.a;b.set(L.c,w);var S=u.createChild(b);m.originalEditor=m._createLeftHandSideEditor(i,C),m.modifiedEditor=m._createRightHandSideEditor(i,S),m._originalOverviewRuler=null,m._modifiedOverviewRuler=null,m._reviewPane=new R(m),m._containerDomElement.appendChild(m._reviewPane.domNode.domNode),m._containerDomElement.appendChild(m._reviewPane.shadow.domNode),m._containerDomElement.appendChild(m._reviewPane.actionBarContainer.domNode),m._enableSplitViewResizing=!0,void 0!==i.enableSplitViewResizing&&(m._enableSplitViewResizing=i.enableSplitViewResizing),m._renderSideBySide?m._setStrategy(new ne(m._createDataSource(),m._enableSplitViewResizing)):m._setStrategy(new se(m._createDataSource(),m._enableSplitViewResizing)),m._register(h.onThemeChange((function(e){m._strategy&&m._strategy.applyColors(e)&&m._updateDecorationsRunner.schedule(),m._containerDomElement.className=DiffEditorWidget._getClassName(m._themeService.getTheme(),m._renderSideBySide)})));for(var D=0,E=v.d.getDiffEditorContributions();D<E.length;D++){var N=E[D];try{m._register(u.createInstance(N.ctor,m))}catch(e){Object(q.e)(e)}}return m._codeEditorService.addDiffEditor(m),m}return X(DiffEditorWidget,e),DiffEditorWidget.prototype._setState=function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},DiffEditorWidget.prototype.hasWidgetFocus=function(){return n.K(document.activeElement,this._domElement)},DiffEditorWidget.prototype.diffReviewNext=function(){this._reviewPane.next()},DiffEditorWidget.prototype.diffReviewPrev=function(){this._reviewPane.prev()},DiffEditorWidget._getClassName=function(e,t){var i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Object(N.d)(e.type)},DiffEditorWidget.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},DiffEditorWidget.prototype._createLeftHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),o},DiffEditorWidget.prototype._createRightHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o.getModel()&&i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),this._register(o.onDidChangeModelOptions((function(e){e.tabSize&&i._updateDecorationsRunner.schedule()}))),o},DiffEditorWidget.prototype._createInnerEditor=function(e,t,i){return e.createInstance(f.a,t,i,{})},DiffEditorWidget.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},DiffEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this.id},DiffEditorWidget.prototype.getEditorType=function(){return V.a.IDiffEditor},DiffEditorWidget.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},DiffEditorWidget.prototype.getOriginalEditor=function(){return this.originalEditor},DiffEditorWidget.prototype.getModifiedEditor=function(){return this.modifiedEditor},DiffEditorWidget.prototype.updateOptions=function(e){var t=!1;void 0!==e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,t=!0),void 0!==e.maxComputationTime&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var i=!1;void 0!==e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),void 0!==e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),void 0!==e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),void 0!==e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),t&&(this._renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new se(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getTheme(),this._renderSideBySide))},DiffEditorWidget.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},DiffEditorWidget.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},DiffEditorWidget.prototype.getDomNode=function(){return this._domElement},DiffEditorWidget.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},DiffEditorWidget.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},DiffEditorWidget.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},DiffEditorWidget.prototype.revealLine=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLine(e,t)},DiffEditorWidget.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenter(e,t)},DiffEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPosition(e,t)},DiffEditorWidget.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenter(e,t)},DiffEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},DiffEditorWidget.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},DiffEditorWidget.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},DiffEditorWidget.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},DiffEditorWidget.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLines(e,t,i)},DiffEditorWidget.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenter(e,t,i)},DiffEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)},DiffEditorWidget.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this.modifiedEditor.revealRange(e,t,i,o)},DiffEditorWidget.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenter(e,t)},DiffEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeAtTop(e,t)},DiffEditorWidget.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},DiffEditorWidget.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},DiffEditorWidget.prototype.restoreViewState=function(e){if(e.original&&e.modified){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},DiffEditorWidget.prototype.layout=function(e){this._elementSizeObserver.observe(e)},DiffEditorWidget.prototype.focus=function(){this.modifiedEditor.focus()},DiffEditorWidget.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},DiffEditorWidget.prototype.trigger=function(e,t,i){this.modifiedEditor.trigger(e,t,i)},DiffEditorWidget.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},DiffEditorWidget.prototype._onDidContainerSizeChanged=function(){this._doLayout()},DiffEditorWidget.prototype._getReviewHeight=function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0},DiffEditorWidget.prototype._layoutOverviewRulers=function(){if(this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH-2*DiffEditorWidget.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,right:i+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:e-t}))}},DiffEditorWidget.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},DiffEditorWidget.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((function(){return e._beginUpdateDecorations()}),DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY)},DiffEditorWidget._equals=function(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()},DiffEditorWidget.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var t=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(t&&i){this._diffComputationToken++;var n=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,i.uri)?this._editorWorkerService.computeDiff(t.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((function(o){n===e._diffComputationToken&&t===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=o,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())}),(function(o){n===e._diffComputationToken&&t===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=null,e._updateDecorationsRunner.schedule())})):DiffEditorWidget._equals(t.uri,this._lastOriginalWarning)&&DiffEditorWidget._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.a("diff.tooLarge","Cannot compare files because one file is too large.")))}},DiffEditorWidget.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},DiffEditorWidget.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},DiffEditorWidget.prototype._adjustOptionsForSubEditor=function(e){var t=u.c(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},DiffEditorWidget.prototype._adjustOptionsForLeftHandSide=function(e,t){var i=this._adjustOptionsForSubEditor(e);return i.readOnly=!t,i.extraEditorClassName="original-in-monaco-diff-editor",i},DiffEditorWidget.prototype._adjustOptionsForRightHandSide=function(e){var t=this._adjustOptionsForSubEditor(e);return t.revealHorizontalRightPadding=y.e.revealHorizontalRightPadding.defaultValue+DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t},DiffEditorWidget.prototype.doLayout=function(){this._elementSizeObserver.observe(),this._doLayout()},DiffEditorWidget.prototype._doLayout=function(){var e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:o,height:t-i}),this.modifiedEditor.layout({width:e-o-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()},DiffEditorWidget.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},DiffEditorWidget.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.height),n=Math.max(0,o-0),r=i>0?n/i:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}},DiffEditorWidget.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._elementSizeObserver.getWidth()},getHeight:function(){return e._elementSizeObserver.getHeight()-e._getReviewHeight()},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},DiffEditorWidget.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()},DiffEditorWidget.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;for(var o=0,n=i.length-1;o<n;){var r=Math.floor((o+n)/2),s=t(i[r]),a=r+1<=n?t(i[r+1]):1073741824;e<s?n=r-1:e>=a?o=r+1:(o=r,n=r)}return i[o]},DiffEditorWidget.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.originalStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=n?o+Math.min(s,r):o+r-n+s},DiffEditorWidget.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.modifiedStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-o;return s<=r?i+Math.min(s,n):i+n-r+s},DiffEditorWidget.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},DiffEditorWidget.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},DiffEditorWidget.ONE_OVERVIEW_WIDTH=15,DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH=30,DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY=200,DiffEditorWidget=__decorate([__param(3,H.a),__param(4,L.c),__param(5,B.a),__param(6,p.a),__param(7,N.c),__param(8,z.a),__param(9,U.a),__param(10,G.a)],DiffEditorWidget)}(l.a),ee=function(e){function DiffEditorWidgetStyle(t){var i=e.call(this)||this;return i._dataSource=t,i._insertColor=null,i._removeColor=null,i}return X(DiffEditorWidgetStyle,e),DiffEditorWidgetStyle.prototype.applyColors=function(e){var t=(e.getColor(E.j)||E.g).transparent(2),i=(e.getColor(E.l)||E.h).transparent(2),o=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,o},DiffEditorWidgetStyle.prototype.getEditorsDiffDecorations=function(e,t,i,o,n,r,s){n=n.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber})),o=o.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber}));var a=this._getViewZones(e,o,n,r,s,i),d=this._getOriginalEditorDecorations(e,t,i,r,s),l=this._getModifiedEditorDecorations(e,t,i,r,s);return{original:{decorations:d.decorations,overviewZones:d.overviewZones,zones:a.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.modified}}},DiffEditorWidgetStyle}(l.a),te=function(){function ForeignViewZonesIterator(e){this._source=e,this._index=-1,this.current=null,this.advance()}return ForeignViewZonesIterator.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},ForeignViewZonesIterator}(),ie=function(){function ViewZonesComputer(e,t,i,o,n){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=i,this.modifiedForeignVZ=o,this.modifiedLineHeight=n}return ViewZonesComputer.prototype.getViewZones=function(){for(var e=[],t=[],i=0,o=0,n=0,r=0,s=0,a=0,sortMyViewZones=function(e,t){return e.afterLineNumber-t.afterLineNumber},addAndCombineIfPossible=function(e,t){if(null===t.domNode&&e.length>0){var i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},d=new te(this.modifiedForeignVZ),l=new te(this.originalForeignVZ),u=0,c=this.lineChanges.length;u<=c;u++){var h=u<c?this.lineChanges[u]:null;null!==h?(n=h.originalStartLineNumber+(h.originalEndLineNumber>0?-1:0),r=h.modifiedStartLineNumber+(h.modifiedEndLineNumber>0?-1:0),o=h.originalEndLineNumber>0?h.originalEndLineNumber-h.originalStartLineNumber+1:0,i=h.modifiedEndLineNumber>0?h.modifiedEndLineNumber-h.modifiedStartLineNumber+1:0,s=Math.max(h.originalStartLineNumber,h.originalEndLineNumber),a=Math.max(h.modifiedStartLineNumber,h.modifiedEndLineNumber)):(s=n+=1e7+o,a=r+=1e7+i);for(var p,f=[],g=[];d.current&&d.current.afterLineNumber<=a;){var m=void 0;m=d.current.afterLineNumber<=r?n-r+d.current.afterLineNumber:s;var _=null;h&&h.modifiedStartLineNumber<=d.current.afterLineNumber&&d.current.afterLineNumber<=h.modifiedEndLineNumber&&(_=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),f.push({afterLineNumber:m,heightInLines:d.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:_}),d.advance()}for(;l.current&&l.current.afterLineNumber<=s;){m=void 0;m=l.current.afterLineNumber<=n?r-n+l.current.afterLineNumber:a,g.push({afterLineNumber:m,heightInLines:l.current.height/this.originalLineHeight,domNode:null}),l.advance()}if(null!==h&&isChangeOrInsert(h))(p=this._produceOriginalFromDiff(h,o,i))&&f.push(p);if(null!==h&&isChangeOrDelete(h))(p=this._produceModifiedFromDiff(h,o,i))&&g.push(p);var v=0,y=0;for(f=f.sort(sortMyViewZones),g=g.sort(sortMyViewZones);v<f.length&&y<g.length;){var C=f[v],w=g[y],b=C.afterLineNumber-n,S=w.afterLineNumber-r;b<S?(addAndCombineIfPossible(e,C),v++):S<b?(addAndCombineIfPossible(t,w),y++):C.shouldNotShrink?(addAndCombineIfPossible(e,C),v++):w.shouldNotShrink?(addAndCombineIfPossible(t,w),y++):C.heightInLines>=w.heightInLines?(C.heightInLines-=w.heightInLines,y++):(w.heightInLines-=C.heightInLines,v++)}for(;v<f.length;)addAndCombineIfPossible(e,f[v]),v++;for(;y<g.length;)addAndCombineIfPossible(t,g[y]),y++}return{original:ViewZonesComputer._ensureDomNodes(e),modified:ViewZonesComputer._ensureDomNodes(t)}},ViewZonesComputer._ensureDomNodes=function(e){return e.map((function(e){return e.domNode||(e.domNode=function createFakeLinesDiv(){var e=document.createElement("div");return e.className="diagonal-fill",e}()),e}))},ViewZonesComputer}();function createDecoration(e,t,i,o,n){return{range:new A.a(e,t,i,o),options:n}}var oe={charDelete:P.a.register({className:"char-delete"}),charDeleteWholeLine:P.a.register({className:"char-delete",isWholeLine:!0}),charInsert:P.a.register({className:"char-insert"}),charInsertWholeLine:P.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:P.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:P.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign codicon codicon-add",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:P.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:P.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign codicon codicon-remove",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:P.a.register({marginClassName:"line-delete"})},ne=function(e){function DiffEditorWidgetSideBySide(t,i){var o=e.call(this,t)||this;return o._disableSash=!1===i,o._sashRatio=null,o._sashPosition=null,o._startSashPosition=null,o._sash=o._register(new s.a(o._dataSource.getContainerDomNode(),o)),o._disableSash&&(o._sash.state=0),o._sash.onDidStart((function(){return o.onSashDragStart()})),o._sash.onDidChange((function(e){return o.onSashDrag(e)})),o._sash.onDidEnd((function(){return o.onSashDragEnd()})),o._sash.onDidReset((function(){return o.onSashReset()})),o}return X(DiffEditorWidgetSideBySide,e),DiffEditorWidgetSideBySide.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)},DiffEditorWidgetSideBySide.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var t=this._dataSource.getWidth()-$.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*t),o=Math.floor(.5*t);return i=this._disableSash?o:i||o,t>2*DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH?(i<DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(i=DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH),i>t-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(i=t-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH)):i=o,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth()-$.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()},DiffEditorWidgetSideBySide.prototype.onSashDragEnd=function(){this._sash.layout()},DiffEditorWidgetSideBySide.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},DiffEditorWidgetSideBySide.prototype.getVerticalSashTop=function(e){return 0},DiffEditorWidgetSideBySide.prototype.getVerticalSashLeft=function(e){return this._sashPosition},DiffEditorWidgetSideBySide.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},DiffEditorWidgetSideBySide.prototype._getViewZones=function(e,t,i,o,n){return new re(e,t,o.getOption(49),i,n.getOption(49)).getViewZones()},DiffEditorWidgetSideBySide.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=o.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrDelete(u)&&(s.decorations.push({range:new A.a(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:i?oe.lineDeleteWithSign:oe.lineDelete}),isChangeOrInsert(u)&&u.charChanges||s.decorations.push(createDecoration(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,oe.charDeleteWholeLine)),s.overviewZones.push(new F.a(u.originalStartLineNumber,u.originalEndLineNumber,r)),u.charChanges))for(var c=0,h=u.charChanges.length;c<h;c++){var p=u.charChanges[c];if(isChangeOrDelete(p))if(t)for(var f=p.originalStartLineNumber;f<=p.originalEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.originalStartLineNumber?p.originalStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.originalEndLineNumber?p.originalEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(createDecoration(f,g,f,m,oe.charDelete))}else s.decorations.push(createDecoration(p.originalStartLineNumber,p.originalStartColumn,p.originalEndLineNumber,p.originalEndColumn,oe.charDelete))}}return s},DiffEditorWidgetSideBySide.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrInsert(u)&&(s.decorations.push({range:new A.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?oe.lineInsertWithSign:oe.lineInsert}),isChangeOrDelete(u)&&u.charChanges||s.decorations.push(createDecoration(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine)),s.overviewZones.push(new F.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges))for(var c=0,h=u.charChanges.length;c<h;c++){var p=u.charChanges[c];if(isChangeOrInsert(p))if(t)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(createDecoration(f,g,f,m,oe.charInsert))}else s.decorations.push(createDecoration(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,oe.charInsert))}}return s},DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH=100,DiffEditorWidgetSideBySide}(ee),re=function(e){function SideBySideViewZonesComputer(t,i,o,n,r){return e.call(this,t,i,o,n,r)||this}return X(SideBySideViewZonesComputer,e),SideBySideViewZonesComputer.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},SideBySideViewZonesComputer.prototype._produceOriginalFromDiff=function(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null},SideBySideViewZonesComputer.prototype._produceModifiedFromDiff=function(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null},SideBySideViewZonesComputer}(ie),se=function(e){function DiffEditorWidgetInline(t,i){var o=e.call(this,t)||this;return o.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(t.getOriginalEditor().onDidLayoutChange((function(e){o.decorationsLeft!==e.decorationsLeft&&(o.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))),o}return X(DiffEditorWidgetInline,e),DiffEditorWidgetInline.prototype.setEnableSplitViewResizing=function(e){},DiffEditorWidgetInline.prototype._getViewZones=function(e,t,i,o,n,r){return new ae(e,t,i,o,n,r).getViewZones()},DiffEditorWidgetInline.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=0,d=e.length;a<d;a++){var l=e[a];isChangeOrDelete(l)&&(s.decorations.push({range:new A.a(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:oe.lineDeleteMargin}),s.overviewZones.push(new F.a(l.originalStartLineNumber,l.originalEndLineNumber,r)))}return s},DiffEditorWidgetInline.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrInsert(u))if(s.decorations.push({range:new A.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?oe.lineInsertWithSign:oe.lineInsert}),s.overviewZones.push(new F.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges)for(var c=0,h=u.charChanges.length;c<h;c++){var p=u.charChanges[c];if(isChangeOrInsert(p))if(t)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(createDecoration(f,g,f,m,oe.charInsert))}else s.decorations.push(createDecoration(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,oe.charInsert))}else s.decorations.push(createDecoration(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine))}return s},DiffEditorWidgetInline.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},DiffEditorWidgetInline}(ee),ae=function(e){function InlineViewZonesComputer(t,i,o,n,r,s){var a=e.call(this,t,i,n.getOption(49),o,r.getOption(49))||this;return a.originalModel=n.getModel(),a.modifiedEditorOptions=r.getOptions(),a.modifiedEditorTabSize=r.getModel().getOptions().tabSize,a.renderIndicators=s,a}return X(InlineViewZonesComputer,e),InlineViewZonesComputer.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e},InlineViewZonesComputer.prototype._produceOriginalFromDiff=function(e,t,i){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:o}},InlineViewZonesComputer.prototype._produceModifiedFromDiff=function(e,t,i){var o=[];if(e.charChanges)for(var n=0,r=e.charChanges.length;n<r;n++){var s=e.charChanges[n];isChangeOrDelete(s)&&o.push(new D.a(new A.a(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}for(var a=Object(I.a)(1e4),d=[],l=this.modifiedEditorOptions.get(107),u=this.modifiedEditorOptions.get(34),h=l.decorationsWidth,p=this.modifiedEditorOptions.get(49),f=u.typicalHalfwidthCharacterWidth,g=0,m=[],_=e.originalStartLineNumber;_<=e.originalEndLineNumber;_++)if(g=Math.max(g,this._renderOriginalLine(_-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,_,o,a)),m.push(this.originalModel.getLineContent(_)),this.renderIndicators){var v=_-e.originalStartLineNumber;d=d.concat(['<div class="delete-sign codicon codicon-remove" style="position:absolute;top:'+v*p+"px;width:"+h+"px;height:"+p+'px;right:0;"></div>'])}g+=this.modifiedEditorOptions.get(79);var y=document.createElement("div");y.className="view-lines line-delete",y.innerHTML=a.build(),c.a.applyFontInfoSlow(y,u);var C=document.createElement("div");return C.className="inline-deleted-margin-view-zone",C.innerHTML=d.join(""),c.a.applyFontInfoSlow(C,u),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:g*f,domNode:y,marginDomNode:C,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:m}}},InlineViewZonesComputer.prototype._renderOriginalLine=function(e,t,i,o,n,r,s){var a=t.getLineTokens(n),d=a.getLineContent(),l=i.get(34),u=k.a.filter(r,n,1,d.length+1);s.appendASCIIString('<div class="view-line'),0===r.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(e*i.get(49))),s.appendASCIIString('px;width:1000000px;">');var c=D.d.isBasicASCII(d,t.mightContainNonBasicASCII()),h=D.d.containsRTL(d,c,t.mightContainRTL()),p=Object(S.d)(new S.c(l.isMonospace&&!i.get(23),l.canUseHalfwidthRightwardsArrow,d,!1,c,h,0,a,u,o,0,l.spaceWidth,l.middotWidth,i.get(88),i.get(74),i.get(69),i.get(35)!==y.d.OFF,null),s);s.appendASCIIString("</div>");var f=p.characterMapping.getAbsoluteOffsets();return f.length>0?f[f.length-1]:0},InlineViewZonesComputer}(ie);function isChangeOrInsert(e){return e.modifiedEndLineNumber>0}function isChangeOrDelete(e){return e.originalEndLineNumber>0}Object(N.e)((function(e,t){var i=e.getColor(E.j);i&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+i+"; }"));var o=e.getColor(E.l);o&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+o+"; }"));var n=e.getColor(E.k);n&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+n+"; }");var r=e.getColor(E.m);r&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var s=e.getColor(E.Vb);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=e.getColor(E.i);a&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")}))},Vxe3:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var o=i("Cg/j"),n=Object(o.c)("codeEditorService")},nB0o:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ai}));var o=i("3/fG"),n=i("EffR"),r=i("/cxE"),s=i("MI8n"),a=i("pmY6"),d=i("tYmi"),l=i("HdwC"),u=i("sswD"),c=i("Vxe3"),h=i("ZlPH"),p=i("MNsG"),f=i("pg8w"),g=i("D3Dy"),m=i("XSiN"),_=i("X+cX"),v=i("AKMP"),y=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),C=function(){function PageCoordinates(e,t){this.x=e,this.y=t}return PageCoordinates.prototype.toClientCoordinates=function(){return new w(this.x-n.e.scrollX,this.y-n.e.scrollY)},PageCoordinates}(),w=function(){function ClientCoordinates(e,t){this.clientX=e,this.clientY=t}return ClientCoordinates.prototype.toPageCoordinates=function(){return new C(this.clientX+n.e.scrollX,this.clientY+n.e.scrollY)},ClientCoordinates}(),b=function b(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o};function createEditorPagePosition(e){var t=n.C(e);return new b(t.left,t.top,t.width,t.height)}var S=function(e){function EditorMouseEvent(t,i){var o=e.call(this,t)||this;return o.pos=new C(o.posx,o.posy),o.editorPos=createEditorPagePosition(i),o}return y(EditorMouseEvent,e),EditorMouseEvent}(m.b),D=function(){function EditorMouseEventFactory(e){this._editorViewDomNode=e}return EditorMouseEventFactory.prototype._create=function(e){return new S(e,this._editorViewDomNode)},EditorMouseEventFactory.prototype.onContextMenu=function(e,t){var i=this;return n.j(e,"contextmenu",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseUp=function(e,t){var i=this;return n.j(e,"mouseup",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseDown=function(e,t){var i=this;return n.j(e,"mousedown",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseLeave=function(e,t){var i=this;return n.k(e,(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseMoveThrottled=function(e,t,i,o){var r=this;return n.m(e,"mousemove",t,(function(e,t){return i(e,r._create(t))}),o)},EditorMouseEventFactory}(),L=function(){function EditorPointerEventFactory(e){this._editorViewDomNode=e}return EditorPointerEventFactory.prototype._create=function(e){return new S(e,this._editorViewDomNode)},EditorPointerEventFactory.prototype.onPointerUp=function(e,t){var i=this;return n.j(e,"pointerup",(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerDown=function(e,t){var i=this;return n.j(e,"pointerdown",(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerLeave=function(e,t){var i=this;return n.l(e,(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerMoveThrottled=function(e,t,i,o){var r=this;return n.m(e,"pointermove",t,(function(e,t){return i(e,r._create(t))}),o)},EditorPointerEventFactory}(),E=function(e){function GlobalEditorMouseMoveMonitor(t){var i=e.call(this)||this;return i._editorViewDomNode=t,i._globalMouseMoveMonitor=i._register(new v.a),i._keydownListener=null,i}return y(GlobalEditorMouseMoveMonitor,e),GlobalEditorMouseMoveMonitor.prototype.startMonitoring=function(e,t,i,o,r){var s=this;this._keydownListener=n.o(document,"keydown",(function(e){e.toKeybinding().isModifierKey()||s._globalMouseMoveMonitor.stopMonitoring(!0)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,(function(e,t){return i(e,new S(t,s._editorViewDomNode))}),o,(function(){s._keydownListener.dispose(),r()}))},GlobalEditorMouseMoveMonitor}(a.a),N=i("4tyL"),O=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),M=function(e){function ViewPart(t){var i=e.call(this)||this;return i._context=t,i._context.addEventHandler(i),i}return O(ViewPart,e),ViewPart.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},ViewPart}(N.a),x=function(){function PartFingerprints(){}return PartFingerprints.write=function(e,t){h.a,e.setAttribute("data-mprt",String(t))},PartFingerprints.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},PartFingerprints.collect=function(e,t){for(var i=[],o=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[o++]=this.read(e)),e=e.parentElement;for(var n=new Uint8Array(o),r=0;r<o;r++)n[r]=i[o-r-1];return n},PartFingerprints}(),R=i("oh/0"),T=function(){function FloatHorizontalRange(e,t){this.left=e,this.width=t}return FloatHorizontalRange.prototype.toString=function(){return"["+this.left+","+this.width+"]"},FloatHorizontalRange.compare=function(e,t){return e.left-t.left},FloatHorizontalRange}(),W=function(){function RangeUtil(){}return RangeUtil._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},RangeUtil._detachRange=function(e,t){e.selectNodeContents(t)},RangeUtil._readClientRects=function(e,t,i,o,n){var r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,o),r.getClientRects()}catch(e){return null}finally{this._detachRange(r,n)}},RangeUtil._mergeAdjacentRanges=function(e){if(1===e.length)return[new R.b(e[0].left,e[0].width)];e.sort(T.compare);for(var t=[],i=0,o=e[0].left,n=e[0].width,r=1,s=e.length;r<s;r++){var a=e[r],d=a.left,l=a.width;o+n+.9>=d?n=Math.max(n,d+l-o):(t[i++]=new R.b(o,n),o=d,n=l)}return t[i++]=new R.b(o,n),t},RangeUtil._createHorizontalRangesFromClientRects=function(e,t){if(!e||0===e.length)return null;for(var i=[],o=0,n=e.length;o<n;o++){var r=e[o];i[o]=new T(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(i)},RangeUtil.readHorizontalRanges=function(e,t,i,o,n,r,s){var a=e.children.length-1;if(0>a)return null;(t=Math.min(a,Math.max(0,t)))!==(o=Math.min(a,Math.max(0,o)))&&o>0&&0===n&&(o--,n=1073741824);var d=e.children[t].firstChild,l=e.children[o].firstChild;if(d&&l||(!d&&0===i&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!l&&0===n&&o>0&&(l=e.children[o-1].firstChild,n=1073741824)),!d||!l)return null;i=Math.min(d.textContent.length,Math.max(0,i)),n=Math.min(l.textContent.length,Math.max(0,n));var u=this._readClientRects(d,i,l,n,s);return this._createHorizontalRangesFromClientRects(u,r)},RangeUtil}(),A=i("dBaI"),I=i("baJR"),V=i("t9D7"),P=i("/UlZ"),H=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),F=!!p.f||!(p.d||g.h||g.k),k=g.f,B=function(){function DomReadingContext(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(DomReadingContext.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),DomReadingContext}(),j=function(){function ViewLineOptions(e,t){this.themeType=t;var i=e.options,o=i.get(34);this.renderWhitespace=i.get(74),this.renderControlCharacters=i.get(69),this.spaceWidth=o.spaceWidth,this.middotWidth=o.middotWidth,this.useMonospaceOptimizations=o.isMonospace&&!i.get(23),this.canUseHalfwidthRightwardsArrow=o.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(49),this.stopRenderingLineAfter=i.get(88),this.fontLigatures=i.get(35)}return ViewLineOptions.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},ViewLineOptions}(),z=function(){function ViewLine(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return ViewLine.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},ViewLine.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(h.b)(e)},ViewLine.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},ViewLine.prototype.onSelectionChanged=function(){return!(!k&&this._options.themeType!==V.b&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)},ViewLine.prototype.renderLine=function(e,t,i,o){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var n=i.getViewLineRenderingData(e),r=this._options,s=A.a.filter(n.inlineDecorations,e,n.minColumn,n.maxColumn),a=null;if(k||r.themeType===V.b||"selection"===this._options.renderWhitespace)for(var d=0,l=i.selections;d<l.length;d++){var u=l[d];if(!(u.endLineNumber<e||u.startLineNumber>e)){var c=u.startLineNumber===e?u.startColumn:n.minColumn,h=u.endLineNumber===e?u.endColumn:n.maxColumn;c<h&&("selection"!==this._options.renderWhitespace?s.push(new A.a(c,h,"inline-selected-text",0)):(a||(a=[]),a.push(new I.b(c-1,h-1))))}}var p=new I.c(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,n.content,n.continuesWithWrappedLine,n.isBasicASCII,n.containsRTL,n.minColumn-1,n.tokens,s,n.tabSize,n.startVisibleColumn,r.spaceWidth,r.middotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==P.d.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(p))return!1;o.appendASCIIString('<div style="top:'),o.appendASCIIString(String(t)),o.appendASCIIString("px;height:"),o.appendASCIIString(String(this._options.lineHeight)),o.appendASCIIString('px;" class="'),o.appendASCIIString(ViewLine.CLASS_NAME),o.appendASCIIString('">');var f=Object(I.d)(p,o);o.appendASCIIString("</div>");var g=null;return F&&n.isBasicASCII&&r.useMonospaceOptimizations&&0===f.containsForeignElements&&n.content.length<300&&p.lineTokens.getCount()<100&&(g=new U(this._renderedViewLine?this._renderedViewLine.domNode:null,p,f.characterMapping)),g||(g=q(this._renderedViewLine?this._renderedViewLine.domNode:null,p,f.characterMapping,f.containsRTL,f.containsForeignElements)),this._renderedViewLine=g,!0},ViewLine.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},ViewLine.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},ViewLine.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},ViewLine.prototype.getVisibleRangesForRange=function(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var o=0|this._renderedViewLine.input.stopRenderingLineAfter,n=!1;-1!==o&&e>o+1&&t>o+1&&(n=!0),-1!==o&&e>o+1&&(e=o+1),-1!==o&&t>o+1&&(t=o+1);var r=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return r&&r.length>0?new R.e(n,r):null},ViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1},ViewLine.CLASS_NAME="view-line",ViewLine}(),U=function(){function FastRenderedViewLine(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}return FastRenderedViewLine.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},FastRenderedViewLine.prototype.getWidthIsFast=function(){return!0},FastRenderedViewLine.prototype.getVisibleRangesForRange=function(e,t,i){var o=this._getCharPosition(e),n=this._getCharPosition(t);return[new R.b(o,n-o)]},FastRenderedViewLine.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},FastRenderedViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){for(var o=t.textContent.length,n=-1;t;)t=t.previousSibling,n++;return this._characterMapping.partDataToCharOffset(n,o,i)+1},FastRenderedViewLine}(),Z=function(){function RenderedViewLine(e,t,i,o,n){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=n,this._cachedWidth=-1,this._pixelOffsetCache=null,!o||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var r=0,s=this._characterMapping.length;r<=s;r++)this._pixelOffsetCache[r]=-1}}return RenderedViewLine.prototype._getReadingTarget=function(e){return e.domNode.firstChild},RenderedViewLine.prototype.getWidth=function(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0},RenderedViewLine.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},RenderedViewLine.prototype.getVisibleRangesForRange=function(e,t,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){var o=this._readPixelOffset(this.domNode,e,i);if(-1===o)return null;var n=this._readPixelOffset(this.domNode,t,i);return-1===n?null:[new R.b(o,n-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)},RenderedViewLine.prototype._readVisibleRangesForRange=function(e,t,i,o){if(t===i){var n=this._readPixelOffset(e,t,o);return-1===n?null:[new R.b(n,0)]}return this._readRawVisibleRangesForRange(e,t,i,o)},RenderedViewLine.prototype._readPixelOffset=function(e,t,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();var o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){var n=this._pixelOffsetCache[t];if(-1!==n)return n;var r=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=r,r}return this._actualReadPixelOffset(e,t,i)},RenderedViewLine.prototype._actualReadPixelOffset=function(e,t,i){if(0===this._characterMapping.length){var o=W.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return o&&0!==o.length?o[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(t-1),r=I.a.getPartIndex(n),s=I.a.getCharIndex(n),a=W.readHorizontalRanges(this._getReadingTarget(e),r,s,r,s,i.clientRectDeltaLeft,i.endNode);return a&&0!==a.length?a[0].left:-1},RenderedViewLine.prototype._readRawVisibleRangesForRange=function(e,t,i,o){if(1===t&&i===this._characterMapping.length)return[new R.b(0,this.getWidth())];var n=this._characterMapping.charOffsetToPartData(t-1),r=I.a.getPartIndex(n),s=I.a.getCharIndex(n),a=this._characterMapping.charOffsetToPartData(i-1),d=I.a.getPartIndex(a),l=I.a.getCharIndex(a);return W.readHorizontalRanges(this._getReadingTarget(e),r,s,d,l,o.clientRectDeltaLeft,o.endNode)},RenderedViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){for(var o=t.textContent.length,n=-1;t;)t=t.previousSibling,n++;return this._characterMapping.partDataToCharOffset(n,o,i)+1},RenderedViewLine}(),K=function(e){function WebKitRenderedViewLine(){return null!==e&&e.apply(this,arguments)||this}return H(WebKitRenderedViewLine,e),WebKitRenderedViewLine.prototype._readVisibleRangesForRange=function(t,i,o,n){var r=e.prototype._readVisibleRangesForRange.call(this,t,i,o,n);if(!r||0===r.length||i===o||1===i&&o===this._characterMapping.length)return r;if(!this.input.containsRTL){var s=this._readPixelOffset(t,o,n);if(-1!==s){var a=r[r.length-1];a.left<s&&(a.width=s-a.left)}}return r},WebKitRenderedViewLine}(Z),q=g.m?createWebKitRenderedLine:createNormalRenderedLine;function createWebKitRenderedLine(e,t,i,o,n){return new K(e,t,i,o,n)}function createNormalRenderedLine(e,t,i,o,n){return new Z(e,t,i,o,n)}var G=i("cGHE"),Y=i("aokT"),X=i("Ll0s"),J=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Q=function Q(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t},$=function(){function MouseTarget(e,t,i,o,n,r){void 0===i&&(i=0),void 0===o&&(o=null),void 0===n&&(n=null),void 0===r&&(r=null),this.element=e,this.type=t,this.mouseColumn=i,this.position=o,!n&&o&&(n=new Y.a(o.lineNumber,o.column,o.lineNumber,o.column)),this.range=n,this.detail=r}return MouseTarget._typeToString=function(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"},MouseTarget.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},MouseTarget.prototype.toString=function(){return MouseTarget.toString(this)},MouseTarget}(),ee=function(){function ElementPath(){}return ElementPath.isTextArea=function(e){return 2===e.length&&3===e[0]&&6===e[1]},ElementPath.isChildOfViewLines=function(e){return e.length>=4&&3===e[0]&&7===e[3]},ElementPath.isStrictChildOfViewLines=function(e){return e.length>4&&3===e[0]&&7===e[3]},ElementPath.isChildOfScrollableElement=function(e){return e.length>=2&&3===e[0]&&5===e[1]},ElementPath.isChildOfMinimap=function(e){return e.length>=2&&3===e[0]&&8===e[1]},ElementPath.isChildOfContentWidgets=function(e){return e.length>=4&&3===e[0]&&1===e[3]},ElementPath.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&2===e[0]},ElementPath.isChildOfOverlayWidgets=function(e){return e.length>=2&&3===e[0]&&4===e[1]},ElementPath}(),te=function(){function HitTestContext(e,t,i){this.model=e.model;var o=e.configuration.options;this.layoutInfo=o.get(107),this.viewDomNode=t.viewDomNode,this.lineHeight=o.get(49),this.typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}return HitTestContext.prototype.getZoneAtCoord=function(e){return HitTestContext.getZoneAtCoord(this._context,e)},HitTestContext.getZoneAtCoord=function(e,t){var i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){var o=i.verticalOffset+i.height/2,n=e.model.getLineCount(),r=null,s=void 0,a=null;return i.afterLineNumber!==n&&(a=new G.a(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new G.a(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),s=null===a?r:null===r?a:t<o?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null},HitTestContext.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),i=this._context.model.getLineMaxColumn(t);return{range:new Y.a(t,i,t,i),isAfterLines:!0}}var o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),n=this._context.model.getLineMaxColumn(o);return{range:new Y.a(o,1,o,n),isAfterLines:!1}},HitTestContext.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},HitTestContext.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},HitTestContext.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},HitTestContext.prototype.findAttribute=function(e,t){return HitTestContext._findAttribute(e,t,this._viewHelper.viewDomNode)},HitTestContext._findAttribute=function(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null},HitTestContext.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},HitTestContext.prototype.visibleRangeForPosition=function(e,t){return this._viewHelper.visibleRangeForPosition(e,t)},HitTestContext.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},HitTestContext.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},HitTestContext.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},HitTestContext}(),ie=function(e){function HitTestRequest(t,i,o,n){var r=e.call(this,t,i,o)||this;return r._ctx=t,n?(r.target=n,r.targetPath=x.collect(n,t.viewDomNode)):(r.target=null,r.targetPath=new Uint8Array(0)),r}return J(HitTestRequest,e),HitTestRequest.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},HitTestRequest.prototype.fulfill=function(e,t,i,o){void 0===t&&(t=null),void 0===i&&(i=null),void 0===o&&(o=null);var n=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(n=X.a.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getOptions().tabSize)+1),new $(this.target,e,n,t,i,o)},HitTestRequest.prototype.withTarget=function(e){return new HitTestRequest(this._ctx,this.editorPos,this.pos,e)},HitTestRequest}((function BareHitTestRequest(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ne._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))})),oe={isAfterLines:!0};function createEmptyContentDataInLines(e){return{isAfterLines:!1,horizontalDistanceToText:e}}var ne=function(){function MouseTargetFactory(e,t){this._context=e,this._viewHelper=t}return MouseTargetFactory.prototype.mouseTargetIsWidget=function(e){var t=e.target,i=x.collect(t,this._viewHelper.viewDomNode);return!(!ee.isChildOfContentWidgets(i)&&!ee.isChildOfOverflowingContentWidgets(i))||!!ee.isChildOfOverlayWidgets(i)},MouseTargetFactory.prototype.createMouseTarget=function(e,t,i,o){var n=new te(this._context,this._viewHelper,e),r=new ie(n,t,i,o);try{return MouseTargetFactory._createMouseTarget(n,r,!1)}catch(e){return r.fulfill(0)}},MouseTargetFactory._createMouseTarget=function(e,t,i){if(null===t.target){if(i)return t.fulfill(0);var o=MouseTargetFactory._doHitTest(e,t);return o.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(e,t,o.position.lineNumber,o.position.column):this._createMouseTarget(e,t.withTarget(o.hitTarget),!0)}var n=t,r=null;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r||MouseTargetFactory._hitTestContentWidget(e,n))||MouseTargetFactory._hitTestOverlayWidget(e,n))||MouseTargetFactory._hitTestMinimap(e,n))||MouseTargetFactory._hitTestScrollbarSlider(e,n))||MouseTargetFactory._hitTestViewZone(e,n))||MouseTargetFactory._hitTestMargin(e,n))||MouseTargetFactory._hitTestViewCursor(e,n))||MouseTargetFactory._hitTestTextArea(e,n))||MouseTargetFactory._hitTestViewLines(e,n,i))||MouseTargetFactory._hitTestScrollbar(e,n))||t.fulfill(0)},MouseTargetFactory._hitTestContentWidget=function(e,t){if(ee.isChildOfContentWidgets(t.targetPath)||ee.isChildOfOverflowingContentWidgets(t.targetPath)){var i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null},MouseTargetFactory._hitTestOverlayWidget=function(e,t){if(ee.isChildOfOverlayWidgets(t.targetPath)){var i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null},MouseTargetFactory._hitTestViewCursor=function(e,t){if(t.target)for(var i=0,o=r=e.lastRenderData.lastViewCursorsRenderData;i<o.length;i++){var n=o[i];if(t.target===n.domNode)return t.fulfill(6,n.position)}if(t.isInContentArea)for(var r=e.lastRenderData.lastViewCursorsRenderData,s=t.mouseContentHorizontalOffset,a=t.mouseVerticalOffset,d=0,l=r;d<l.length;d++){if(!(s<(n=l[d]).contentLeft)&&!(s>n.contentLeft+n.width)){var u=e.getVerticalOffsetForLineNumber(n.position.lineNumber);if(u<=a&&a<=u+n.height)return t.fulfill(6,n.position)}}return null},MouseTargetFactory._hitTestViewZone=function(e,t){var i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){var o=t.isInContentArea?8:5;return t.fulfill(o,i.position,null,i)}return null},MouseTargetFactory._hitTestTextArea=function(e,t){return ee.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null},MouseTargetFactory._hitTestMargin=function(e,t){if(t.isInMarginArea){var i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),o=i.range.getStartPosition(),n=Math.abs(t.pos.x-t.editorPos.x),r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:n};return(n-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,o,i.range,r):(n-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,o,i.range,r):(n-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,o,i.range,r))}return null},MouseTargetFactory._hitTestViewLines=function(e,t,i){if(!ee.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){var o=e.model.getLineCount(),n=e.model.getLineMaxColumn(o);return t.fulfill(7,new G.a(o,n),void 0,oe)}if(i){if(ee.isStrictChildOfViewLines(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(r)){var s=e.getLineWidth(r),a=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-s);return t.fulfill(7,new G.a(r,1),void 0,a)}var d=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=d){a=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-d);var l=new G.a(r,e.model.getLineMaxColumn(r));return t.fulfill(7,l,void 0,a)}}return t.fulfill(0)}var u=MouseTargetFactory._doHitTest(e,t);return u.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(e,t,u.position.lineNumber,u.position.column):this._createMouseTarget(e,t.withTarget(u.hitTarget),!0)},MouseTargetFactory._hitTestMinimap=function(e,t){if(ee.isChildOfMinimap(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(11,new G.a(i,o))}return null},MouseTargetFactory._hitTestScrollbarSlider=function(e,t){if(ee.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){var o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(o);return t.fulfill(11,new G.a(o,n))}}return null},MouseTargetFactory._hitTestScrollbar=function(e,t){if(ee.isChildOfScrollableElement(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(11,new G.a(i,o))}return null},MouseTargetFactory.prototype.getMouseColumn=function(e,t){var i=this._context.configuration.options,o=i.get(107),n=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-o.contentLeft;return MouseTargetFactory._getMouseColumn(n,i.get(34).typicalHalfwidthCharacterWidth)},MouseTargetFactory._getMouseColumn=function(e,t){return e<0?1:Math.round(e/t)+1},MouseTargetFactory.createMouseTargetFromHitTestPosition=function(e,t,i,o){var n=new G.a(i,o),r=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>r){if(g.e&&1===n.column){var s=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-r);return t.fulfill(7,new G.a(i,e.model.getLineMaxColumn(i)),void 0,s)}var a=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-r);return t.fulfill(7,n,void 0,a)}var d=e.visibleRangeForPosition(i,o);if(!d)return t.fulfill(0,n);var l=d.left;if(t.mouseContentHorizontalOffset===l)return t.fulfill(6,n);var u=[];if(u.push({offset:d.left,column:o}),o>1){var c=e.visibleRangeForPosition(i,o-1);c&&u.push({offset:c.left,column:o-1})}if(o<e.model.getLineMaxColumn(i)){var h=e.visibleRangeForPosition(i,o+1);h&&u.push({offset:h.left,column:o+1})}u.sort((function(e,t){return e.offset-t.offset}));for(var p=1;p<u.length;p++){var f=u[p-1],m=u[p];if(f.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=m.offset){var _=new Y.a(i,f.column,i,m.column);return t.fulfill(6,n,_)}}return t.fulfill(6,n)},MouseTargetFactory._doHitTestWithCaretRangeFromPoint=function(e,t){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2),n=t.pos.y+(o-t.mouseVerticalOffset);n<=t.editorPos.y&&(n=t.editorPos.y+1),n>=t.editorPos.y+e.layoutInfo.height&&(n=t.editorPos.y+e.layoutInfo.height-1);var r=new C(t.pos.x,n),s=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return s.position?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},MouseTargetFactory._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var i,o=n.E(e.viewDomNode);if(!(i=o?void 0===o.caretRangeFromPoint?function shadowCaretRangeFromPoint(e,t,i){var o=document.createRange(),n=e.elementFromPoint(t,i);if(null!==n){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE;)n=n.lastChild;var r=n.getBoundingClientRect(),s=window.getComputedStyle(n,null).getPropertyValue("font"),a=n.innerText,d=r.left,l=0,u=void 0;if(t>r.left+r.width)l=a.length;else for(var c=re.getInstance(),h=0;h<a.length+1;h++){if(t<(d+=u=c.getCharWidth(a.charAt(h),s)/2)){l=h;break}d+=u}o.setStart(n.firstChild,l),o.setEnd(n.firstChild,l)}return o}(o,t.clientX,t.clientY):o.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY))||!i.startContainer)return{position:null,hitTarget:null};var r=i.startContainer,s=null;if(r.nodeType===r.TEXT_NODE){var a=(l=(d=r.parentNode)?d.parentNode:null)?l.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===z.CLASS_NAME)return{position:e.getPositionFromDOMInfo(d,i.startOffset),hitTarget:null};s=r.parentNode}else if(r.nodeType===r.ELEMENT_NODE){var d,l;if(((l=(d=r.parentNode)?d.parentNode:null)&&l.nodeType===l.ELEMENT_NODE?l.className:null)===z.CLASS_NAME)return{position:e.getPositionFromDOMInfo(r,r.textContent.length),hitTarget:null};s=r}return{position:null,hitTarget:s}},MouseTargetFactory._doHitTestWithCaretPositionFromPoint=function(e,t){var i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){var o=i.offsetNode.parentNode,n=o?o.parentNode:null,r=n?n.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===z.CLASS_NAME?{position:e.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset),hitTarget:null}:{position:null,hitTarget:i.offsetNode.parentNode}}return{position:null,hitTarget:i.offsetNode}},MouseTargetFactory._doHitTestWithMoveToPoint=function(e,t){var i=null,o=null,n=document.body.createTextRange();try{n.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}n.collapse(!0);var r=n?n.parentElement():null,s=r?r.parentNode:null,a=s?s.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===z.CLASS_NAME){var d=n.duplicate();d.moveToElementText(r),d.setEndPoint("EndToStart",n),i=e.getPositionFromDOMInfo(r,d.text.length),d.moveToElementText(e.viewDomNode)}else o=r;return n.moveToElementText(e.viewDomNode),{position:i,hitTarget:o}},MouseTargetFactory._doHitTest=function(e,t){return"function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},MouseTargetFactory}();var re=function(){function CharWidthReader(){this._cache={},this._canvas=document.createElement("canvas")}return CharWidthReader.getInstance=function(){return CharWidthReader._INSTANCE||(CharWidthReader._INSTANCE=new CharWidthReader),CharWidthReader._INSTANCE},CharWidthReader.prototype.getCharWidth=function(e,t){var i=e+t;if(this._cache[i])return this._cache[i];var o=this._canvas.getContext("2d");o.font=t;var n=o.measureText(e).width;return this._cache[i]=n,n},CharWidthReader._INSTANCE=null,CharWidthReader}(),se=i("Yr1X"),ae=i("gCVg"),de=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function createMouseMoveEventMerger(e){return function(t,i){var o=!1;return e&&(o=e.mouseTargetIsWidget(i)),o||i.preventDefault(),i}}var le=function(e){function MouseHandler(t,i,o){var r=e.call(this)||this;r._isFocused=!1,r._context=t,r.viewController=i,r.viewHelper=o,r.mouseTargetFactory=new ne(r._context,o),r._mouseDownOperation=r._register(new ue(r._context,r.viewController,r.viewHelper,(function(e,t){return r._createMouseTarget(e,t)}),(function(e){return r._getMouseColumn(e)}))),r._asyncFocus=r._register(new _.d((function(){return r.viewHelper.focusTextArea()}),0)),r.lastMouseLeaveTime=-1;var s=new D(r.viewHelper.viewDomNode);r._register(s.onContextMenu(r.viewHelper.viewDomNode,(function(e){return r._onContextMenu(e,!0)}))),r._register(s.onMouseMoveThrottled(r.viewHelper.viewDomNode,(function(e){return r._onMouseMove(e)}),createMouseMoveEventMerger(r.mouseTargetFactory),MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),r._register(s.onMouseUp(r.viewHelper.viewDomNode,(function(e){return r._onMouseUp(e)}))),r._register(s.onMouseLeave(r.viewHelper.viewDomNode,(function(e){return r._onMouseLeave(e)}))),r._register(s.onMouseDown(r.viewHelper.viewDomNode,(function(e){return r._onMouseDown(e)})));return r._register(n.j(r.viewHelper.viewDomNode,g.f?"mousewheel":"wheel",(function(e){if(r.viewController.emitMouseWheel(e),r._context.configuration.options.get(57)){var t=new m.c(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var i=se.a.getZoomLevel(),o=t.deltaY>0?1:-1;se.a.setZoomLevel(i+o),t.preventDefault(),t.stopPropagation()}}}),{capture:!0,passive:!1})),r._context.addEventHandler(r),r}return de(MouseHandler,e),MouseHandler.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},MouseHandler.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},MouseHandler.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},MouseHandler.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},MouseHandler.prototype.getTargetAtClientPoint=function(e,t){var i=new w(e,t).toPageCoordinates(),o=createEditorPagePosition(this.viewHelper.viewDomNode);return i.y<o.y||i.y>o.y+o.height||i.x<o.x||i.x>o.x+o.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,i,null)},MouseHandler.prototype._createMouseTarget=function(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)},MouseHandler.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},MouseHandler.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},MouseHandler.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))},MouseHandler.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},MouseHandler.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},MouseHandler.prototype._onMouseDown=function(e){var t=this,i=this._createMouseTarget(e,!0),o=6===i.type||7===i.type,n=2===i.type||3===i.type||4===i.type,r=3===i.type,s=this._context.configuration.options.get(83),a=8===i.type||5===i.type,d=9===i.type,l=e.leftButton||e.middleButton;p.e&&e.leftButton&&e.ctrlKey&&(l=!1);var focus=function(){g.i&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(l&&(o||r&&s))focus(),this._mouseDownOperation.start(i.type,e);else if(n)e.preventDefault();else if(a){var u=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(u.viewZoneId)&&(focus(),this._mouseDownOperation.start(i.type,e),e.preventDefault())}else d&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(focus(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})},MouseHandler.MOUSE_MOVE_MINIMUM_TIME=100,MouseHandler}(N.a),ue=function(e){function MouseDownOperation(t,i,o,n,r){var s=e.call(this)||this;return s._context=t,s._viewController=i,s._viewHelper=o,s._createMouseTarget=n,s._getMouseColumn=r,s._mouseMoveMonitor=s._register(new E(s._viewHelper.viewDomNode)),s._onScrollTimeout=s._register(new _.e),s._mouseState=new ce,s._currentSelection=new ae.a(1,1,1,1),s._isActive=!1,s._lastMouseEvent=null,s}return de(MouseDownOperation,e),MouseDownOperation.prototype.dispose=function(){e.prototype.dispose.call(this)},MouseDownOperation.prototype.isActive=function(){return this._isActive},MouseDownOperation.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},MouseDownOperation.prototype.start=function(e,t){var i=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var o=this._findMousePosition(t,!0);if(o&&o.position){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;var n=this._context.configuration.options;if(!n.get(68)&&n.get(24)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===o.type&&o.position&&this._currentSelection.containsPosition(o.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,createMouseMoveEventMerger(null),(function(e){return i._onMouseDownThenMove(e)}),(function(){var e=i._findMousePosition(i._lastMouseEvent,!0);i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:e?i._createMouseTarget(i._lastMouseEvent,!0):null}),i._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,createMouseMoveEventMerger(null),(function(e){return i._onMouseDownThenMove(e)}),(function(){return i._stop()})))}},MouseDownOperation.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},MouseDownOperation.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet((function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}}),10)},MouseDownOperation.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},MouseDownOperation.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,i=this._context.model,o=this._context.viewLayout,n=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(o.getCurrentScrollTop()-(t.y-e.posy),0);if(a=te.getZoneAtCoord(this._context,r))if(d=this._helpPositionJumpOverViewZone(a))return new $(null,13,n,d);var s=o.getLineNumberAtVerticalOffset(r);return new $(null,13,n,new G.a(s,1))}if(e.posy>t.y+t.height){var a,d;r=o.getCurrentScrollTop()+(e.posy-t.y);if(a=te.getZoneAtCoord(this._context,r))if(d=this._helpPositionJumpOverViewZone(a))return new $(null,13,n,d);var l=o.getLineNumberAtVerticalOffset(r);return new $(null,13,n,new G.a(l,i.getLineMaxColumn(l)))}var u=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new $(null,13,n,new G.a(u,1)):e.posx>t.x+t.width?new $(null,13,n,new G.a(u,i.getLineMaxColumn(u))):null},MouseDownOperation.prototype._findMousePosition=function(e,t){var i=this._getPositionOutsideEditor(e);if(i)return i;var o=this._createMouseTarget(e,t);if(!o.position)return null;if(8===o.type||5===o.type){var n=this._helpPositionJumpOverViewZone(o.detail);if(n)return new $(o.element,o.type,o.mouseColumn,n,null,o.detail)}return o},MouseDownOperation.prototype._helpPositionJumpOverViewZone=function(e){var t=new G.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,o=e.positionAfter;return i&&o?i.isBefore(t)?i:o:null},MouseDownOperation.prototype._dispatchMouse=function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},MouseDownOperation}(a.a),ce=function(){function MouseDownState(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(MouseDownState.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),MouseDownState.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},MouseDownState.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},MouseDownState.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},MouseDownState.prototype.trySetCount=function(e,t){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)},MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME=400,MouseDownState}(),he=i("CjF5"),pe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function gestureChangeEventMerger(e,t){var i={translationY:t.translationY,translationX:t.translationX};return e&&(i.translationY+=e.translationY,i.translationX+=e.translationX),i}var fe=function(e){function MsPointerHandler(t,i,o){var r=e.call(this,t,i,o)||this;return r.viewHelper.linesContentDomNode.style.msTouchAction="none",r.viewHelper.linesContentDomNode.style.msContentZooming="none",r._installGestureHandlerTimeout=window.setTimeout((function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",(function(i){var o=i.pointerType;o!==(i.MSPOINTER_TYPE_MOUSE||"mouse")?o===(i.MSPOINTER_TYPE_TOUCH||"touch")?(r._lastPointerType="touch",e.addPointer(i.pointerId)):(r._lastPointerType="pen",t.addPointer(i.pointerId)):r._lastPointerType="mouse"})),r._register(n.m(r.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return r._onGestureChange(e)}),gestureChangeEventMerger)),r._register(n.j(r.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return r._onCaptureGestureTap(e)}),!0))}}),100),r._lastPointerType="mouse",r}return pe(MsPointerHandler,e),MsPointerHandler.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},MsPointerHandler.prototype._onCaptureGestureTap=function(e){var t=this,i=new S(e,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},MsPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},MsPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},MsPointerHandler}(le),ge=function(e){function StandardPointerHandler(t,i,o){var r=e.call(this,t,i,o)||this;return r.viewHelper.linesContentDomNode.style.touchAction="none",r._installGestureHandlerTimeout=window.setTimeout((function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("pointerdown",(function(i){var o=i.pointerType;"mouse"!==o?"touch"===o?(r._lastPointerType="touch",e.addPointer(i.pointerId)):(r._lastPointerType="pen",t.addPointer(i.pointerId)):r._lastPointerType="mouse"})),r._register(n.m(r.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return r._onGestureChange(e)}),gestureChangeEventMerger)),r._register(n.j(r.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return r._onCaptureGestureTap(e)}),!0))}}),100),r._lastPointerType="mouse",r}return pe(StandardPointerHandler,e),StandardPointerHandler.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},StandardPointerHandler.prototype._onCaptureGestureTap=function(e){var t=this,i=new S(e,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},StandardPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},StandardPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},StandardPointerHandler}(le),me=function(e){function PointerEventHandler(t,i,o){var r=e.call(this,t,i,o)||this;r._register(f.b.addTarget(r.viewHelper.linesContentDomNode)),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Tap,(function(e){return r.onTap(e)}))),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Change,(function(e){return r.onChange(e)}))),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Contextmenu,(function(e){return r._onContextMenu(new S(e,r.viewHelper.viewDomNode),!1)}))),r._lastPointerType="mouse",r._register(n.j(r.viewHelper.linesContentDomNode,"pointerdown",(function(e){var t=e.pointerType;r._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));var s=new L(r.viewHelper.viewDomNode);return r._register(s.onPointerMoveThrottled(r.viewHelper.viewDomNode,(function(e){return r._onMouseMove(e)}),createMouseMoveEventMerger(r.mouseTargetFactory),le.MOUSE_MOVE_MINIMUM_TIME)),r._register(s.onPointerUp(r.viewHelper.viewDomNode,(function(e){return r._onMouseUp(e)}))),r._register(s.onPointerLeave(r.viewHelper.viewDomNode,(function(e){return r._onMouseLeave(e)}))),r._register(s.onPointerDown(r.viewHelper.viewDomNode,(function(e){return r._onMouseDown(e)}))),r}return pe(PointerEventHandler,e),PointerEventHandler.prototype.onTap=function(e){if(e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new S(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}},PointerEventHandler.prototype.onChange=function(e){"touch"===this._lastPointerType&&this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},PointerEventHandler.prototype._onMouseDown=function(t){t.target&&this.viewHelper.linesContentDomNode.contains(t.target)&&"touch"===this._lastPointerType||e.prototype._onMouseDown.call(this,t)},PointerEventHandler}(le),_e=function(e){function TouchHandler(t,i,o){var r=e.call(this,t,i,o)||this;return r._register(f.b.addTarget(r.viewHelper.linesContentDomNode)),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Tap,(function(e){return r.onTap(e)}))),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Change,(function(e){return r.onChange(e)}))),r._register(n.j(r.viewHelper.linesContentDomNode,f.a.Contextmenu,(function(e){return r._onContextMenu(new S(e,r.viewHelper.viewDomNode),!1)}))),r}return pe(TouchHandler,e),TouchHandler.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new S(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},TouchHandler.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},TouchHandler}(le),ve=function(e){function PointerHandler(t,i,o){var n=e.call(this)||this;return window.navigator.msPointerEnabled?n.handler=n._register(new fe(t,i,o)):p.c&&he.a.pointerEvents?n.handler=n._register(new me(t,i,o)):window.TouchEvent?n.handler=n._register(new _e(t,i,o)):window.navigator.pointerEnabled||window.PointerEvent?n.handler=n._register(new ge(t,i,o)):n.handler=n._register(new le(t,i,o)),n}return pe(PointerHandler,e),PointerHandler.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},PointerHandler}(a.a),ye=i("N0LK"),Ce=i("5TxY"),we=i("Comh"),be=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Se=function(e){function DynamicViewOverlay(){return null!==e&&e.apply(this,arguments)||this}return be(DynamicViewOverlay,e),DynamicViewOverlay}(N.a),De=i("kYye"),Le=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Ee=function(e){function LineNumbersOverlay(t){var i=e.call(this)||this;return i._context=t,i._readConfig(),i._lastCursorModelPosition=new G.a(1,1),i._renderResult=null,i._context.addEventHandler(i),i}return Le(LineNumbersOverlay,e),LineNumbersOverlay.prototype._readConfig=function(){var e=this._context.configuration.options;this._lineHeight=e.get(49);var t=e.get(50);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(71);var i=e.get(107);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth},LineNumbersOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},LineNumbersOverlay.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},LineNumbersOverlay.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers},LineNumbersOverlay.prototype.onFlushed=function(e){return!0},LineNumbersOverlay.prototype.onLinesChanged=function(e){return!0},LineNumbersOverlay.prototype.onLinesDeleted=function(e){return!0},LineNumbersOverlay.prototype.onLinesInserted=function(e){return!0},LineNumbersOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LineNumbersOverlay.prototype.onZonesChanged=function(e){return!0},LineNumbersOverlay.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G.a(e,1));if(1!==t.column)return"";var i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){var o=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===o?'<span class="relative-current-line-number">'+i+"</span>":String(o)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)},LineNumbersOverlay.prototype.prepareRender=function(e){if(0!==this._renderLineNumbers){for(var t=p.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,n='<div class="'+LineNumbersOverlay.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',r=this._context.model.getLineCount(),s=[],a=i;a<=o;a++){var d=a-i;if(this._renderFinalNewline||a!==r||0!==this._context.model.getLineLength(a)){var l=this._getLineRenderLineNumber(a);s[d]=l?n+l+"</div>":""}else s[d]=""}this._renderResult=s}else this._renderResult=null},LineNumbersOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},LineNumbersOverlay.CLASS_NAME="line-numbers",LineNumbersOverlay}(Se);Object(V.e)((function(e,t){var i=e.getColor(De.k);i&&t.addRule(".monaco-editor .line-numbers { color: "+i+"; }");var o=e.getColor(De.b);o&&t.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+o+"; }")}));var Ne=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Oe=function(e){function Margin(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._canUseLayerHinting=!o.get(22),i._contentLeft=n.contentLeft,i._glyphMarginLeft=n.glyphMarginLeft,i._glyphMarginWidth=n.glyphMarginWidth,i._domNode=Object(h.b)(document.createElement("div")),i._domNode.setClassName(Margin.OUTER_CLASS_NAME),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._glyphMarginBackgroundDomNode=Object(h.b)(document.createElement("div")),i._glyphMarginBackgroundDomNode.setClassName(Margin.CLASS_NAME),i._domNode.appendChild(i._glyphMarginBackgroundDomNode),i}return Ne(Margin,e),Margin.prototype.dispose=function(){e.prototype.dispose.call(this)},Margin.prototype.getDomNode=function(){return this._domNode},Margin.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._canUseLayerHinting=!t.get(22),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0},Margin.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},Margin.prototype.prepareRender=function(e){},Margin.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},Margin.CLASS_NAME="glyph-margin",Margin.OUTER_CLASS_NAME="margin",Margin}(M),Me=i("5v8Y"),xe=i("DYOu"),Re=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Te=function(){function VisibleTextAreaData(e,t,i){this.top=e,this.left=t,this.width=i}return VisibleTextAreaData.prototype.setWidth=function(e){return new VisibleTextAreaData(this.top,this.left,e)},VisibleTextAreaData}(),We=g.f||g.h,Ae=function(e){function TextAreaHandler(t,i,o){var n=e.call(this,t)||this;n._primaryCursorPosition=new G.a(1,1),n._primaryCursorVisibleRange=null,n._viewController=i,n._viewHelper=o,n._scrollLeft=0,n._scrollTop=0;var r=n._context.configuration.options,s=r.get(107);n._setAccessibilityOptions(r),n._contentLeft=s.contentLeft,n._contentWidth=s.contentWidth,n._contentHeight=s.height,n._fontInfo=r.get(34),n._lineHeight=r.get(49),n._emptySelectionClipboard=r.get(25),n._copyWithSyntaxHighlighting=r.get(15),n._visibleTextArea=null,n._selections=[new ae.a(1,1,1,1)],n._modelSelections=[new ae.a(1,1,1,1)],n._lastRenderPosition=null,n.textArea=Object(h.b)(document.createElement("textarea")),x.write(n.textArea,6),n.textArea.setClassName("inputarea"),n.textArea.setAttribute("wrap","off"),n.textArea.setAttribute("autocorrect","off"),n.textArea.setAttribute("autocapitalize","off"),n.textArea.setAttribute("autocomplete","off"),n.textArea.setAttribute("spellcheck","false"),n.textArea.setAttribute("aria-label",n._getAriaLabel(r)),n.textArea.setAttribute("role","textbox"),n.textArea.setAttribute("aria-multiline","true"),n.textArea.setAttribute("aria-haspopup","false"),n.textArea.setAttribute("aria-autocomplete","both"),p.g&&r.get(68)&&n.textArea.setAttribute("readonly","true"),n.textAreaCover=Object(h.b)(document.createElement("div")),n.textAreaCover.setPosition("absolute");var a={getLineCount:function(){return n._context.model.getLineCount()},getLineMaxColumn:function(e){return n._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return n._context.model.getValueInRange(e,t)}},d={getDataToCopy:function(e){var t=n._context.model.getPlainTextToCopy(n._modelSelections,n._emptySelectionClipboard,p.h),i=n._context.model.getEOL(),o=n._emptySelectionClipboard&&1===n._modelSelections.length&&n._modelSelections[0].isEmpty(),r=Array.isArray(t)?t:null,s=Array.isArray(t)?t.join(i):t,a=void 0,d=null;if(e&&(Ce.a.forceCopyWithSyntaxHighlighting||n._copyWithSyntaxHighlighting&&s.length<65536)){var l=n._context.model.getRichTextToCopy(n._modelSelections,n._emptySelectionClipboard);l&&(a=l.html,d=l.mode)}return{isFromEmptySelection:o,multicursorText:r,text:s,html:a,mode:d}},getScreenReaderContent:function(e){if(g.j)return we.b.EMPTY;if(1===n._accessibilitySupport){if(p.e){var t=n._selections[0];if(t.isEmpty()){var i=t.getStartPosition(),o=n._getWordBeforePosition(i);if(0===o.length&&(o=n._getCharacterBeforePosition(i)),o.length>0)return new we.b(o,o.length,o.length,i,i)}}return we.b.EMPTY}return we.a.fromEditorSelection(e,a,n._selections[0],n._accessibilityPageSize,0===n._accessibilitySupport)},deduceModelPosition:function(e,t,i){return n._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)}};return n._textAreaInput=n._register(new Ce.b(d,n.textArea)),n._register(n._textAreaInput.onKeyDown((function(e){n._viewController.emitKeyDown(e)}))),n._register(n._textAreaInput.onKeyUp((function(e){n._viewController.emitKeyUp(e)}))),n._register(n._textAreaInput.onPaste((function(e){var t=!1,i=null,o=null;e.metadata&&(t=n._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,o=e.metadata.mode),n._viewController.paste("keyboard",e.text,t,i,o)}))),n._register(n._textAreaInput.onCut((function(){n._viewController.cut("keyboard")}))),n._register(n._textAreaInput.onType((function(e){e.replaceCharCnt?n._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):n._viewController.type("keyboard",e.text)}))),n._register(n._textAreaInput.onSelectionChangeRequest((function(e){n._viewController.setSelection("keyboard",e)}))),n._register(n._textAreaInput.onCompositionStart((function(){var e=n._selections[0].startLineNumber,t=n._selections[0].startColumn;n._context.privateViewEventBus.emit(new xe.m("keyboard",new Y.a(e,t,e,t),0,!0,1));var i=n._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);i&&(n._visibleTextArea=new Te(n._context.viewLayout.getVerticalOffsetForLineNumber(e),i.left,We?0:1),n._render()),n.textArea.setClassName("inputarea ime-input"),n._viewController.compositionStart("keyboard")}))),n._register(n._textAreaInput.onCompositionUpdate((function(e){g.f?n._visibleTextArea=n._visibleTextArea.setWidth(0):n._visibleTextArea=n._visibleTextArea.setWidth(function measureText(e,t){var i=document.createElement("canvas").getContext("2d");i.font=function createFontString(e){return function doCreateFontString(e,t,i,o,n){return e+" normal "+t+" "+i+"px / "+o+"px "+n}("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}(t);var o=i.measureText(e);return g.h?o.width+2:o.width}(e.data,n._fontInfo)),n._render()}))),n._register(n._textAreaInput.onCompositionEnd((function(){n._visibleTextArea=null,n._render(),n.textArea.setClassName("inputarea"),n._viewController.compositionEnd("keyboard")}))),n._register(n._textAreaInput.onFocus((function(){n._context.privateViewEventBus.emit(new xe.g(!0))}))),n._register(n._textAreaInput.onBlur((function(){n._context.privateViewEventBus.emit(new xe.g(!1))}))),n}return Re(TextAreaHandler,e),TextAreaHandler.prototype.dispose=function(){e.prototype.dispose.call(this)},TextAreaHandler.prototype._getWordBeforePosition=function(e){for(var t=this._context.model.getLineContent(e.lineNumber),i=Object(Me.a)(this._context.configuration.options.get(96)),o=e.column,n=0;o>1;){var r=t.charCodeAt(o-2);if(0!==i.get(r)||n>50)return t.substring(o-1,e.column-1);n++,o--}return t.substring(0,e.column-1)},TextAreaHandler.prototype._getCharacterBeforePosition=function(e){if(e.column>1){var t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!ye.z(t.charCodeAt(0)))return t}return""},TextAreaHandler.prototype._getAriaLabel=function(e){return 1===e.get(2)?o.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.get(4)},TextAreaHandler.prototype._setAccessibilityOptions=function(e){this._accessibilitySupport=e.get(2);var t=e.get(3);2===this._accessibilitySupport&&t===P.e.accessibilityPageSize.defaultValue?this._accessibilityPageSize=160:this._accessibilityPageSize=t},TextAreaHandler.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(34),this._lineHeight=t.get(49),this._emptySelectionClipboard=t.get(25),this._copyWithSyntaxHighlighting=t.get(15),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),p.g&&e.hasChanged(68)&&(t.get(68)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0},TextAreaHandler.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},TextAreaHandler.prototype.onDecorationsChanged=function(e){return!0},TextAreaHandler.prototype.onFlushed=function(e){return!0},TextAreaHandler.prototype.onLinesChanged=function(e){return!0},TextAreaHandler.prototype.onLinesDeleted=function(e){return!0},TextAreaHandler.prototype.onLinesInserted=function(e){return!0},TextAreaHandler.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},TextAreaHandler.prototype.onZonesChanged=function(e){return!0},TextAreaHandler.prototype.isFocused=function(){return this._textAreaInput.isFocused()},TextAreaHandler.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},TextAreaHandler.prototype.getLastRenderData=function(){return this._lastRenderPosition},TextAreaHandler.prototype.setAriaOptions=function(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant"))},TextAreaHandler.prototype.prepareRender=function(e){this._primaryCursorPosition=new G.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)},TextAreaHandler.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},TextAreaHandler.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():p.e?this._renderInsideEditor(this._primaryCursorPosition,t,e,We?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,We?0:1,We?0:1)}}else this._renderAtTopLeft()},TextAreaHandler.prototype._renderInsideEditor=function(e,t,i,o,n){this._lastRenderPosition=e;var r=this.textArea,s=this.textAreaCover;l.a.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(i),r.setWidth(o),r.setHeight(n),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)},TextAreaHandler.prototype._renderAtTopLeft=function(){this._lastRenderPosition=null;var e=this.textArea,t=this.textAreaCover;if(l.a.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),We)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);var i=this._context.configuration.options;i.get(40)?t.setClassName("monaco-editor-background textAreaCover "+Oe.OUTER_CLASS_NAME):0!==i.get(50).renderType?t.setClassName("monaco-editor-background textAreaCover "+Ee.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},TextAreaHandler}(M);var Ie=i("1YUG"),Ve=function(){function ViewController(e,t,i,o){this.configuration=e,this.viewModel=t,this.outgoingEvents=i,this.commandDelegate=o}return ViewController.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},ViewController.prototype.paste=function(e,t,i,o,n){this.commandDelegate.paste(e,t,i,o,n)},ViewController.prototype.type=function(e,t){this.commandDelegate.type(e,t)},ViewController.prototype.replacePreviousChar=function(e,t,i){this.commandDelegate.replacePreviousChar(e,t,i)},ViewController.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},ViewController.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},ViewController.prototype.cut=function(e){this.commandDelegate.cut(e)},ViewController.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(Ie.CoreNavigationCommands.SetSelection,{source:e,selection:t})},ViewController.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new G.a(e.lineNumber,t):e},ViewController.prototype._hasMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},ViewController.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},ViewController.prototype.dispatchMouse=function(e){var t=p.d&&this.configuration.options.get(81);e.middleButton&&!t?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},ViewController.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},ViewController.prototype.moveTo=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.MoveTo,this._usualArgs(e))},ViewController.prototype._moveToSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.MoveToSelect,this._usualArgs(e))},ViewController.prototype._columnSelect=function(e,t,i){e=this._validateViewColumn(e),this._execMouseCommand(Ie.CoreNavigationCommands.ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})},ViewController.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(Ie.CoreNavigationCommands.CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},ViewController.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(e))},ViewController.prototype._wordSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.WordSelect,this._usualArgs(e))},ViewController.prototype._wordSelectDrag=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.WordSelectDrag,this._usualArgs(e))},ViewController.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(e))},ViewController.prototype._lineSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LineSelect,this._usualArgs(e))},ViewController.prototype._lineSelectDrag=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LineSelectDrag,this._usualArgs(e))},ViewController.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(e))},ViewController.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(Ie.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(e))},ViewController.prototype._selectAll=function(){this._execMouseCommand(Ie.CoreNavigationCommands.SelectAll,{})},ViewController.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},ViewController.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},ViewController.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},ViewController.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},ViewController.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},ViewController.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},ViewController.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},ViewController.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},ViewController.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},ViewController.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},ViewController.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},ViewController}(),Pe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),He=function(e){function ViewOutgoingEvents(t){var i=e.call(this)||this;return i.onDidContentSizeChange=null,i.onDidScroll=null,i.onDidGainFocus=null,i.onDidLoseFocus=null,i.onKeyDown=null,i.onKeyUp=null,i.onContextMenu=null,i.onMouseMove=null,i.onMouseLeave=null,i.onMouseUp=null,i.onMouseDown=null,i.onMouseDrag=null,i.onMouseDrop=null,i.onMouseWheel=null,i._viewModel=t,i}return Pe(ViewOutgoingEvents,e),ViewOutgoingEvents.prototype.emitContentSizeChange=function(e){this.onDidContentSizeChange&&this.onDidContentSizeChange(e)},ViewOutgoingEvents.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},ViewOutgoingEvents.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},ViewOutgoingEvents.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},ViewOutgoingEvents.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},ViewOutgoingEvents.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},ViewOutgoingEvents.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseWheel=function(e){this.onMouseWheel&&this.onMouseWheel(e)},ViewOutgoingEvents.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},ViewOutgoingEvents.prototype._convertViewToModelMouseTarget=function(e){return ViewOutgoingEvents.convertViewToModelMouseTarget(e,this._viewModel.coordinatesConverter)},ViewOutgoingEvents.convertViewToModelMouseTarget=function(e,t){return new Fe(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)},ViewOutgoingEvents}(a.a),Fe=function(){function ExternalMouseTarget(e,t,i,o,n,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=o,this.range=n,this.detail=r}return ExternalMouseTarget.prototype.toString=function(){return $.toString(this)},ExternalMouseTarget}(),ke=i("erNZ"),Be=function(){function RenderedLinesCollection(e){this._createLine=e,this._set(1,[])}return RenderedLinesCollection.prototype.flush=function(){this._set(1,[])},RenderedLinesCollection.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},RenderedLinesCollection.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},RenderedLinesCollection.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},RenderedLinesCollection.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},RenderedLinesCollection.prototype.getCount=function(){return this._lines.length},RenderedLinesCollection.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},RenderedLinesCollection.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var i=this.getStartLineNumber(),o=this.getEndLineNumber();if(t<i){var n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>o)return null;for(var r=0,s=0,a=i;a<=o;a++){var d=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===s?(r=d,s=1):s++)}if(e<i){var l=0;l=t<i?t-e+1:i-e,this._rendLineNumberStart-=l}return this._lines.splice(r,s)},RenderedLinesCollection.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var i=this.getStartLineNumber(),o=this.getEndLineNumber(),n=!1,r=e;r<=t;r++)r>=i&&r<=o&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),n=!0);return n},RenderedLinesCollection.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var i=t-e+1,o=this.getStartLineNumber(),n=this.getEndLineNumber();if(e<=o)return this._rendLineNumberStart+=i,null;if(e>n)return null;if(i+e>n)return this._lines.splice(e-this._rendLineNumberStart,n-e+1);for(var r=[],s=0;s<i;s++)r[s]=this._createLine();var a=e-this._rendLineNumberStart,d=this._lines.slice(0,a),l=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=d.concat(r).concat(l),u},RenderedLinesCollection.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(!(s.toLineNumber<t||s.fromLineNumber>i))for(var a=Math.max(t,s.fromLineNumber),d=Math.min(i,s.toLineNumber),l=a;l<=d;l++){var u=l-this._rendLineNumberStart;this._lines[u].onTokensChanged(),o=!0}}return o},RenderedLinesCollection}(),je=function(){function VisibleLinesCollection(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Be((function(){return t._host.createVisibleLine()}))}return VisibleLinesCollection.prototype._createDomNode=function(){var e=Object(h.b)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},VisibleLinesCollection.prototype.onConfigurationChanged=function(e){return!!e.hasChanged(107)},VisibleLinesCollection.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},VisibleLinesCollection.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},VisibleLinesCollection.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},VisibleLinesCollection.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},VisibleLinesCollection.prototype.onScrollChanged=function(e){return e.scrollTopChanged},VisibleLinesCollection.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},VisibleLinesCollection.prototype.onZonesChanged=function(e){return!0},VisibleLinesCollection.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},VisibleLinesCollection.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},VisibleLinesCollection.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},VisibleLinesCollection.prototype.renderLines=function(e){var t=this._linesCollection._get(),i=new ze(this.domNode.domNode,this._host,e),o={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},n=i.render(o,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)},VisibleLinesCollection}(),ze=function(){function ViewLayerRenderer(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}return ViewLayerRenderer.prototype.render=function(e,t,i,o){var n={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(n.rendLineNumberStart+n.linesLength-1<t||i<n.rendLineNumberStart){n.rendLineNumberStart=t,n.linesLength=i-t+1,n.lines=[];for(var r=t;r<=i;r++)n.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(n,!0,o),n}if(this._renderUntouchedLines(n,Math.max(t-n.rendLineNumberStart,0),Math.min(i-n.rendLineNumberStart,n.linesLength-1),o,t),n.rendLineNumberStart>t)(d=t)<=(s=Math.min(i,n.rendLineNumberStart-1))&&(this._insertLinesBefore(n,d,s,o,t),n.linesLength+=s-d+1);else if(n.rendLineNumberStart<t){(a=Math.min(n.linesLength,t-n.rendLineNumberStart))>0&&(this._removeLinesBefore(n,a),n.linesLength-=a)}if(n.rendLineNumberStart=t,n.rendLineNumberStart+n.linesLength-1<i)(d=n.rendLineNumberStart+n.linesLength)<=(s=i)&&(this._insertLinesAfter(n,d,s,o,t),n.linesLength+=s-d+1);else if(n.rendLineNumberStart+n.linesLength-1>i){var s,a,d=Math.max(0,i-n.rendLineNumberStart+1);(a=(s=n.linesLength-1)-d+1)>0&&(this._removeLinesAfter(n,a),n.linesLength-=a)}return this._finishRendering(n,!1,o),n},ViewLayerRenderer.prototype._renderUntouchedLines=function(e,t,i,o,n){for(var r=e.rendLineNumberStart,s=e.lines,a=t;a<=i;a++){var d=r+a;s[a].layoutLine(d,o[d-n])}},ViewLayerRenderer.prototype._insertLinesBefore=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)},ViewLayerRenderer.prototype._removeLinesBefore=function(e,t){for(var i=0;i<t;i++){var o=e.lines[i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(0,t)},ViewLayerRenderer.prototype._insertLinesAfter=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)},ViewLayerRenderer.prototype._removeLinesAfter=function(e,t){for(var i=e.linesLength-t,o=0;o<t;o++){var n=e.lines[i+o].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(i,t)},ViewLayerRenderer.prototype._finishRenderingNewLines=function(e,t,i,o){var n=this.domNode.lastChild;t||!n?this.domNode.innerHTML=i:n.insertAdjacentHTML("afterend",i);for(var r=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];o[s]&&(a.setDomNode(r),r=r.previousSibling)}},ViewLayerRenderer.prototype._finishRenderingInvalidLines=function(e,t,i){var o=document.createElement("div");o.innerHTML=t;for(var n=0;n<e.linesLength;n++){var r=e.lines[n];if(i[n]){var s=o.firstChild,a=r.getDomNode();a.parentNode.replaceChild(s,a),r.setDomNode(s)}}},ViewLayerRenderer.prototype._finishRendering=function(e,t,i){var o=ViewLayerRenderer._sb,n=e.linesLength,r=e.lines,s=e.rendLineNumberStart,a=[];o.reset();for(var d=!1,l=0;l<n;l++){var u=r[l];if(a[l]=!1,!u.getDomNode())u.renderLine(l+s,i[l],this.viewportData,o)&&(a[l]=!0,d=!0)}d&&this._finishRenderingNewLines(e,t,o.build(),a),o.reset();var c=!1,h=[];for(l=0;l<n;l++){u=r[l];if(h[l]=!1,!a[l])u.renderLine(l+s,i[l],this.viewportData,o)&&(h[l]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,o.build(),h)},ViewLayerRenderer._sb=Object(ke.a)(1e5),ViewLayerRenderer}(),Ue=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Ze=function(e){function ViewOverlays(t){var i=e.call(this,t)||this;return i._visibleLines=new je(i),i.domNode=i._visibleLines.domNode,i._dynamicOverlays=[],i._isFocused=!1,i.domNode.setClassName("view-overlays"),i}return Ue(ViewOverlays,e),ViewOverlays.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,i=this._dynamicOverlays.length;t<i;t++){if(this._dynamicOverlays[t].shouldRender())return!0}return!1},ViewOverlays.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,i=this._dynamicOverlays.length;t<i;t++){this._dynamicOverlays[t].dispose()}this._dynamicOverlays=[]},ViewOverlays.prototype.getDomNode=function(){return this.domNode},ViewOverlays.prototype.createVisibleLine=function(){return new Ke(this._context.configuration,this._dynamicOverlays)},ViewOverlays.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},ViewOverlays.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++){this._visibleLines.getVisibleLine(o).onConfigurationChanged(e)}return!0},ViewOverlays.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},ViewOverlays.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},ViewOverlays.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewOverlays.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewOverlays.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewOverlays.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},ViewOverlays.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewOverlays.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},ViewOverlays.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter((function(e){return e.shouldRender()})),i=0,o=t.length;i<o;i++){var n=t[i];n.prepareRender(e),n.onDidRender()}},ViewOverlays.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},ViewOverlays.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},ViewOverlays}(M),Ke=function(){function ViewOverlayLine(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(49),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return ViewOverlayLine.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},ViewOverlayLine.prototype.setDomNode=function(e){this._domNode=Object(h.b)(e)},ViewOverlayLine.prototype.onContentChanged=function(){},ViewOverlayLine.prototype.onTokensChanged=function(){},ViewOverlayLine.prototype.onConfigurationChanged=function(e){this._lineHeight=this._configuration.options.get(49)},ViewOverlayLine.prototype.renderLine=function(e,t,i,o){for(var n="",r=0,s=this._dynamicOverlays.length;r<s;r++){n+=this._dynamicOverlays[r].render(i.startLineNumber,e)}return this._renderedContent!==n&&(this._renderedContent=n,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(t)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(n),o.appendASCIIString("</div>"),!0)},ViewOverlayLine.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},ViewOverlayLine}(),qe=function(e){function ContentViewOverlays(t){var i=e.call(this,t)||this,o=i._context.configuration.options.get(107);return i._contentWidth=o.contentWidth,i.domNode.setHeight(0),i}return Ue(ContentViewOverlays,e),ContentViewOverlays.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options.get(107);return this._contentWidth=i.contentWidth,e.prototype.onConfigurationChanged.call(this,t)||!0},ContentViewOverlays.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},ContentViewOverlays.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},ContentViewOverlays}(Ze),Ge=function(e){function MarginViewOverlays(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._contentLeft=n.contentLeft,i.domNode.setClassName("margin-view-overlays"),i.domNode.setWidth(1),l.a.applyFontInfo(i.domNode,o.get(34)),i}return Ue(MarginViewOverlays,e),MarginViewOverlays.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;l.a.applyFontInfo(this.domNode,i.get(34));var o=i.get(107);return this._contentLeft=o.contentLeft,e.prototype.onConfigurationChanged.call(this,t)||!0},MarginViewOverlays.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},MarginViewOverlays.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)},MarginViewOverlays}(Ze),Ye=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Xe=function Xe(e,t){this.top=e,this.left=t},Je=function(e){function ViewContentWidgets(t,i){var o=e.call(this,t)||this;return o._viewDomNode=i,o._widgets={},o.domNode=Object(h.b)(document.createElement("div")),x.write(o.domNode,1),o.domNode.setClassName("contentWidgets"),o.domNode.setPosition("absolute"),o.domNode.setTop(0),o.overflowingContentWidgetsDomNode=Object(h.b)(document.createElement("div")),x.write(o.overflowingContentWidgetsDomNode,2),o.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),o}return Ye(ViewContentWidgets,e),ViewContentWidgets.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},ViewContentWidgets.prototype.onConfigurationChanged=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onConfigurationChanged(e)}return!0},ViewContentWidgets.prototype.onDecorationsChanged=function(e){return!0},ViewContentWidgets.prototype.onFlushed=function(e){return!0},ViewContentWidgets.prototype.onLineMappingChanged=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onLineMappingChanged(e)}return!0},ViewContentWidgets.prototype.onLinesChanged=function(e){return!0},ViewContentWidgets.prototype.onLinesDeleted=function(e){return!0},ViewContentWidgets.prototype.onLinesInserted=function(e){return!0},ViewContentWidgets.prototype.onScrollChanged=function(e){return!0},ViewContentWidgets.prototype.onZonesChanged=function(e){return!0},ViewContentWidgets.prototype.addWidget=function(e){var t=new Qe(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()},ViewContentWidgets.prototype.setWidgetPosition=function(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()},ViewContentWidgets.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t];delete this._widgets[t];var o=i.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},ViewContentWidgets.prototype.shouldSuppressMouseDownOnWidget=function(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown},ViewContentWidgets.prototype.onBeforeRender=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onBeforeRender(e)}},ViewContentWidgets.prototype.prepareRender=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].prepareRender(e)}},ViewContentWidgets.prototype.render=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].render(e)}},ViewContentWidgets}(M),Qe=function(){function Widget(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Object(h.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var o=this._context.configuration.options,n=o.get(107);this._fixedOverflowWidgets=o.get(29),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this._lineHeight=o.get(49),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return Widget.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;if(this._lineHeight=t.get(49),e.hasChanged(107)){var i=t.get(107);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}},Widget.prototype.onLineMappingChanged=function(e){this._setPosition(this._range)},Widget.prototype._setPosition=function(e){if(this._range=e,this._viewRange=null,this._range){var t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}},Widget.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},Widget.prototype.setPosition=function(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},Widget.prototype._layoutBoxInViewport=function(e,t,i,o,n){var r=e.top,s=r,a=t.top+this._lineHeight,d=r-o,l=s>=o,u=a,c=n.viewportHeight-a>=o,h=e.left,p=t.left;return h+i>n.scrollLeft+n.viewportWidth&&(h=n.scrollLeft+n.viewportWidth-i),p+i>n.scrollLeft+n.viewportWidth&&(p=n.scrollLeft+n.viewportWidth-i),h<n.scrollLeft&&(h=n.scrollLeft),p<n.scrollLeft&&(p=n.scrollLeft),{fitsAbove:l,aboveTop:d,aboveLeft:h,fitsBelow:c,belowTop:u,belowLeft:p}},Widget.prototype._layoutHorizontalSegmentInPage=function(e,t,i,o){var r,s=Math.max(0,t.left-o),a=Math.min(t.left+t.width+o,e.width),d=t.left+i-n.e.scrollX;d+o>a&&(d-=r=d-(a-o),i-=r);d<s&&(d-=r=d-s,i-=r);return[i,d]},Widget.prototype._layoutBoxInPage=function(e,t,i,o,r){var s=e.top-o,a=t.top+this._lineHeight,d=n.C(this._viewDomNode.domNode),l=d.top+s-n.e.scrollY,u=d.top+a-n.e.scrollY,c=n.y(document.body),h=this._layoutHorizontalSegmentInPage(c,d,e.left-r.scrollLeft+this._contentLeft,i),p=h[0],f=h[1],g=this._layoutHorizontalSegmentInPage(c,d,t.left-r.scrollLeft+this._contentLeft,i),m=g[0],_=g[1],v=l>=22,y=u+o<=c.height-22;return this._fixedOverflowWidgets?{fitsAbove:v,aboveTop:Math.max(l,22),aboveLeft:f,fitsBelow:y,belowTop:u,belowLeft:_}:{fitsAbove:v,aboveTop:Math.max(s,22),aboveLeft:p,fitsBelow:y,belowTop:a,belowLeft:m}},Widget.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new Xe(e.top,e.left+this._contentLeft)},Widget.prototype._getTopAndBottomLeft=function(e){if(!this._viewRange)return[null,null];var t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];for(var i=t[0],o=t[0],n=0,r=t;n<r.length;n++){var s=r[n];s.lineNumber<i.lineNumber&&(i=s),s.lineNumber>o.lineNumber&&(o=s)}for(var a=1073741824,d=0,l=i.ranges;d<l.length;d++){(p=l[d]).left<a&&(a=p.left)}for(var u=1073741824,c=0,h=o.ranges;c<h.length;c++){var p;(p=h[c]).left<u&&(u=p.left)}var f=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,g=new Xe(f,a),m=e.getVerticalOffsetForLineNumber(o.lineNumber)-e.scrollTop;return[g,new Xe(m,u)]},Widget.prototype._prepareRenderWidget=function(e){var t,i=this._getTopAndBottomLeft(e),o=i[0],n=i[1];if(!o||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){var r=this.domNode.domNode;this._cachedDomNodeClientWidth=r.clientWidth,this._cachedDomNodeClientHeight=r.clientHeight}if(t=this.allowEditorOverflow?this._layoutBoxInPage(o,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(o,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(var s=1;s<=2;s++)for(var a=0,d=this._preference;a<d.length;a++){var l=d[a];if(1===l){if(!t)return null;if(2===s||t.fitsAbove)return new Xe(t.aboveTop,t.aboveLeft)}else{if(2!==l)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(o):o;if(!t)return null;if(2===s||t.fitsBelow)return new Xe(t.belowTop,t.belowLeft)}}return null},Widget.prototype.onBeforeRender=function(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},Widget.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},Widget.prototype.render=function(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},Widget}(),$e=i("6OMU"),et=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),tt=!0,it=function(e){function AbstractLineHighlightOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._renderLineHighlight=o.get(72),i._contentLeft=n.contentLeft,i._contentWidth=n.contentWidth,i._selectionIsEmpty=!0,i._cursorLineNumbers=[],i._selections=[],i._renderData=null,i._context.addEventHandler(i),i}return et(AbstractLineHighlightOverlay,e),AbstractLineHighlightOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},AbstractLineHighlightOverlay.prototype._readFromSelections=function(){var e=!1,t=tt?this._selections.slice(0,1):this._selections,i=t.map((function(e){return e.positionLineNumber}));i.sort((function(e,t){return e-t})),$e.g(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);var o=t.every((function(e){return e.isEmpty()}));return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,e=!0),e},AbstractLineHighlightOverlay.prototype.onThemeChanged=function(e){return this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._renderLineHighlight=t.get(72),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0},AbstractLineHighlightOverlay.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onFlushed=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesDeleted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesInserted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onScrollChanged=function(e){return e.scrollWidthChanged||e.scrollTopChanged},AbstractLineHighlightOverlay.prototype.onZonesChanged=function(e){return!0},AbstractLineHighlightOverlay.prototype.prepareRender=function(e){if(this._shouldRenderThis()){for(var t=this._renderOne(e),i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,n=this._cursorLineNumbers.length,r=0,s=[],a=i;a<=o;a++){for(var d=a-i;r<n&&this._cursorLineNumbers[r]<a;)r++;r<n&&this._cursorLineNumbers[r]===a?s[d]=t:s[d]=""}this._renderData=s}else this._renderData=null},AbstractLineHighlightOverlay.prototype.render=function(e,t){if(!this._renderData)return"";var i=t-e;return i>=this._renderData.length?"":this._renderData[i]},AbstractLineHighlightOverlay}(Se),ot=function(e){function CurrentLineHighlightOverlay(){return null!==e&&e.apply(this,arguments)||this}return et(CurrentLineHighlightOverlay,e),CurrentLineHighlightOverlay.prototype._renderOne=function(e){return'<div class="'+("current-line"+(this._shouldRenderOther()?" current-line-both":""))+'" style="width:'+Math.max(e.scrollWidth,this._contentWidth)+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineHighlightOverlay.prototype._shouldRenderThis=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},CurrentLineHighlightOverlay.prototype._shouldRenderOther=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},CurrentLineHighlightOverlay}(it),nt=function(e){function CurrentLineMarginHighlightOverlay(){return null!==e&&e.apply(this,arguments)||this}return et(CurrentLineMarginHighlightOverlay,e),CurrentLineMarginHighlightOverlay.prototype._renderOne=function(e){return'<div class="'+("current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":""))+'" style="width:'+this._contentLeft+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineMarginHighlightOverlay.prototype._shouldRenderThis=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},CurrentLineMarginHighlightOverlay.prototype._shouldRenderOther=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},CurrentLineMarginHighlightOverlay}(it);Object(V.e)((function(e,t){tt=!1;var i=e.getColor(De.i);if(i&&(t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+i+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+i+"; border: none; }")),!i||i.isTransparent()||e.defines(De.j)){var o=e.getColor(De.j);o&&(tt=!0,t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+o+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+o+"; }"),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));var rt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),st=function(e){function DecorationsOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options;return i._lineHeight=o.get(49),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i._renderResult=null,i._context.addEventHandler(i),i}return rt(DecorationsOverlay,e),DecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},DecorationsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},DecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverlay.prototype.onFlushed=function(e){return!0},DecorationsOverlay.prototype.onLinesChanged=function(e){return!0},DecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},DecorationsOverlay.prototype.onLinesInserted=function(e){return!0},DecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},DecorationsOverlay.prototype.onZonesChanged=function(e){return!0},DecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n];s.options.className&&(i[o++]=s)}i=i.sort((function(e,t){if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;var i=e.options.className,o=t.options.className;return i<o?-1:i>o?1:Y.a.compareRangesUsingStarts(e.range,t.range)}));for(var a=e.visibleRange.startLineNumber,d=e.visibleRange.endLineNumber,l=[],u=a;u<=d;u++){l[u-a]=""}this._renderWholeLineDecorations(e,i,l),this._renderNormalDecorations(e,i,l),this._renderResult=l},DecorationsOverlay.prototype._renderWholeLineDecorations=function(e,t,i){for(var o=String(this._lineHeight),n=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var d=t[s];if(d.options.isWholeLine)for(var l='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+o+'px;"></div>',u=Math.max(d.range.startLineNumber,n),c=Math.min(d.range.endLineNumber,r),h=u;h<=c;h++){i[h-n]+=l}}},DecorationsOverlay.prototype._renderNormalDecorations=function(e,t,i){for(var o=String(this._lineHeight),n=e.visibleRange.startLineNumber,r=null,s=!1,a=null,d=0,l=t.length;d<l;d++){var u=t[d];if(!u.options.isWholeLine){var c=u.options.className,h=Boolean(u.options.showIfCollapsed),p=u.range;h&&1===p.endColumn&&p.endLineNumber!==p.startLineNumber&&(p=new Y.a(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1))),r===c&&s===h&&Y.a.areIntersectingOrTouching(a,p)?a=Y.a.plusRange(a,p):(null!==r&&this._renderNormalDecoration(e,a,r,s,o,n,i),r=c,s=h,a=p)}}null!==r&&this._renderNormalDecoration(e,a,r,s,o,n,i)},DecorationsOverlay.prototype._renderNormalDecoration=function(e,t,i,o,n,r,s){var a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(var d=0,l=a.length;d<l;d++){var u=a[d];if(!u.outsideRenderedLine){var c=u.lineNumber-r;if(o&&1===u.ranges.length){var h=u.ranges[0];0===h.width&&(u.ranges[0]=new R.b(h.left,this._typicalHalfwidthCharacterWidth))}for(var p=0,f=u.ranges.length;p<f;p++){var g=u.ranges[p],m='<div class="cdr '+i+'" style="left:'+String(g.left)+"px;width:"+String(g.width)+"px;height:"+n+'px;"></div>';s[c]+=m}}}},DecorationsOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},DecorationsOverlay}(Se),at=i("GJhM"),dt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),lt=function(e){function EditorScrollbar(t,i,o,r){var s=e.call(this,t)||this,a=s._context.configuration.options,d=a.get(78),l=a.get(56),u=a.get(27),c={listenOnDomNode:o.domNode,className:"editor-scrollable "+Object(V.d)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,alwaysConsumeMouseWheel:d.alwaysConsumeMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:l,fastScrollSensitivity:u};s.scrollbar=s._register(new at.c(i.domNode,c,s._context.viewLayout.getScrollable())),x.write(s.scrollbar.getDomNode(),5),s.scrollbarDomNode=Object(h.b)(s.scrollbar.getDomNode()),s.scrollbarDomNode.setPosition("absolute"),s._setLayout();var onBrowserDesperateReveal=function(e,t,i){var o={};if(t){var n=e.scrollTop;n&&(o.scrollTop=s._context.viewLayout.getCurrentScrollTop()+n,e.scrollTop=0)}if(i){var r=e.scrollLeft;r&&(o.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+r,e.scrollLeft=0)}s._context.viewLayout.setScrollPositionNow(o)};return s._register(n.j(o.domNode,"scroll",(function(e){return onBrowserDesperateReveal(o.domNode,!0,!0)}))),s._register(n.j(i.domNode,"scroll",(function(e){return onBrowserDesperateReveal(i.domNode,!0,!1)}))),s._register(n.j(r.domNode,"scroll",(function(e){return onBrowserDesperateReveal(r.domNode,!0,!1)}))),s._register(n.j(s.scrollbarDomNode.domNode,"scroll",(function(e){return onBrowserDesperateReveal(s.scrollbarDomNode.domNode,!0,!1)}))),s}return dt(EditorScrollbar,e),EditorScrollbar.prototype.dispose=function(){e.prototype.dispose.call(this)},EditorScrollbar.prototype._setLayout=function(){var e=this._context.configuration.options,t=e.get(107);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(54).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)},EditorScrollbar.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},EditorScrollbar.prototype.getDomNode=function(){return this.scrollbarDomNode},EditorScrollbar.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},EditorScrollbar.prototype.onConfigurationChanged=function(e){if(e.hasChanged(78)||e.hasChanged(56)||e.hasChanged(27)){var t=this._context.configuration.options,i=t.get(78),o=t.get(56),n=t.get(27),r={handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:n};this.scrollbar.updateOptions(r)}return e.hasChanged(107)&&this._setLayout(),!0},EditorScrollbar.prototype.onScrollChanged=function(e){return!0},EditorScrollbar.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(V.d)(this._context.theme.type)),!0},EditorScrollbar.prototype.prepareRender=function(e){},EditorScrollbar.prototype.render=function(e){this.scrollbar.renderNow()},EditorScrollbar}(M),ut=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ct=function ct(e,t,i){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)},ht=function(e){function DedupOverlay(){return null!==e&&e.apply(this,arguments)||this}return ut(DedupOverlay,e),DedupOverlay.prototype._render=function(e,t,i){for(var o=[],n=e;n<=t;n++){o[n-e]=[]}if(0===i.length)return o;i.sort((function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1}));for(var r=null,s=0,a=0,d=i.length;a<d;a++){var l=i[a],u=l.className,c=Math.max(l.startLineNumber,e)-e,h=Math.min(l.endLineNumber,t)-e;r===u?(c=Math.max(s+1,c),s=Math.max(s,h)):(r=u,s=h);for(var p=c;p<=s;p++)o[p].push(r)}return o},DedupOverlay}(Se),pt=function(e){function GlyphMarginOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._glyphMargin=o.get(40),i._glyphMarginLeft=n.glyphMarginLeft,i._glyphMarginWidth=n.glyphMarginWidth,i._renderResult=null,i._context.addEventHandler(i),i}return ut(GlyphMarginOverlay,e),GlyphMarginOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},GlyphMarginOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._glyphMargin=t.get(40),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0},GlyphMarginOverlay.prototype.onDecorationsChanged=function(e){return!0},GlyphMarginOverlay.prototype.onFlushed=function(e){return!0},GlyphMarginOverlay.prototype.onLinesChanged=function(e){return!0},GlyphMarginOverlay.prototype.onLinesDeleted=function(e){return!0},GlyphMarginOverlay.prototype.onLinesInserted=function(e){return!0},GlyphMarginOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},GlyphMarginOverlay.prototype.onZonesChanged=function(e){return!0},GlyphMarginOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.glyphMarginClassName;a&&(i[o++]=new ct(s.range.startLineNumber,s.range.endLineNumber,a))}return i},GlyphMarginOverlay.prototype.prepareRender=function(e){if(this._glyphMargin){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+n+'px;"></div>',s=[],a=t;a<=i;a++){var d=a-t,l=o[d];0===l.length?s[d]="":s[d]='<div class="cgmr codicon '+l.join(" ")+r}this._renderResult=s}else this._renderResult=null},GlyphMarginOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},GlyphMarginOverlay}(ht),ft=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),gt=function(e){function IndentGuidesOverlay(t){var i=e.call(this)||this;i._context=t,i._primaryLineNumber=0;var o=i._context.configuration.options,n=o.get(108),r=o.get(34);return i._lineHeight=o.get(49),i._spaceWidth=r.spaceWidth,i._enabled=o.get(70),i._activeIndentEnabled=o.get(43),i._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*r.typicalHalfwidthCharacterWidth,i._renderResult=null,i._context.addEventHandler(i),i}return ft(IndentGuidesOverlay,e),IndentGuidesOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},IndentGuidesOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(108),o=t.get(34);return this._lineHeight=t.get(49),this._spaceWidth=o.spaceWidth,this._enabled=t.get(70),this._activeIndentEnabled=t.get(43),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*o.typicalHalfwidthCharacterWidth,!0},IndentGuidesOverlay.prototype.onCursorStateChanged=function(e){var t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)},IndentGuidesOverlay.prototype.onDecorationsChanged=function(e){return!0},IndentGuidesOverlay.prototype.onFlushed=function(e){return!0},IndentGuidesOverlay.prototype.onLinesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLinesDeleted=function(e){return!0},IndentGuidesOverlay.prototype.onLinesInserted=function(e){return!0},IndentGuidesOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},IndentGuidesOverlay.prototype.onZonesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLanguageConfigurationChanged=function(e){return!0},IndentGuidesOverlay.prototype.prepareRender=function(e){if(this._enabled){var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._context.model.getOptions().indentSize*this._spaceWidth,n=e.scrollWidth,r=this._lineHeight,s=this._context.model.getLinesIndentGuides(t,i),a=0,d=0,l=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var u=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);a=u.startLineNumber,d=u.endLineNumber,l=u.indent}for(var c=[],h=t;h<=i;h++){var p=a<=h&&h<=d,f=h-t,g=s[f],m="";if(g>=1)for(var _=e.visibleRangeForPosition(new G.a(h,1)),v=_?_.left:0,y=1;y<=g;y++){if(m+='<div class="'+(p&&y===l?"cigra":"cigr")+'" style="left:'+v+"px;height:"+r+"px;width:"+o+'px"></div>',(v+=o)>n||this._maxIndentLeft>0&&v>this._maxIndentLeft)break}c[f]=m}this._renderResult=c}else this._renderResult=null},IndentGuidesOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},IndentGuidesOverlay}(Se);Object(V.e)((function(e,t){var i=e.getColor(De.h);i&&t.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+i+" inset; }");var o=e.getColor(De.a)||i;o&&t.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+o+" inset; }")}));var mt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),_t=function(){function LastRenderedData(){this._currentVisibleRange=new Y.a(1,1,1,1)}return LastRenderedData.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},LastRenderedData.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},LastRenderedData}(),vt=function vt(e,t,i,o,n,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=o,this.stopScrollTop=n,this.scrollType=r},yt=function(e){function ViewLines(t,i){var o=e.call(this,t)||this;o._linesContent=i,o._textRangeRestingSpot=document.createElement("div"),o._visibleLines=new je(o),o.domNode=o._visibleLines.domNode;var n=o._context.configuration,r=o._context.configuration.options,s=r.get(34),a=r.get(108);return o._lineHeight=r.get(49),o._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,o._isViewportWrapping=a.isViewportWrapping,o._revealHorizontalRightPadding=r.get(75),o._cursorSurroundingLines=r.get(19),o._cursorSurroundingLinesStyle=r.get(20),o._canUseLayerHinting=!r.get(22),o._viewLineOptions=new j(n,o._context.theme.type),x.write(o.domNode,7),o.domNode.setClassName("view-lines"),l.a.applyFontInfo(o.domNode,s),o._maxLineWidth=0,o._asyncUpdateLineWidths=new _.d((function(){o._updateLineWidthsSlow()}),200),o._lastRenderedData=new _t,o._horizontalRevealRequest=null,o}return mt(ViewLines,e),ViewLines.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},ViewLines.prototype.getDomNode=function(){return this.domNode},ViewLines.prototype.createVisibleLine=function(){return new z(this._viewLineOptions)},ViewLines.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(108)&&(this._maxLineWidth=0);var t=this._context.configuration.options,i=t.get(34),o=t.get(108);return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=t.get(75),this._cursorSurroundingLines=t.get(19),this._cursorSurroundingLinesStyle=t.get(20),this._canUseLayerHinting=!t.get(22),l.a.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(107)&&(this._maxLineWidth=0),!0},ViewLines.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new j(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),n=i;n<=o;n++){this._visibleLines.getVisibleLine(n).onOptionsChanged(this._viewLineOptions)}return!0}return!1},ViewLines.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=!1,n=t;n<=i;n++)o=this._visibleLines.getVisibleLine(n).onSelectionChanged()||o;return o},ViewLines.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged();return!0},ViewLines.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},ViewLines.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewLines.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewLines.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewLines.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new vt(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return 0===e.scrollType&&o>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},ViewLines.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},ViewLines.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewLines.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},ViewLines.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},ViewLines.prototype.getPositionFromDOMInfo=function(e,t){var i=this._getViewLineDomNode(e);if(null===i)return null;var o=this._getLineNumberFor(i);if(-1===o)return null;if(o<1||o>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(o))return new G.a(o,1);var n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(o<n||o>r)return null;var s=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,e,t),a=this._context.model.getLineMinColumn(o);return s<a&&(s=a),new G.a(o,s)},ViewLines.prototype._getViewLineDomNode=function(e){for(;e&&1===e.nodeType;){if(e.className===z.CLASS_NAME)return e;e=e.parentElement}return null},ViewLines.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++){if(e===this._visibleLines.getVisibleLine(o).getDomNode())return o}return-1},ViewLines.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()},ViewLines.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var i=e.endLineNumber,o=Y.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;var n=[],r=0,s=new B(this.domNode.domNode,this._textRangeRestingSpot),a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G.a(o.startLineNumber,1)).lineNumber);for(var d=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber(),u=o.startLineNumber;u<=o.endLineNumber;u++)if(!(u<d||u>l)){var c=u===o.startLineNumber?o.startColumn:1,h=u===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(u),p=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(c,h,s);if(p){if(t&&u<i)a!==(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new G.a(u+1,1)).lineNumber)&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth);n[r++]=new R.c(p.outsideRenderedLine,u,p.ranges)}}return 0===r?null:n},ViewLines.prototype._visibleRangesForLineRange=function(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new B(this.domNode.domNode,this._textRangeRestingSpot))},ViewLines.prototype.visibleRangeForPosition=function(e){var t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new R.a(t.outsideRenderedLine,t.ranges[0].left):null},ViewLines.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},ViewLines.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidths=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=1,n=!0,r=t;r<=i;r++){var s=this._visibleLines.getVisibleLine(r);!e||s.getWidthIsFast()?o=Math.max(o,s.getWidth()):n=!1}return n&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),n},ViewLines.prototype.prepareRender=function(){throw new Error("Not supported")},ViewLines.prototype.render=function(){throw new Error("Not supported")},ViewLines.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,o=this._horizontalRevealRequest.endColumn,n=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(t,i,o);this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===n?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var s=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},ViewLines.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},ViewLines.prototype._computeScrollTopToRevealRange=function(e,t,i,o){var n,r,s,a=e.top,d=e.height,l=a+d;if(n=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),r=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight,!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){var u=Math.min(d/this._lineHeight/2,this._cursorSurroundingLines);n-=u*this._lineHeight,r+=Math.max(0,u-1)*this._lineHeight}if(0!==o&&4!==o||(r+=this._lineHeight),r-n>d)s=n;else if(1===o||2===o)if(2===o&&a<=n&&r<=l)s=a;else{var c=(n+r)/2;s=Math.max(0,c-d/2)}else s=this._computeMinimumScrolling(a,l,n,r,3===o,4===o);return s},ViewLines.prototype._computeScrollLeftToRevealRange=function(e,t,i){var o=0,n=this._context.viewLayout.getCurrentViewport(),r=n.left,s=r+n.width,a=this._visibleRangesForLineRange(e,t,i),d=1073741824,l=0;if(!a)return{scrollLeft:r,maxHorizontalOffset:o};for(var u=0,c=a.ranges;u<c.length;u++){var h=c[u];h.left<d&&(d=h.left),h.left+h.width>l&&(l=h.left+h.width)}return o=l,d=Math.max(0,d-ViewLines.HORIZONTAL_EXTRA_PX),l+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(r,s,d,l),maxHorizontalOffset:o}},ViewLines.prototype._computeMinimumScrolling=function(e,t,i,o,n,r){n=!!n,r=!!r;var s=(t|=0)-(e|=0);return(o|=0)-(i|=0)<s?n?i:r?Math.max(0,o-s):i<e?i:o>t?Math.max(0,o-s):e:i},ViewLines.HORIZONTAL_EXTRA_PX=30,ViewLines}(M),Ct=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),wt=function(e){function LinesDecorationsOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options.get(107);return i._decorationsLeft=o.decorationsLeft,i._decorationsWidth=o.decorationsWidth,i._renderResult=null,i._context.addEventHandler(i),i}return Ct(LinesDecorationsOverlay,e),LinesDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},LinesDecorationsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(107);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0},LinesDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onFlushed=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},LinesDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LinesDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},LinesDecorationsOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.linesDecorationsClassName;a&&(i[o++]=new ct(s.range.startLineNumber,s.range.endLineNumber,a))}return i},LinesDecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[],s=t;s<=i;s++){for(var a=s-t,d=o[a],l="",u=0,c=d.length;u<c;u++)l+='<div class="cldr '+d[u]+n;r[a]=l}this._renderResult=r},LinesDecorationsOverlay.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},LinesDecorationsOverlay}(ht),bt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),St=function(e){function MarginViewLineDecorationsOverlay(t){var i=e.call(this)||this;return i._context=t,i._renderResult=null,i._context.addEventHandler(i),i}return bt(MarginViewLineDecorationsOverlay,e),MarginViewLineDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},MarginViewLineDecorationsOverlay.prototype.onConfigurationChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onFlushed=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},MarginViewLineDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.marginClassName;a&&(i[o++]=new ct(s.range.startLineNumber,s.range.endLineNumber,a))}return i},MarginViewLineDecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n=[],r=t;r<=i;r++){for(var s=r-t,a=o[s],d="",l=0,u=a.length;l<u;l++)d+='<div class="cmdr '+a[l]+'" style=""></div>';n[s]=d}this._renderResult=n},MarginViewLineDecorationsOverlay.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},MarginViewLineDecorationsOverlay}(ht),Dt=i("/2ze"),Lt=i("MD5Z"),Et=function(){for(var e=[],t=32;t<=126;t++)e.push(t);return e.push(65533),e}(),Nt=function(){function MinimapCharRenderer(e,t){this.scale=t,this.charDataNormal=MinimapCharRenderer.soften(e,.8),this.charDataLight=MinimapCharRenderer.soften(e,50/60)}return MinimapCharRenderer.soften=function(e,t){for(var i=new Uint8ClampedArray(e.length),o=0,n=e.length;o<n;o++)i[o]=e[o]*t;return i},MinimapCharRenderer.prototype.renderChar=function(e,t,i,o,n,r,s,a){var d=1*this.scale,l=2*this.scale;if(t+d>e.width||i+l>e.height)console.warn("bad render request outside image data");else for(var u=a?this.charDataLight:this.charDataNormal,c=function(e,t){return(e-=32)<0||e>96?t<=2?(e+96)%96:95:e}(o,s),h=4*e.width,p=r.r,f=r.g,g=r.b,m=n.r-p,_=n.g-f,v=n.b-g,y=e.data,C=c*d*l,w=i*h+4*t,b=0;b<l;b++){for(var S=w,D=0;D<d;D++){var L=u[C++]/255;y[S++]=p+m*L,y[S++]=f+_*L,y[S++]=g+v*L,S++}w+=h}},MinimapCharRenderer.prototype.blockRenderChar=function(e,t,i,o,n,r){var s=1*this.scale,a=2*this.scale;if(t+s>e.width||i+a>e.height)console.warn("bad render request outside image data");else for(var d=4*e.width,l=n.r,u=n.g,c=n.b,h=l+.5*(o.r-l),p=u+.5*(o.g-u),f=c+.5*(o.b-c),g=e.data,m=i*d+4*t,_=0;_<a;_++){for(var v=m,y=0;y<s;y++)g[v++]=h,g[v++]=p,g[v++]=f,v++;m+=d}},MinimapCharRenderer}(),Ot=i("C/vA"),Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},decodeData=function(e){for(var t=new Uint8ClampedArray(e.length/2),i=0;i<e.length;i+=2)t[i>>1]=Mt[e[i]]<<4|15&Mt[e[i+1]];return t},xt={1:Object(Ot.a)((function(){return decodeData("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")})),2:Object(Ot.a)((function(){return decodeData("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")}))},Rt=function(){function MinimapCharRendererFactory(){}return MinimapCharRendererFactory.create=function(e,t){return this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily?this.lastCreated:(i=xt[e]?new Nt(xt[e](),e):MinimapCharRendererFactory.createFromSampleData(MinimapCharRendererFactory.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i);var i},MinimapCharRendererFactory.createSampleData=function(e){var t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font="bold 16px "+e,i.textBaseline="middle";for(var o=0,n=0,r=Et;n<r.length;n++){var s=r[n];i.fillText(String.fromCharCode(s),o,8),o+=10}return i.getImageData(0,0,960,16)},MinimapCharRendererFactory.createFromSampleData=function(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");var i=MinimapCharRendererFactory._downsample(e,t);return new Nt(i,t)},MinimapCharRendererFactory._downsampleChar=function(e,t,i,o,n){for(var r=1*n,s=2*n,a=o,d=0,l=0;l<s;l++)for(var u=l/s*16,c=(l+1)/s*16,h=0;h<r;h++){for(var p=h/r*10,f=(h+1)/r*10,g=0,m=0,_=u;_<c;_++)for(var v=t+3840*Math.floor(_),y=1-(_-Math.floor(_)),C=p;C<f;C++){var w=1-(C-Math.floor(C)),b=v+4*Math.floor(C),S=w*y;m+=S,g+=e[b]*e[b+3]/255*S}var D=g/m;d=Math.max(d,D),i[a++]=D}return d},MinimapCharRendererFactory._downsample=function(e,t){for(var i=2*t*1*t,o=96*i,n=new Uint8ClampedArray(o),r=0,s=0,a=0,d=0;d<96;d++)a=Math.max(a,this._downsampleChar(e,s,n,r,t)),r+=i,s+=40;if(a>0)for(var l=255/a,u=0;u<o;u++)n[u]*=l;return n},MinimapCharRendererFactory}(),Tt=i("M1Kb"),Wt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function getMinimapLineHeight(e,t){return 1===e?2*t:3*t}function getMinimapCharWidth(e,t){return 1*t}var At=function(){function MinimapOptions(e){var t=this,i=e.options,o=i.get(105),n=i.get(107),r=i.get(34);this.renderMinimap=0|n.renderMinimap,this.scrollBeyondLastLine=i.get(80);var s=i.get(54);this.showSlider=s.showSlider,this.fontScale=Math.round(s.scale*o),this.charRenderer=Object(Ot.a)((function(){return Rt.create(t.fontScale,r.fontFamily)})),this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this.lineHeight=i.get(49),this.minimapLeft=n.minimapLeft,this.minimapWidth=n.minimapWidth,this.minimapHeight=n.height,this.canvasInnerWidth=Math.floor(o*this.minimapWidth),this.canvasInnerHeight=Math.floor(o*this.minimapHeight),this.canvasOuterWidth=this.canvasInnerWidth/o,this.canvasOuterHeight=this.canvasInnerHeight/o}return MinimapOptions.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.fontScale===e.fontScale&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},MinimapOptions}(),It=function(){function MinimapLayout(e,t,i,o,n,r,s){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=i,this.sliderTop=o,this.sliderHeight=n,this.startLineNumber=r,this.endLineNumber=s}return MinimapLayout.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},MinimapLayout.prototype.getDesiredScrollTopFromTouchLocation=function(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)},MinimapLayout.create=function(e,t,i,o,n,r,s,a,d){var l,u,c=e.pixelRatio,h=getMinimapLineHeight(e.renderMinimap,e.fontScale),p=Math.floor(e.canvasInnerHeight/h),f=e.lineHeight;if(n&&i!==r){var g=i-t+1;l=Math.floor(g*h/c)}else{var m=o/f;l=Math.floor(m*h/c)}u=e.scrollBeyondLastLine?(r-1)*h/c:Math.max(0,r*h/c-l);var _=(u=Math.min(e.minimapHeight-l,u))/(a-o),v=s*_,y=0;e.scrollBeyondLastLine&&(y=m=o/f);if(p>=r+y)return new MinimapLayout(s,a,_,v,l,C=1,r);var C=Math.max(1,Math.floor(t-v*c/h));return d&&d.scrollHeight===a&&(d.scrollTop>s&&(C=Math.min(C,d.startLineNumber)),d.scrollTop<s&&(C=Math.max(C,d.startLineNumber))),new MinimapLayout(s,a,_,v,l,C,Math.min(r,C+p-1))},MinimapLayout}(),Vt=function(){function MinimapLine(e){this.dy=e}return MinimapLine.prototype.onContentChanged=function(){this.dy=-1},MinimapLine.prototype.onTokensChanged=function(){this.dy=-1},MinimapLine.INVALID=new MinimapLine(-1),MinimapLine}(),Pt=function(){function RenderData(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Be((function(){return Vt.INVALID})),this._renderedLines._set(e.startLineNumber,i)}return RenderData.prototype.linesEquals=function(e){if(!this.scrollEquals(e))return!1;for(var t=this._renderedLines._get().lines,i=0,o=t.length;i<o;i++)if(-1===t[i].dy)return!1;return!0},RenderData.prototype.scrollEquals=function(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber},RenderData.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},RenderData.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},RenderData}(),Ht=function(){function MinimapBuffers(e,t,i,o){this._backgroundFillData=MinimapBuffers._createBackgroundFillData(t,i,o),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}return MinimapBuffers.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},MinimapBuffers._createBackgroundFillData=function(e,t,i){for(var o=i.r,n=i.g,r=i.b,s=new Uint8ClampedArray(e*t*4),a=0,d=0;d<t;d++)for(var l=0;l<e;l++)s[a]=o,s[a+1]=n,s[a+2]=r,s[a+3]=255,a+=4;return s},MinimapBuffers}(),Ft=function(e){function Minimap(t){var i=e.call(this,t)||this;return i._selections=[],i._renderDecorations=!1,i._gestureInProgress=!1,i._options=new At(i._context.configuration),i._lastRenderData=null,i._buffers=null,i._selectionColor=i._context.theme.getColor(Lt.Ib),i._domNode=Object(h.b)(document.createElement("div")),x.write(i._domNode,8),i._domNode.setClassName(i._getMinimapDomNodeClassName()),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._shadow=Object(h.b)(document.createElement("div")),i._shadow.setClassName("minimap-shadow-hidden"),i._domNode.appendChild(i._shadow),i._canvas=Object(h.b)(document.createElement("canvas")),i._canvas.setPosition("absolute"),i._canvas.setLeft(0),i._domNode.appendChild(i._canvas),i._decorationsCanvas=Object(h.b)(document.createElement("canvas")),i._decorationsCanvas.setPosition("absolute"),i._decorationsCanvas.setClassName("minimap-decorations-layer"),i._decorationsCanvas.setLeft(0),i._domNode.appendChild(i._decorationsCanvas),i._slider=Object(h.b)(document.createElement("div")),i._slider.setPosition("absolute"),i._slider.setClassName("minimap-slider"),i._slider.setLayerHinting(!0),i._slider.setContain("strict"),i._domNode.appendChild(i._slider),i._sliderHorizontal=Object(h.b)(document.createElement("div")),i._sliderHorizontal.setPosition("absolute"),i._sliderHorizontal.setClassName("minimap-slider-horizontal"),i._slider.appendChild(i._sliderHorizontal),i._tokensColorTracker=Dt.a.getInstance(),i._applyLayout(),i._mouseDownListener=n.o(i._domNode.domNode,"mousedown",(function(e){e.preventDefault();var t=i._options.renderMinimap;if(0!==t&&i._lastRenderData){var o=getMinimapLineHeight(t,i._options.fontScale),n=i._options.pixelRatio*e.browserEvent.offsetY,r=Math.floor(n/o)+i._lastRenderData.renderedLayout.startLineNumber;r=Math.min(r,i._context.model.getLineCount()),i._context.privateViewEventBus.emit(new xe.m("mouse",new Y.a(r,1,r,1),1,!1,0))}})),i._sliderMouseMoveMonitor=new v.a,i._sliderMouseDownListener=n.o(i._slider.domNode,"mousedown",(function(e){if(e.preventDefault(),e.stopPropagation(),e.leftButton&&i._lastRenderData){var t=e.posy,o=e.posx,n=i._lastRenderData.renderedLayout;i._slider.toggleClassName("active",!0),i._sliderMouseMoveMonitor.startMonitoring(e.target,e.buttons,v.b,(function(e){var r=Math.abs(e.posx-o);if(p.h&&r>140)i._context.viewLayout.setScrollPositionNow({scrollTop:n.scrollTop});else{var s=e.posy-t;i._context.viewLayout.setScrollPositionNow({scrollTop:n.getDesiredScrollTopFromDelta(s)})}}),(function(){i._slider.toggleClassName("active",!1)}))}})),i._gestureDisposable=f.b.addTarget(i._domNode.domNode),i._sliderTouchStartListener=n.j(i._domNode.domNode,f.a.Start,(function(e){e.preventDefault(),e.stopPropagation(),i._lastRenderData&&(i._slider.toggleClassName("active",!0),i._gestureInProgress=!0,i.scrollDueToTouchEvent(e))})),i._sliderTouchMoveListener=n.o(i._domNode.domNode,f.a.Change,(function(e){e.preventDefault(),e.stopPropagation(),i._lastRenderData&&i._gestureInProgress&&i.scrollDueToTouchEvent(e)})),i._sliderTouchEndListener=n.o(i._domNode.domNode,f.a.End,(function(e){e.preventDefault(),e.stopPropagation(),i._gestureInProgress=!1,i._slider.toggleClassName("active",!1)})),i}return Wt(Minimap,e),Minimap.prototype.scrollDueToTouchEvent=function(e){var t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._context.viewLayout.setScrollPositionNow({scrollTop:i})},Minimap.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),e.prototype.dispose.call(this)},Minimap.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},Minimap.prototype.getDomNode=function(){return this._domNode},Minimap.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},Minimap.prototype._getBuffer=function(){return this._buffers||this._options.canvasInnerWidth>0&&this._options.canvasInnerHeight>0&&(this._buffers=new Ht(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers?this._buffers.getBuffer():null},Minimap.prototype._onOptionsMaybeChanged=function(){var e=new At(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},Minimap.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},Minimap.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._renderDecorations=!0,!0},Minimap.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},Minimap.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},Minimap.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},Minimap.prototype.onScrollChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},Minimap.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},Minimap.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onDecorationsChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onThemeChanged=function(e){return this._context.model.invalidateMinimapColorCache(),this._selectionColor=this._context.theme.getColor(Lt.Ib),this._renderDecorations=!0,!0},Minimap.prototype.prepareRender=function(e){},Minimap.prototype.render=function(e){if(0===this._options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var t=It.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);var i=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,o=Math.min(this._options.minimapWidth,Math.round(i*getMinimapCharWidth(this._options.renderMinimap,this._options.fontScale)/this._options.pixelRatio));this._sliderHorizontal.setLeft(o),this._sliderHorizontal.setWidth(this._options.minimapWidth-o),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)},Minimap.prototype.renderDecorations=function(e){if(this._renderDecorations){this._renderDecorations=!1;var t=this._context.model.getDecorationsInViewport(new Y.a(e.startLineNumber,1,e.endLineNumber,this._context.model.getLineMaxColumn(e.endLineNumber))),i=this._options,o=i.renderMinimap,n=i.canvasInnerWidth,r=i.canvasInnerHeight,s=getMinimapLineHeight(o,this._options.fontScale),a=getMinimapCharWidth(0,this._options.fontScale),d=this._context.model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,r);for(var u=new Map,c=0;c<this._selections.length;c++)for(var h=this._selections[c],p=h.startLineNumber;p<=h.endLineNumber;p++)this.renderDecorationOnLine(l,u,h,this._selectionColor,e,p,s,s,d,a);for(c=0;c<t.length;c++){var f=t[c];if(f.options.minimap){var g=f.options.minimap.getColor(this._context.theme);for(p=f.range.startLineNumber;p<=f.range.endLineNumber;p++)switch(f.options.minimap.position){case Tt.c.Inline:this.renderDecorationOnLine(l,u,f.range,g,e,p,s,s,d,a);continue;case Tt.c.Gutter:var m=(p-e.startLineNumber)*s;this.renderDecoration(l,g,2,m,2,s);continue}}}}},Minimap.prototype.renderDecorationOnLine=function(e,t,i,o,n,r,s,a,d,l){var u=(r-n.startLineNumber)*a;if(!(u+s<0||u>this._options.canvasInnerHeight)){var c=t.get(r),h=!c;if(!c){var p=this._context.model.getLineContent(r);c=[P.f];for(var f=1;f<p.length+1;f++){var g=p.charCodeAt(f-1),m=9===g?d*l:ye.y(g)?2*l:l;c[f]=c[f-1]+m}t.set(r,c)}var _=i.startColumn,v=i.endColumn,y=i.startLineNumber,C=i.endLineNumber,w=y===r?c[_-1]:P.f,b=C>r?c.length-1:v-1;if(b>0){var S=c[b]-w||2;this.renderDecoration(e,o,w,u,S,s)}h&&this.renderLineHighlight(e,o,u,s)}},Minimap.prototype.renderLineHighlight=function(e,t,i,o){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(P.f,i,e.canvas.width,o)},Minimap.prototype.renderDecoration=function(e,t,i,o,n,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,o,n,r)},Minimap.prototype.renderLines=function(e){var t=this._options.renderMinimap,i=this._options.charRenderer(),o=e.startLineNumber,n=e.endLineNumber,r=getMinimapLineHeight(t,this._options.fontScale);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var s=this._lastRenderData._get();return new Pt(e,s.imageData,s.lines)}var a=this._getBuffer();if(!a)return null;for(var d=Minimap._renderUntouchedLines(a,o,n,r,this._lastRenderData),l=d[0],u=d[1],c=d[2],h=this._context.model.getMinimapLinesRenderingData(o,n,c),p=h.tabSize,f=this._tokensColorTracker.getColor(2),g=this._tokensColorTracker.backgroundIsLight(),m=0,_=[],v=0,y=n-o+1;v<y;v++)c[v]&&Minimap._renderLine(a,f,g,t,this._tokensColorTracker,i,m,p,h.data[v],this._options.fontScale),_[v]=new Vt(m),m+=r;var C=-1===l?0:l,w=(-1===u?a.height:u)-C;return this._canvas.domNode.getContext("2d").putImageData(a,0,0,0,C,a.width,w),new Pt(e,a,_)},Minimap._renderUntouchedLines=function(e,t,i,o,n){var r=[];if(!n){for(var s=0,a=i-t+1;s<a;s++)r[s]=!0;return[-1,-1,r]}for(var d=n._get(),l=d.imageData.data,u=d.rendLineNumberStart,c=d.lines,h=c.length,p=e.width,f=e.data,g=(i-t+1)*o*p*4,m=-1,_=-1,v=-1,y=-1,C=-1,w=-1,b=0,S=t;S<=i;S++){var D=S-t,L=S-u,E=L>=0&&L<h?c[L].dy:-1;if(-1!==E){var N=E*p*4,O=(E+o)*p*4,M=b*p*4,x=(b+o)*p*4;y===N&&w===M?(y=O,w=x):(-1!==v&&(f.set(l.subarray(v,y),C),-1===m&&0===v&&v===C&&(m=y),-1===_&&y===g&&v===C&&(_=v)),v=N,y=O,C=M,w=x),r[D]=!1,b+=o}else r[D]=!0,b+=o}return-1!==v&&(f.set(l.subarray(v,y),C),-1===m&&0===v&&v===C&&(m=y),-1===_&&y===g&&v===C&&(_=v)),[-1===m?-1:m/(4*p),-1===_?-1:_/(4*p),r]},Minimap._renderLine=function(e,t,i,o,n,r,s,a,d,l){for(var u=d.content,c=d.tokens,h=getMinimapCharWidth(0,l),p=e.width-h,f=P.f,g=0,m=0,_=0,v=c.getCount();_<v;_++)for(var y=c.getEndOffset(_),C=c.getForeground(_),w=n.getColor(C);g<y;g++){if(f>p)return;var b=u.charCodeAt(g);if(9===b){var S=a-(g+m)%a;m+=S-1,f+=S*h}else if(32===b)f+=h;else for(var D=ye.y(b)?2:1,L=0;L<D;L++)if(2===o?r.blockRenderChar(e,f,s,w,t,i):r.renderChar(e,f,s,b,w,t,l,i),(f+=h)>p)return}},Minimap}(M);Object(V.e)((function(e,t){var i=e.getColor(Lt.Xb);if(i){var o=i.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+o+"; }")}var n=e.getColor(Lt.Yb);if(n){var r=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+r+"; }")}var s=e.getColor(Lt.Wb);if(s){var a=s.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var d=e.getColor(Lt.Vb);d&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+d+" -6px 0 6px -6px inset; }")}));var kt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Bt=function(e){function ViewOverlayWidgets(t){var i=e.call(this,t)||this,o=i._context.configuration.options.get(107);return i._widgets={},i._verticalScrollbarWidth=o.verticalScrollbarWidth,i._minimapWidth=o.minimapWidth,i._horizontalScrollbarHeight=o.horizontalScrollbarHeight,i._editorHeight=o.height,i._editorWidth=o.width,i._domNode=Object(h.b)(document.createElement("div")),x.write(i._domNode,4),i._domNode.setClassName("overlayWidgets"),i}return kt(ViewOverlayWidgets,e),ViewOverlayWidgets.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},ViewOverlayWidgets.prototype.getDomNode=function(){return this._domNode},ViewOverlayWidgets.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(107);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0},ViewOverlayWidgets.prototype.addWidget=function(e){var t=Object(h.b)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()},ViewOverlayWidgets.prototype.setWidgetPosition=function(e,t){var i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)},ViewOverlayWidgets.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t].domNode.domNode;delete this._widgets[t],i.parentNode.removeChild(i),this.setShouldRender()}},ViewOverlayWidgets.prototype._renderWidget=function(e){var t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){var i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()},ViewOverlayWidgets.prototype.prepareRender=function(e){},ViewOverlayWidgets.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);for(var t=Object.keys(this._widgets),i=0,o=t.length;i<o;i++){var n=t[i];this._renderWidget(this._widgets[n])}},ViewOverlayWidgets}(M),jt=i("zrhQ"),zt=i("twdY"),Ut=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Zt=function(){function Settings(e,t){var i=e.options;this.lineHeight=i.get(49),this.pixelRatio=i.get(105),this.overviewRulerLanes=i.get(63),this.renderBorder=i.get(62);var o=t.getColor(De.l);this.borderColor=o?o.toString():null,this.hideCursor=i.get(42);var n=t.getColor(De.g);this.cursorColor=n?n.transparent(.7).toString():null,this.themeType=t.type;var r=i.get(54),s=r.enabled,a=r.side,d=s?zt.B.getDefaultBackground():null;this.backgroundColor=null===d||"left"===a?null:jt.a.Format.CSS.formatHex(d);var l=i.get(107).overviewRuler;this.top=l.top,this.right=l.right,this.domWidth=l.width,this.domHeight=l.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var u=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),c=u[0],h=u[1];this.x=c,this.w=h}return Settings.prototype._initLanes=function(e,t,i){var o=t-e;if(i>=3){var n,r,s,a=o-(n=Math.floor(o/3))-(r=Math.floor(o/3)),d=(s=e)+n;return[[0,s,d,s,s+n+a,s,d,s],[0,n,a,n+a,r,n+a+r,a+r,n+a+r]]}if(2===i)return[[0,s=e,s,s,s+(n=Math.floor(o/2)),s,s,s],[0,n,n,n,r=o-n,n+r,n+r,n+r]];return[[0,e,e,e,e,e,e,e],[0,o,o,o,o,o,o,o]]},Settings.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},Settings}(),Kt=function(e){function DecorationsOverviewRuler(t){var i=e.call(this,t)||this;return i._domNode=Object(h.b)(document.createElement("canvas")),i._domNode.setClassName("decorationsOverviewRuler"),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._domNode.setContain("strict"),i._domNode.setAttribute("aria-hidden","true"),i._updateSettings(!1),i._tokensColorTrackerListener=zt.B.onDidChange((function(e){e.changedColorMap&&i._updateSettings(!0)})),i._cursorPositions=[],i}return Ut(DecorationsOverviewRuler,e),DecorationsOverviewRuler.prototype.dispose=function(){e.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},DecorationsOverviewRuler.prototype._updateSettings=function(e){var t=new Zt(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)},DecorationsOverviewRuler.prototype.onConfigurationChanged=function(e){return this._updateSettings(!1)},DecorationsOverviewRuler.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(G.a.compare),!0},DecorationsOverviewRuler.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onFlushed=function(e){return!0},DecorationsOverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},DecorationsOverviewRuler.prototype.onZonesChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onThemeChanged=function(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},DecorationsOverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},DecorationsOverviewRuler.prototype.prepareRender=function(e){},DecorationsOverviewRuler.prototype.render=function(e){this._render()},DecorationsOverviewRuler.prototype._render=function(){if(0!==this._settings.overviewRulerLanes){var e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,o=this._context.viewLayout,n=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,d=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?d.clearRect(0,0,e,t):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,e,t));var l=this._settings.x,u=this._settings.w,c=Object.keys(r);c.sort();for(var h=0,p=c.length;h<p;h++){var f=c[h],g=r[f];d.fillStyle=f;for(var m=0,_=0,v=0,y=0,C=g.length;y<C;y++){var w=g[3*y],b=g[3*y+1],S=g[3*y+2],D=o.getVerticalOffsetForLineNumber(b)*n|0;if((R=(o.getVerticalOffsetForLineNumber(S)+i)*n|0)-D<s)(M=(D+R)/2|0)<a?M=a:M+a>t&&(M=t-a),D=M-a,R=M+a;D>v+1||w!==m?(0!==y&&d.fillRect(l[m],_,u[m],v-_),m=w,_=D,v=R):R>v&&(v=R)}d.fillRect(l[m],_,u[m],v-_)}if(!this._settings.hideCursor&&this._settings.cursorColor){var L=2*this._settings.pixelRatio|0,E=L/2|0,N=this._settings.x[7],O=this._settings.w[7];d.fillStyle=this._settings.cursorColor;for(_=-100,v=-100,y=0,C=this._cursorPositions.length;y<C;y++){var M,x=this._cursorPositions[y];(M=o.getVerticalOffsetForLineNumber(x.lineNumber)*n|0)<E?M=E:M+E>t&&(M=t-E);var R=(D=M-E)+L;D>v+1?(0!==y&&d.fillRect(N,_,O,v-_),_=D,v=R):R>v&&(v=R)}d.fillRect(N,_,O,v-_)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,t),d.stroke(),d.moveTo(0,0),d.lineTo(e,0),d.stroke())}else this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"")},DecorationsOverviewRuler}(M),qt=i("MvK1"),Gt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Yt=function(e){function OverviewRuler(t,i){var o=e.call(this)||this;o._context=t;var n=o._context.configuration.options;return o._domNode=Object(h.b)(document.createElement("canvas")),o._domNode.setClassName(i),o._domNode.setPosition("absolute"),o._domNode.setLayerHinting(!0),o._domNode.setContain("strict"),o._zoneManager=new qt.b((function(e){return o._context.viewLayout.getVerticalOffsetForLineNumber(e)})),o._zoneManager.setDOMWidth(0),o._zoneManager.setDOMHeight(0),o._zoneManager.setOuterHeight(o._context.viewLayout.getScrollHeight()),o._zoneManager.setLineHeight(n.get(49)),o._zoneManager.setPixelRatio(n.get(105)),o._context.addEventHandler(o),o}return Gt(OverviewRuler,e),OverviewRuler.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},OverviewRuler.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return e.hasChanged(49)&&(this._zoneManager.setLineHeight(t.get(49)),this._render()),e.hasChanged(105)&&(this._zoneManager.setPixelRatio(t.get(105)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},OverviewRuler.prototype.onFlushed=function(e){return this._render(),!0},OverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},OverviewRuler.prototype.onZonesChanged=function(e){return this._render(),!0},OverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},OverviewRuler.prototype.setLayout=function(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,(t=this._zoneManager.setDOMHeight(e.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},OverviewRuler.prototype.setZones=function(e){this._zoneManager.setZones(e),this._render()},OverviewRuler.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),o=this._zoneManager.getId2Color(),n=this._domNode.domNode.getContext("2d");return n.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(n,i,o,e),!0},OverviewRuler.prototype._renderOneLane=function(e,t,i,o){for(var n=0,r=0,s=0,a=0,d=t;a<d.length;a++){var l=d[a],u=l.colorId,c=l.from,h=l.to;u!==n?(e.fillRect(0,r,o,s-r),n=u,e.fillStyle=i[n],r=c,s=h):s>=c?s=Math.max(s,h):(e.fillRect(0,r,o,s-r),r=c,s=h)}e.fillRect(0,r,o,s-r)},OverviewRuler}(N.a),Xt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Jt=function(e){function Rulers(t){var i=e.call(this,t)||this;i.domNode=Object(h.b)(document.createElement("div")),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i.domNode.setClassName("view-rulers"),i._renderedRulers=[];var o=i._context.configuration.options;return i._rulers=o.get(77),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i}return Xt(Rulers,e),Rulers.prototype.dispose=function(){e.prototype.dispose.call(this)},Rulers.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._rulers=t.get(77),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},Rulers.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},Rulers.prototype.prepareRender=function(e){},Rulers.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t)for(var i=this._context.model.getOptions().tabSize,o=t-e;o>0;){(r=Object(h.b)(document.createElement("div"))).setClassName("view-ruler"),r.setWidth(i),this.domNode.appendChild(r),this._renderedRulers.push(r),o--}else for(var n=e-t;n>0;){var r=this._renderedRulers.pop();this.domNode.removeChild(r),n--}},Rulers.prototype.render=function(e){this._ensureRulersCount();for(var t=0,i=this._rulers.length;t<i;t++){var o=this._renderedRulers[t];o.setHeight(Math.min(e.scrollHeight,1e6)),o.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},Rulers}(M);Object(V.e)((function(e,t){var i=e.getColor(De.m);i&&t.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+i+" inset; }")}));var Qt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),$t=function(e){function ScrollDecorationViewPart(t){var i=e.call(this,t)||this;i._scrollTop=0,i._width=0,i._updateWidth(),i._shouldShow=!1;var o=i._context.configuration.options.get(78);return i._useShadows=o.useShadows,i._domNode=Object(h.b)(document.createElement("div")),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i}return Qt(ScrollDecorationViewPart,e),ScrollDecorationViewPart.prototype.dispose=function(){e.prototype.dispose.call(this)},ScrollDecorationViewPart.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},ScrollDecorationViewPart.prototype.getDomNode=function(){return this._domNode},ScrollDecorationViewPart.prototype._updateWidth=function(){var e=this._context.configuration.options.get(107);0===e.renderMinimap||e.minimapWidth>0&&0===e.minimapLeft?this._width=e.width:this._width=e.width-e.minimapWidth-e.verticalScrollbarWidth},ScrollDecorationViewPart.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(78);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0},ScrollDecorationViewPart.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},ScrollDecorationViewPart.prototype.prepareRender=function(e){},ScrollDecorationViewPart.prototype.render=function(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},ScrollDecorationViewPart}(M);Object(V.e)((function(e,t){var i=e.getColor(Lt.Vb);i&&t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+i+" 0 6px 6px -6px inset; }")}));var ei=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ti=function ti(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null},ii=function ii(e,t){this.lineNumber=e,this.ranges=t};function toStyledRange(e){return new ti(e)}function toStyled(e){return new ii(e.lineNumber,e.ranges.map(toStyledRange))}var oi=g.f,ni=function(e){function SelectionsOverlay(t){var i=e.call(this)||this;i._previousFrameVisibleRangesWithStyle=[],i._context=t;var o=i._context.configuration.options;return i._lineHeight=o.get(49),i._roundedSelection=o.get(76),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i._selections=[],i._renderResult=null,i._context.addEventHandler(i),i}return ei(SelectionsOverlay,e),SelectionsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},SelectionsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._roundedSelection=t.get(76),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},SelectionsOverlay.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},SelectionsOverlay.prototype.onDecorationsChanged=function(e){return!0},SelectionsOverlay.prototype.onFlushed=function(e){return!0},SelectionsOverlay.prototype.onLinesChanged=function(e){return!0},SelectionsOverlay.prototype.onLinesDeleted=function(e){return!0},SelectionsOverlay.prototype.onLinesInserted=function(e){return!0},SelectionsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},SelectionsOverlay.prototype.onZonesChanged=function(e){return!0},SelectionsOverlay.prototype._visibleRangesHaveGaps=function(e){for(var t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1},SelectionsOverlay.prototype._enrichVisibleRangesWithStyle=function(e,t,i){var o=this._typicalHalfwidthCharacterWidth/4,n=null,r=null;if(i&&i.length>0&&t.length>0){var s=t[0].lineNumber;if(s===e.startLineNumber)for(var a=0;!n&&a<i.length;a++)i[a].lineNumber===s&&(n=i[a].ranges[0]);var d=t[t.length-1].lineNumber;if(d===e.endLineNumber)for(a=i.length-1;!r&&a>=0;a--)i[a].lineNumber===d&&(r=i[a].ranges[0]);n&&!n.startStyle&&(n=null),r&&!r.startStyle&&(r=null)}a=0;for(var l=t.length;a<l;a++){var u=t[a].ranges[0],c=u.left,h=u.left+u.width,p={top:0,bottom:0},f={top:0,bottom:0};if(a>0){var g=t[a-1].ranges[0].left,m=t[a-1].ranges[0].left+t[a-1].ranges[0].width;abs(c-g)<o?p.top=2:c>g&&(p.top=1),abs(h-m)<o?f.top=2:g<h&&h<m&&(f.top=1)}else n&&(p.top=n.startStyle.top,f.top=n.endStyle.top);if(a+1<l){var _=t[a+1].ranges[0].left,v=t[a+1].ranges[0].left+t[a+1].ranges[0].width;abs(c-_)<o?p.bottom=2:_<c&&c<v&&(p.bottom=1),abs(h-v)<o?f.bottom=2:h<v&&(f.bottom=1)}else r&&(p.bottom=r.startStyle.bottom,f.bottom=r.endStyle.bottom);u.startStyle=p,u.endStyle=f}},SelectionsOverlay.prototype._getVisibleRangesWithStyle=function(e,t,i){var o=(t.linesVisibleRangesForRange(e,!0)||[]).map(toStyled),n=this._visibleRangesHaveGaps(o);return oi||n||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o},SelectionsOverlay.prototype._createSelectionPiece=function(e,t,i,o,n){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+o.toString()+"px;width:"+n.toString()+"px;height:"+t+'px;"></div>'},SelectionsOverlay.prototype._actualRenderOneSelection=function(e,t,i,o){if(0!==o.length)for(var n=!!o[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=o[0].lineNumber,d=o[o.length-1].lineNumber,l=0,u=o.length;l<u;l++){for(var c=o[l],h=c.lineNumber,p=h-t,f=i&&(h===d||h===a)?s:r,g=i&&h===a?1:0,m="",_="",v=0,y=c.ranges.length;v<y;v++){var C=c.ranges[v];if(n){var w=C.startStyle,b=C.endStyle;if(1===w.top||1===w.bottom){m+=this._createSelectionPiece(g,f,SelectionsOverlay.SELECTION_CLASS_NAME,C.left-SelectionsOverlay.ROUNDED_PIECE_WIDTH,SelectionsOverlay.ROUNDED_PIECE_WIDTH);var S=SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===w.top&&(S+=" "+SelectionsOverlay.SELECTION_TOP_RIGHT),1===w.bottom&&(S+=" "+SelectionsOverlay.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(g,f,S,C.left-SelectionsOverlay.ROUNDED_PIECE_WIDTH,SelectionsOverlay.ROUNDED_PIECE_WIDTH)}if(1===b.top||1===b.bottom){m+=this._createSelectionPiece(g,f,SelectionsOverlay.SELECTION_CLASS_NAME,C.left+C.width,SelectionsOverlay.ROUNDED_PIECE_WIDTH);var D=SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===b.top&&(D+=" "+SelectionsOverlay.SELECTION_TOP_LEFT),1===b.bottom&&(D+=" "+SelectionsOverlay.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(g,f,D,C.left+C.width,SelectionsOverlay.ROUNDED_PIECE_WIDTH)}}var L=SelectionsOverlay.SELECTION_CLASS_NAME;if(n){w=C.startStyle,b=C.endStyle;0===w.top&&(L+=" "+SelectionsOverlay.SELECTION_TOP_LEFT),0===w.bottom&&(L+=" "+SelectionsOverlay.SELECTION_BOTTOM_LEFT),0===b.top&&(L+=" "+SelectionsOverlay.SELECTION_TOP_RIGHT),0===b.bottom&&(L+=" "+SelectionsOverlay.SELECTION_BOTTOM_RIGHT)}_+=this._createSelectionPiece(g,f,L,C.left,C.width)}e[p][0]+=m,e[p][1]+=_}},SelectionsOverlay.prototype.prepareRender=function(e){for(var t=[],i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,n=i;n<=o;n++){t[n-i]=["",""]}for(var r=[],s=0,a=this._selections.length;s<a;s++){var d=this._selections[s];if(d.isEmpty())r[s]=null;else{var l=this._getVisibleRangesWithStyle(d,e,this._previousFrameVisibleRangesWithStyle[s]);r[s]=l,this._actualRenderOneSelection(t,i,this._selections.length>1,l)}}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map((function(e){return e[0]+e[1]}))},SelectionsOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},SelectionsOverlay.SELECTION_CLASS_NAME="selected-text",SelectionsOverlay.SELECTION_TOP_LEFT="top-left-radius",SelectionsOverlay.SELECTION_BOTTOM_LEFT="bottom-left-radius",SelectionsOverlay.SELECTION_TOP_RIGHT="top-right-radius",SelectionsOverlay.SELECTION_BOTTOM_RIGHT="bottom-right-radius",SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",SelectionsOverlay.ROUNDED_PIECE_WIDTH=10,SelectionsOverlay}(Se);function abs(e){return e<0?-e:e}Object(V.e)((function(e,t){var i=e.getColor(Lt.K);i&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+i+"; }");var o=e.getColor(Lt.F);o&&t.addRule(".monaco-editor .selected-text { background-color: "+o+"; }");var n=e.getColor(Lt.L);n&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+n+"; }")}));var ri=function ri(e,t,i,o,n,r){this.top=e,this.left=t,this.width=i,this.height=o,this.textContent=n,this.textContentClassName=r},si=function(){function ViewCursor(e){this._context=e;var t=this._context.configuration.options,i=t.get(34);this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(h.b)(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),l.a.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new G.a(1,1),this._lastRenderedContent="",this._renderData=null}return ViewCursor.prototype.getDomNode=function(){return this._domNode},ViewCursor.prototype.getPosition=function(){return this._position},ViewCursor.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},ViewCursor.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},ViewCursor.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(34);return this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),l.a.applyFontInfo(this._domNode,i),!0},ViewCursor.prototype.onCursorPositionChanged=function(e){return this._position=e,!0},ViewCursor.prototype._prepareRender=function(e){var t="";if(this._cursorStyle===P.g.Line||this._cursorStyle===P.g.LineThin){var i,o=e.visibleRangeForPosition(this._position);if(!o||o.outsideRenderedLine)return null;if(this._cursorStyle===P.g.Line){if((i=n.u(this._lineCursorWidth>0?this._lineCursorWidth:2))>2){var r=this._context.model.getLineContent(this._position.lineNumber),s=ye.E(r,this._position.column-1);t=r.substr(this._position.column-1,s)}}else i=n.u(1);var a=o.left;i>=2&&a>=1&&(a-=1);var d=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new ri(d,a,i,this._lineHeight,t,"")}var l=this._context.model.getLineContent(this._position.lineNumber),u=ye.E(l,this._position.column-1),c=e.linesVisibleRangesForRange(new Y.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+u),!1);if(!c||0===c.length)return null;var h=c[0];if(h.outsideRenderedLine||0===h.ranges.length)return null;var p=h.ranges[0],f=p.width<1?this._typicalHalfwidthCharacterWidth:p.width,g="";if(this._cursorStyle===P.g.Block){var m=this._context.model.getViewLineData(this._position.lineNumber);t=l.substr(this._position.column-1,u);var _=m.tokens.findTokenIndexAtOffset(this._position.column-1);g=m.tokens.getClassName(_)}var v=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,y=this._lineHeight;return this._cursorStyle!==P.g.Underline&&this._cursorStyle!==P.g.UnderlineThin||(v+=this._lineHeight-2,y=2),new ri(v,p.left,f,y,t,g)},ViewCursor.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},ViewCursor.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},ViewCursor}(),ai=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),di=function(e){function ViewCursors(t){var i=e.call(this,t)||this,o=i._context.configuration.options;return i._readOnly=o.get(68),i._cursorBlinking=o.get(16),i._cursorStyle=o.get(18),i._cursorSmoothCaretAnimation=o.get(17),i._selectionIsEmpty=!0,i._isVisible=!1,i._primaryCursor=new si(i._context),i._secondaryCursors=[],i._renderData=[],i._domNode=Object(h.b)(document.createElement("div")),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._updateDomClassName(),i._domNode.appendChild(i._primaryCursor.getDomNode()),i._startCursorBlinkAnimation=new _.e,i._cursorFlatBlinkInterval=new _.c,i._blinkingEnabled=!1,i._editorHasFocus=!1,i._updateBlinking(),i}return ai(ViewCursors,e),ViewCursors.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},ViewCursors.prototype.getDomNode=function(){return this._domNode},ViewCursors.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;this._readOnly=t.get(68),this._cursorBlinking=t.get(16),this._cursorStyle=t.get(18),this._cursorSmoothCaretAnimation=t.get(17),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(var i=0,o=this._secondaryCursors.length;i<o;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0},ViewCursors.prototype._onCursorPositionChanged=function(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length)for(var i=t.length-this._secondaryCursors.length,o=0;o<i;o++){var n=new si(this._context);this._domNode.domNode.insertBefore(n.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(n)}else if(this._secondaryCursors.length>t.length){var r=this._secondaryCursors.length-t.length;for(o=0;o<r;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o])},ViewCursors.prototype.onCursorStateChanged=function(e){for(var t=[],i=0,o=e.selections.length;i<o;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));var n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0},ViewCursors.prototype.onDecorationsChanged=function(e){return!0},ViewCursors.prototype.onFlushed=function(e){return!0},ViewCursors.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},ViewCursors.prototype.onLinesChanged=function(e){return!0},ViewCursors.prototype.onLinesDeleted=function(e){return!0},ViewCursors.prototype.onLinesInserted=function(e){return!0},ViewCursors.prototype.onScrollChanged=function(e){return!0},ViewCursors.prototype.onTokensChanged=function(e){var shouldRender=function(t){for(var i=0,o=e.ranges.length;i<o;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(shouldRender(this._primaryCursor.getPosition()))return!0;for(var t=0,i=this._secondaryCursors;t<i.length;t++){if(shouldRender(i[t].getPosition()))return!0}return!1},ViewCursors.prototype.onZonesChanged=function(e){return!0},ViewCursors.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},ViewCursors.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var t=this._getCursorBlinking(),i=0===t,o=5===t;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||o||(1===t?this._cursorFlatBlinkInterval.cancelAndSet((function(){e._isVisible?e._hide():e._show()}),ViewCursors.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((function(){e._blinkingEnabled=!0,e._updateDomClassName()}),ViewCursors.BLINK_INTERVAL))},ViewCursors.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},ViewCursors.prototype._getClassName=function(){var e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case P.g.Line:e+=" cursor-line-style";break;case P.g.Block:e+=" cursor-block-style";break;case P.g.Underline:e+=" cursor-underline-style";break;case P.g.LineThin:e+=" cursor-line-thin-style";break;case P.g.BlockOutline:e+=" cursor-block-outline-style";break;case P.g.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e},ViewCursors.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},ViewCursors.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},ViewCursors.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)},ViewCursors.prototype.render=function(e){var t=[],i=0,o=this._primaryCursor.render(e);o&&(t[i++]=o);for(var n=0,r=this._secondaryCursors.length;n<r;n++){var s=this._secondaryCursors[n].render(e);s&&(t[i++]=s)}this._renderData=t},ViewCursors.prototype.getLastRenderData=function(){return this._renderData},ViewCursors.BLINK_INTERVAL=500,ViewCursors}(M);Object(V.e)((function(e,t){var i=e.getColor(De.g);if(i){var o=e.getColor(De.f);o||(o=i.opposite()),t.addRule(".monaco-editor .cursor { background-color: "+i+"; border-color: "+i+"; color: "+o+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+o+"; border-right: 1px solid "+o+"; }")}}));var li=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),invalidFunc=function(){throw new Error("Invalid change accessor")},ui=function(e){function ViewZones(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._contentWidth=n.contentWidth,i._contentLeft=n.contentLeft,i.domNode=Object(h.b)(document.createElement("div")),i.domNode.setClassName("view-zones"),i.domNode.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i.marginDomNode=Object(h.b)(document.createElement("div")),i.marginDomNode.setClassName("margin-view-zones"),i.marginDomNode.setPosition("absolute"),i.marginDomNode.setAttribute("role","presentation"),i.marginDomNode.setAttribute("aria-hidden","true"),i._zones={},i}return li(ViewZones,e),ViewZones.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},ViewZones.prototype._recomputeWhitespacesProps=function(){for(var e=this,t=this._context.viewLayout.getWhitespaces(),i=new Map,o=0,n=t;o<n.length;o++){var r=n[o];i.set(r.id,r)}return this._context.viewLayout.changeWhitespace((function(t){for(var o=!1,n=Object.keys(e._zones),r=0,s=n.length;r<s;r++){var a=n[r],d=e._zones[a],l=e._computeWhitespaceProps(d.delegate),u=i.get(a);!u||u.afterLineNumber===l.afterViewLineNumber&&u.height===l.heightInPx||(t.changeOneWhitespace(a,l.afterViewLineNumber,l.heightInPx),e._safeCallOnComputedHeight(d.delegate,l.heightInPx),o=!0)}return o}))},ViewZones.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(49)&&this._recomputeWhitespacesProps(),!0},ViewZones.prototype.onLineMappingChanged=function(e){var t=this._recomputeWhitespacesProps();return t&&this._context.viewLayout.onHeightMaybeChanged(),t},ViewZones.prototype.onLinesDeleted=function(e){return!0},ViewZones.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},ViewZones.prototype.onZonesChanged=function(e){return!0},ViewZones.prototype.onLinesInserted=function(e){return!0},ViewZones.prototype._getZoneOrdinal=function(e){return void 0!==e.afterColumn?e.afterColumn:1e4},ViewZones.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};var t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new G.a(o,this._context.model.getModelLineMaxColumn(o))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:n.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}},ViewZones.prototype.changeViewZones=function(e){var t=this;return this._context.viewLayout.changeWhitespace((function(i){var o=!1,n={addZone:function(e){return o=!0,t._addZone(i,e)},removeZone:function(e){e&&(o=t._removeZone(i,e)||o)},layoutZone:function(e){e&&(o=t._layoutZone(i,e)||o)}};return function safeInvoke1Arg(e,t){try{return e(t)}catch(e){Object(r.e)(e)}}(e,n),n.addZone=invalidFunc,n.removeZone=invalidFunc,n.layoutZone=invalidFunc,o}))},ViewZones.prototype._addZone=function(e,t){var i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:Object(h.b)(t.domNode),marginDomNode:t.marginDomNode?Object(h.b)(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId},ViewZones.prototype._removeZone=function(e,t){if(this._zones.hasOwnProperty(t)){var i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},ViewZones.prototype._layoutZone=function(e,t){if(this._zones.hasOwnProperty(t)){var i=this._zones[t],o=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,o.afterViewLineNumber,o.heightInPx),this._safeCallOnComputedHeight(i.delegate,o.heightInPx),this.setShouldRender(),!0}return!1},ViewZones.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e)){var t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1},ViewZones.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},ViewZones.prototype._minWidthInPixels=function(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0},ViewZones.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){Object(r.e)(e)}},ViewZones.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){Object(r.e)(e)}},ViewZones.prototype.prepareRender=function(e){},ViewZones.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,i={},o=!1,n=0,r=t.length;n<r;n++)i[t[n].id]=t[n],o=!0;var s=Object.keys(this._zones);for(n=0,r=s.length;n<r;n++){var a=s[n],d=this._zones[a],l=0,u=0,c="none";i.hasOwnProperty(a)?(l=i[a].verticalOffset-e.bigNumbersDelta,u=i[a].height,c="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(i[a].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(l),d.domNode.setHeight(u),d.domNode.setDisplay(c),d.marginDomNode&&(d.marginDomNode.setTop(l),d.marginDomNode.setHeight(u),d.marginDomNode.setDisplay(c))}o&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},ViewZones}(M);var ci=i("U4Dq"),hi=i("ofhk"),pi=i("4GuK"),fi=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),gi=function(e){function View(t,i,o,n,r,s){var a=e.call(this)||this;a._cursor=r,a._renderAnimationFrame=null,a.outgoingEvents=s;var d=new Ve(i,n,a.outgoingEvents,t);a.eventDispatcher=new hi.a((function(e){return a._renderOnce(e)})),a.eventDispatcher.addEventHandler(a),a._context=new ci.a(i,o.getTheme(),n,a.eventDispatcher),a._register(o.onThemeChange((function(e){a._context.theme=e,a.eventDispatcher.emit(new xe.o),a.render(!0,!1)}))),a.viewParts=[],a._textAreaHandler=new Ae(a._context,d,a.createTextAreaHandlerHelper()),a.viewParts.push(a._textAreaHandler),a.linesContent=Object(h.b)(document.createElement("div")),a.linesContent.setClassName("lines-content monaco-editor-background"),a.linesContent.setPosition("absolute"),a.domNode=Object(h.b)(document.createElement("div")),a.domNode.setClassName(a.getEditorClassName()),a.overflowGuardContainer=Object(h.b)(document.createElement("div")),x.write(a.overflowGuardContainer,3),a.overflowGuardContainer.setClassName("overflow-guard"),a._scrollbar=new lt(a._context,a.linesContent,a.domNode,a.overflowGuardContainer),a.viewParts.push(a._scrollbar),a.viewLines=new yt(a._context,a.linesContent),a.viewZones=new ui(a._context),a.viewParts.push(a.viewZones);var l=new Kt(a._context);a.viewParts.push(l);var u=new $t(a._context);a.viewParts.push(u);var c=new qe(a._context);a.viewParts.push(c),c.addDynamicOverlay(new ot(a._context)),c.addDynamicOverlay(new ni(a._context)),c.addDynamicOverlay(new gt(a._context)),c.addDynamicOverlay(new st(a._context));var p=new Ge(a._context);a.viewParts.push(p),p.addDynamicOverlay(new nt(a._context)),p.addDynamicOverlay(new pt(a._context)),p.addDynamicOverlay(new St(a._context)),p.addDynamicOverlay(new wt(a._context)),p.addDynamicOverlay(new Ee(a._context));var f=new Oe(a._context);f.getDomNode().appendChild(a.viewZones.marginDomNode),f.getDomNode().appendChild(p.getDomNode()),a.viewParts.push(f),a.contentWidgets=new Je(a._context,a.domNode),a.viewParts.push(a.contentWidgets),a.viewCursors=new di(a._context),a.viewParts.push(a.viewCursors),a.overlayWidgets=new Bt(a._context),a.viewParts.push(a.overlayWidgets);var g=new Jt(a._context);a.viewParts.push(g);var m=new Ft(a._context);if(a.viewParts.push(m),l){var _=a._scrollbar.getOverviewRulerLayoutInfo();_.parent.insertBefore(l.getDomNode(),_.insertBefore)}return a.linesContent.appendChild(c.getDomNode()),a.linesContent.appendChild(g.domNode),a.linesContent.appendChild(a.viewZones.domNode),a.linesContent.appendChild(a.viewLines.getDomNode()),a.linesContent.appendChild(a.contentWidgets.domNode),a.linesContent.appendChild(a.viewCursors.getDomNode()),a.overflowGuardContainer.appendChild(f.getDomNode()),a.overflowGuardContainer.appendChild(a._scrollbar.getDomNode()),a.overflowGuardContainer.appendChild(u.getDomNode()),a.overflowGuardContainer.appendChild(a._textAreaHandler.textArea),a.overflowGuardContainer.appendChild(a._textAreaHandler.textAreaCover),a.overflowGuardContainer.appendChild(a.overlayWidgets.getDomNode()),a.overflowGuardContainer.appendChild(m.getDomNode()),a.domNode.appendChild(a.overflowGuardContainer),a.domNode.appendChild(a.contentWidgets.overflowingContentWidgetsDomNode),a._applyLayout(),a.pointerHandler=a._register(new ve(a._context,d,a.createPointerHandlerHelper())),a._register(n.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a._register(a._cursor.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a}return fi(View,e),View.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},View.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastRenderData:function(){var t=e.viewCursors.getLastRenderData()||[],i=e._textAreaHandler.getLastRenderData();return new Q(t,i)},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,i)},visibleRangeForPosition:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new G.a(t,i))},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},View.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new G.a(t,i))}}},View.prototype._applyLayout=function(){var e=this._context.configuration.options.get(107);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this.overflowGuardContainer.setWidth(e.width),this.overflowGuardContainer.setHeight(e.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},View.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(104)+" "+Object(V.d)(this._context.theme.type)+e},View.prototype.onConfigurationChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},View.prototype.onContentSizeChanged=function(e){return this.outgoingEvents.emitContentSizeChange(e),!1},View.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},View.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},View.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},View.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,i=this.viewParts.length;t<i;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},View.prototype._renderOnce=function(e){var t=safeInvokeNoArg(e);return this._scheduleRender(),t},View.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=n.U(this._onRenderScheduled.bind(this),100))},View.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},View.prototype._renderNow=function(){var e=this;safeInvokeNoArg((function(){return e._actualRender()}))},View.prototype._getViewPartsToRender=function(){for(var e=[],t=0,i=0,o=this.viewParts.length;i<o;i++){var n=this.viewParts[i];n.shouldRender()&&(e[t++]=n)}return e},View.prototype._actualRender=function(){if(n.M(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var i=new pi.a(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var o=new R.d(this._context.viewLayout,i,this.viewLines),r=0,s=e.length;r<s;r++){(a=e[r]).prepareRender(o)}for(r=0,s=e.length;r<s;r++){var a;(a=e[r]).render(o),a.onDidRender()}}}},View.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},View.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},View.prototype.getOffsetForColumn=function(e,t){var i=this._context.model.validateModelPosition({lineNumber:e,column:t}),o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var n=this.viewLines.visibleRangeForPosition(new G.a(o.lineNumber,o.column));return n?n.left:-1},View.prototype.getTargetAtClientPoint=function(e,t){var i=this.pointerHandler.getTargetAtClientPoint(e,t);return i?He.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null},View.prototype.createOverviewRuler=function(e){return new Yt(this._context,e)},View.prototype.change=function(e){var t=this;return this._renderOnce((function(){var i=t.viewZones.changeViewZones(e);return i&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new xe.r)),i}))},View.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var i=0,o=this.viewParts.length;i<o;i++){this.viewParts[i].forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},View.prototype.focus=function(){this._textAreaHandler.focusTextArea()},View.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},View.prototype.setAriaOptions=function(e){this._textAreaHandler.setAriaOptions(e)},View.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},View.prototype.layoutContentWidget=function(e){var t=e.position&&e.position.range||null;if(null===t){var i=e.position?e.position.position:null;null!==i&&(t=new Y.a(i.lineNumber,i.column,i.lineNumber,i.column))}var o=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,o),this._scheduleRender()},View.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},View.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},View.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;this.overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()},View.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},View}(N.a);function safeInvokeNoArg(e){try{return e()}catch(e){Object(r.e)(e)}}var mi=i("BKUo"),_i=i("9Y+e"),vi=i("iuje"),yi=i("wQH0"),Ci=i("kd8H"),wi=i("nnTU"),bi=i("T8No"),Si=i("Cg/j"),Di=i("8HsV"),Li=i("sM1p"),Ei=i("R3nR"),Ni=i("746U"),Oi=i("fgsJ"),Mi=i("BNOm"),xi=function(){function DOMLineBreaksComputerFactory(){}return DOMLineBreaksComputerFactory.create=function(){return new DOMLineBreaksComputerFactory},DOMLineBreaksComputerFactory.prototype.createLineBreaksComputer=function(e,t,i,o){t|=0,i=+i;var n=[];return{addRequest:function(e,t){n.push(e)},finalize:function(){return function createLineBreaks(e,t,i,o,n){if(-1===o){for(var r=[],s=0,a=e.length;s<a;s++)r[s]=null;return r}var d=Math.round(o*t.typicalHalfwidthCharacterWidth);2!==n&&3!==n||(n=1);var u=document.createElement("div");l.a.applyFontInfoSlow(u,t);var c=Object(ke.a)(1e4),h=[],p=[],f=[],g=[],m=[];for(s=0;s<e.length;s++){var _=e[s],v=0,y=0,C=d;if(0!==n)if(-1===(v=ye.q(_)))v=0;else{for(var w=0;w<v;w++){y+=9===_.charCodeAt(w)?i-y%i:1}var b=Math.ceil(t.spaceWidth*y);b+t.typicalFullwidthCharacterWidth>d?(v=0,y=0):C=d-b}var S=_.substr(v),D=renderLine(S,y,i,C,c);h[s]=v,p[s]=y,f[s]=S,g[s]=D[0],m[s]=D[1]}u.innerHTML=c.build(),u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);var L=document.createRange(),E=Array.prototype.slice.call(u.children,0),N=[];for(s=0;s<e.length;s++){var O=readLineBreaks(L,E[s],f[s],g[s]);if(null!==O){v=h[s],y=p[s];var M=m[s],x=[],R=0;for(a=O.length;R<a;R++)x[R]=M[O[R]];if(0!==v)for(R=0,a=O.length;R<a;R++)O[R]+=v;N[s]=new Mi.b(O,x,y)}else N[s]=null}return document.body.removeChild(u),N}(n,e,t,i,o)}}},DOMLineBreaksComputerFactory}();function renderLine(e,t,i,o,n){n.appendASCIIString('<div style="width:'),n.appendASCIIString(String(o)),n.appendASCIIString('px;">');for(var r=e.length,s=t,a=0,d=[],l=[],u=0<r?e.charCodeAt(0):0,c=0;c<r;c++){d[c]=a,l[c]=s;var h=u;u=c+1<r?e.charCodeAt(c+1):0;var p=1,f=1;switch(h){case 9:f=p=i-s%i;for(var g=1;g<=p;g++)g<p?n.write1(160):n.appendASCII(32);break;case 32:32===u?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:n.write1(65533);break;default:ye.y(h)&&f++,n.write1(h)}a+=p,s+=f}return d[e.length]=a,l[e.length]=s,n.appendASCIIString("</div>"),[d,l]}function readLineBreaks(e,t,i,o){if(i.length<=1)return null;var n=[];return discoverBreaks(e,t.firstChild,o,0,null,i.length-1,null,n),0===n.length?null:(n.push(i.length),n)}function discoverBreaks(e,t,i,o,n,r,s,a){if(o!==r&&(n=n||readClientRect(e,t,i[o],i[o+1]),s=s||readClientRect(e,t,i[r],i[r+1]),!(Math.abs(n[0].top-s[0].top)<=.1)))if(o+1!==r){var d=o+(r-o)/2|0,l=readClientRect(e,t,i[d],i[d+1]);discoverBreaks(e,t,i,o,n,d,l,a),discoverBreaks(e,t,i,d,l,r,s,a)}else a.push(r)}function readClientRect(e,t,i,o){return e.setStart(t,i),e.setEnd(t,o),e.getClientRects()}var Ri=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},Ti=0,Wi=function(){function ModelData(e,t,i,o,n,r){this.model=e,this.viewModel=t,this.cursor=i,this.view=o,this.hasRealView=n,this.listenersToRemove=r}return ModelData.prototype.dispose=function(){Object(a.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},ModelData}(),Ai=function(e){function CodeEditorWidget(t,i,o,n,a,d,l,c,h,p){var f=e.call(this)||this;f._onDidDispose=f._register(new s.a),f.onDidDispose=f._onDidDispose.event,f._onDidChangeModelContent=f._register(new s.a),f.onDidChangeModelContent=f._onDidChangeModelContent.event,f._onDidChangeModelLanguage=f._register(new s.a),f.onDidChangeModelLanguage=f._onDidChangeModelLanguage.event,f._onDidChangeModelLanguageConfiguration=f._register(new s.a),f.onDidChangeModelLanguageConfiguration=f._onDidChangeModelLanguageConfiguration.event,f._onDidChangeModelOptions=f._register(new s.a),f.onDidChangeModelOptions=f._onDidChangeModelOptions.event,f._onDidChangeModelDecorations=f._register(new s.a),f.onDidChangeModelDecorations=f._onDidChangeModelDecorations.event,f._onDidChangeConfiguration=f._register(new s.a),f.onDidChangeConfiguration=f._onDidChangeConfiguration.event,f._onDidChangeModel=f._register(new s.a),f.onDidChangeModel=f._onDidChangeModel.event,f._onDidChangeCursorPosition=f._register(new s.a),f.onDidChangeCursorPosition=f._onDidChangeCursorPosition.event,f._onDidChangeCursorSelection=f._register(new s.a),f.onDidChangeCursorSelection=f._onDidChangeCursorSelection.event,f._onDidAttemptReadOnlyEdit=f._register(new s.a),f.onDidAttemptReadOnlyEdit=f._onDidAttemptReadOnlyEdit.event,f._onDidLayoutChange=f._register(new s.a),f.onDidLayoutChange=f._onDidLayoutChange.event,f._editorTextFocus=f._register(new Ii),f.onDidFocusEditorText=f._editorTextFocus.onDidChangeToTrue,f.onDidBlurEditorText=f._editorTextFocus.onDidChangeToFalse,f._editorWidgetFocus=f._register(new Ii),f.onDidFocusEditorWidget=f._editorWidgetFocus.onDidChangeToTrue,f.onDidBlurEditorWidget=f._editorWidgetFocus.onDidChangeToFalse,f._onWillType=f._register(new s.a),f.onWillType=f._onWillType.event,f._onDidType=f._register(new s.a),f.onDidType=f._onDidType.event,f._onDidCompositionStart=f._register(new s.a),f.onDidCompositionStart=f._onDidCompositionStart.event,f._onDidCompositionEnd=f._register(new s.a),f.onDidCompositionEnd=f._onDidCompositionEnd.event,f._onDidPaste=f._register(new s.a),f.onDidPaste=f._onDidPaste.event,f._onMouseUp=f._register(new s.a),f.onMouseUp=f._onMouseUp.event,f._onMouseDown=f._register(new s.a),f.onMouseDown=f._onMouseDown.event,f._onMouseDrag=f._register(new s.a),f.onMouseDrag=f._onMouseDrag.event,f._onMouseDrop=f._register(new s.a),f.onMouseDrop=f._onMouseDrop.event,f._onContextMenu=f._register(new s.a),f.onContextMenu=f._onContextMenu.event,f._onMouseMove=f._register(new s.a),f.onMouseMove=f._onMouseMove.event,f._onMouseLeave=f._register(new s.a),f.onMouseLeave=f._onMouseLeave.event,f._onMouseWheel=f._register(new s.a),f.onMouseWheel=f._onMouseWheel.event,f._onKeyUp=f._register(new s.a),f.onKeyUp=f._onKeyUp.event,f._onKeyDown=f._register(new s.a),f.onKeyDown=f._onKeyDown.event,f._onDidContentSizeChange=f._register(new s.a),f.onDidContentSizeChange=f._onDidContentSizeChange.event,f._onDidScrollChange=f._register(new s.a),f.onDidScrollChange=f._onDidScrollChange.event,f._onDidChangeViewZones=f._register(new s.a),f.onDidChangeViewZones=f._onDidChangeViewZones.event,f._domElement=t,f._id=++Ti,f._decorationTypeKeysToIds={},f._decorationTypeSubtypes={},f.isSimpleWidget=o.isSimpleWidget||!1,f._telemetryData=o.telemetryData,i=i||{},f._configuration=f._register(f._createConfiguration(i,p)),f._register(f._configuration.onDidChange((function(e){f._onDidChangeConfiguration.fire(e);var t=f._configuration.options;if(e.hasChanged(107)){var i=t.get(107);f._onDidLayoutChange.fire(i)}}))),f._contextKeyService=f._register(l.createScoped(f._domElement)),f._notificationService=h,f._codeEditorService=a,f._commandService=d,f._themeService=c,f._register(new Vi(f,f._contextKeyService)),f._register(new Pi(f,f._contextKeyService)),f._instantiationService=n.createChild(new Di.a([bi.c,f._contextKeyService])),f._modelData=null,f._contributions={},f._actions={},f._focusTracker=new Hi(t),f._focusTracker.onChange((function(){f._editorWidgetFocus.setValue(f._focusTracker.hasFocus())})),f._contentWidgets={},f._overlayWidgets={};for(var g=0,m=Array.isArray(o.contributions)?o.contributions:u.d.getEditorContributions();g<m.length;g++){var _=m[g];try{var v=f._instantiationService.createInstance(_.ctor,f);f._contributions[_.id]=v}catch(e){Object(r.e)(e)}}return u.d.getEditorActions().forEach((function(e){var t=new _i.a(e.id,e.label,e.alias,Object(Ni.n)(e.precondition),(function(){return f._instantiationService.invokeFunction((function(t){return Promise.resolve(e.runEditorCommand(t,f,null))}))}),f._contextKeyService);f._actions[t.id]=t})),f._codeEditorService.addCodeEditor(f),f}return Ri(CodeEditorWidget,e),CodeEditorWidget.prototype._createConfiguration=function(e,t){return new l.a(this.isSimpleWidget,e,this._domElement,t)},CodeEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this._id},CodeEditorWidget.prototype.getEditorType=function(){return vi.a.ICodeEditor},CodeEditorWidget.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),i=0,o=t.length;i<o;i++){var n=t[i];this._contributions[n].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},CodeEditorWidget.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},CodeEditorWidget.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},CodeEditorWidget.prototype.getOptions=function(){return this._configuration.options},CodeEditorWidget.prototype.getOption=function(e){return this._configuration.options.get(e)},CodeEditorWidget.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},CodeEditorWidget.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return"";var t=!(!e||!e.preserveBOM),i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)},CodeEditorWidget.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},CodeEditorWidget.prototype.getModel=function(){return this._modelData?this._modelData.model:null},CodeEditorWidget.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if(!(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)){var i=this.hasTextFocus(),o=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();var n={oldModelUrl:o?o.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(o)}},CodeEditorWidget.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}},CodeEditorWidget.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},CodeEditorWidget.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},CodeEditorWidget._getVerticalOffsetForPosition=function(e,t,i){var o=e.model.validatePosition({lineNumber:t,column:i}),n=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)},CodeEditorWidget.prototype.getTopForLineNumber=function(e){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,e,1):-1},CodeEditorWidget.prototype.getTopForPosition=function(e,t){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,e,t):-1},CodeEditorWidget.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((function(e){return Y.a.lift(e)})))},CodeEditorWidget.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return X.a.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1},CodeEditorWidget.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},CodeEditorWidget.prototype.setPosition=function(e){if(this._modelData){if(!G.a.isIPosition(e))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},CodeEditorWidget.prototype._sendRevealRange=function(e,t,i,o){if(this._modelData){if(!Y.a.isIRange(e))throw new Error("Invalid arguments");var n=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(n);this._modelData.cursor.emitCursorRevealRange("api",r,t,i,o)}},CodeEditorWidget.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},CodeEditorWidget.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},CodeEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},CodeEditorWidget.prototype._revealLine=function(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Y.a(e,1,e,1),t,!1,i)},CodeEditorWidget.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},CodeEditorWidget.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},CodeEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},CodeEditorWidget.prototype._revealPosition=function(e,t,i,o){if(!G.a.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Y.a(e.lineNumber,e.column,e.lineNumber,e.column),t,i,o)},CodeEditorWidget.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},CodeEditorWidget.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},CodeEditorWidget.prototype.setSelection=function(e){var t=ae.a.isISelection(e),i=Y.a.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){var o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o)}},CodeEditorWidget.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new ae.a(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections("api",[t])}},CodeEditorWidget.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,0,i)},CodeEditorWidget.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,1,i)},CodeEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,2,i)},CodeEditorWidget.prototype._revealLines=function(e,t,i,o){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Y.a(e,1,t,1),i,!1,o)},CodeEditorWidget.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._revealRange(e,i?1:0,o,t)},CodeEditorWidget.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},CodeEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},CodeEditorWidget.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},CodeEditorWidget.prototype._revealRange=function(e,t,i,o){if(!Y.a.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Y.a.lift(e),t,i,o)},CodeEditorWidget.prototype.setSelections=function(e,t){if(void 0===t&&(t="api"),this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var i=0,o=e.length;i<o;i++)if(!ae.a.isISelection(e[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(t,e)}},CodeEditorWidget.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1},CodeEditorWidget.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},CodeEditorWidget.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},CodeEditorWidget.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1},CodeEditorWidget.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},CodeEditorWidget.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},CodeEditorWidget.prototype.setScrollLeft=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},CodeEditorWidget.prototype.setScrollTop=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},CodeEditorWidget.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},CodeEditorWidget.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=0,i=Object.keys(this._contributions);t<i.length;t++){var o=i[t],n=this._contributions[o];"function"==typeof n.saveViewState&&(e[o]=n.saveViewState())}return{cursorState:this._modelData.cursor.saveState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}},CodeEditorWidget.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var i=t.cursorState;Array.isArray(i)?this._modelData.cursor.restoreState(i):this._modelData.cursor.restoreState([i]);for(var o=t.contributionsState||{},n=Object.keys(this._contributions),r=0,s=n.length;r<s;r++){var a=n[r],d=this._contributions[a];"function"==typeof d.restoreViewState&&d.restoreViewState(o[a])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(l)}}},CodeEditorWidget.prototype.getContribution=function(e){return this._contributions[e]||null},CodeEditorWidget.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),i=0,o=t.length;i<o;i++){var n=t[i];e.push(this._actions[n])}return e},CodeEditorWidget.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter((function(e){return e.isSupported()}))},CodeEditorWidget.prototype.getAction=function(e){return this._actions[e]||null},CodeEditorWidget.prototype.trigger=function(e,t,i){if(i=i||{},t===vi.b.Type){if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;return"keyboard"===e&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(e,t,i),void("keyboard"===e&&this._onDidType.fire(i.text))}if(t!==vi.b.Paste){var o=this.getAction(t);o?Promise.resolve(o.run()).then(void 0,r.e):this._modelData&&(this._triggerEditorCommand(e,t,i)||(this._modelData.cursor.trigger(e,t,i),t===vi.b.CompositionStart&&this._onDidCompositionStart.fire(),t===vi.b.CompositionEnd&&this._onDidCompositionEnd.fire()))}else{if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;var n=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,i);var s=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new Y.a(n.lineNumber,n.column,s.lineNumber,s.column),mode:i.mode})}},CodeEditorWidget.prototype._triggerEditorCommand=function(e,t,i){var o=this,n=u.d.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((function(e){Promise.resolve(n.runEditorCommand(e,o,i)).then(void 0,r.e)})),!0)},CodeEditorWidget.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},CodeEditorWidget.prototype.pushUndoStop=function(){return!!this._modelData&&(!this._configuration.options.get(68)&&(this._modelData.model.pushStackElement(),!0))},CodeEditorWidget.prototype.executeEdits=function(e,t,i){return!!this._modelData&&(!this._configuration.options.get(68)&&(o=i?Array.isArray(i)?function(){return i}:i:function(){return null},this._modelData.cursor.executeEdits(e,t,o),!0));var o},CodeEditorWidget.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,vi.b.ExecuteCommand,t)},CodeEditorWidget.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,vi.b.ExecuteCommands,t)},CodeEditorWidget.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},CodeEditorWidget.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Object(P.j)(this._configuration.options)):null},CodeEditorWidget.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},CodeEditorWidget.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},CodeEditorWidget.prototype.getLayoutInfo=function(){return this._configuration.options.get(107)},CodeEditorWidget.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},CodeEditorWidget.prototype.getContainerDomNode=function(){return this._domElement},CodeEditorWidget.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},CodeEditorWidget.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},CodeEditorWidget.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},CodeEditorWidget.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},CodeEditorWidget.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},CodeEditorWidget.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},CodeEditorWidget.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},CodeEditorWidget.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},CodeEditorWidget.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},CodeEditorWidget.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},CodeEditorWidget.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},CodeEditorWidget.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},CodeEditorWidget.prototype.changeViewZones=function(e){this._modelData&&this._modelData.hasRealView&&(this._modelData.view.change(e)&&this._onDidChangeViewZones.fire())},CodeEditorWidget.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},CodeEditorWidget.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var t=this._modelData.model.validatePosition(e),i=this._configuration.options,o=i.get(107);return{top:CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:i.get(49)}},CodeEditorWidget.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},CodeEditorWidget.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},CodeEditorWidget.prototype.setAriaOptions=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)},CodeEditorWidget.prototype.applyFontInfo=function(e){l.a.applyFontInfoSlow(e,this._configuration.options.get(34))},CodeEditorWidget.prototype._attachModel=function(e){var t=this;if(e){var i=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var r=new Ci.a(this._id,this._configuration,e,xi.create(),Oi.a.create(this._configuration.options),(function(e){return n.W(e)}));i.push(e.onDidChangeDecorations((function(e){return t._onDidChangeModelDecorations.fire(e)}))),i.push(e.onDidChangeLanguage((function(i){t._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(i)}))),i.push(e.onDidChangeLanguageConfiguration((function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)}))),i.push(e.onDidChangeContent((function(e){return t._onDidChangeModelContent.fire(e)}))),i.push(e.onDidChangeOptions((function(e){return t._onDidChangeModelOptions.fire(e)}))),i.push(e.onWillDispose((function(){return t.setModel(null)})));var s=new mi.a(this._configuration,e,r);i.push(s.onDidReachMaxCursorCount((function(){t._notificationService.warn(o.a("cursors.maximum","The number of cursors has been limited to {0}.",mi.a.MAX_CURSOR_COUNT))}))),i.push(s.onDidAttemptReadOnlyEdit((function(){t._onDidAttemptReadOnlyEdit.fire(void 0)}))),i.push(s.onDidChange((function(e){for(var i=[],o=0,n=e.selections.length;o<n;o++)i[o]=e.selections[o].getPosition();var r={position:i[0],secondaryPositions:i.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(r);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(s)})));var a=this._createView(r,s),d=a[0],l=a[1];if(l){this._domElement.appendChild(d.domNode.domNode);for(var u=Object.keys(this._contentWidgets),c=0,h=u.length;c<h;c++){var p=u[c];d.addContentWidget(this._contentWidgets[p])}for(c=0,h=(u=Object.keys(this._overlayWidgets)).length;c<h;c++){p=u[c];d.addOverlayWidget(this._overlayWidgets[p])}d.render(!1,!0),d.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Wi(e,r,s,d,l,i)}else this._modelData=null},CodeEditorWidget.prototype._createView=function(e,t){var i,o=this;i=this.isSimpleWidget?{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o.trigger(e,vi.b.Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o.trigger(e,vi.b.Type,{text:t})},replacePreviousChar:function(e,t,i){o.trigger(e,vi.b.ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o.trigger(e,vi.b.CompositionStart,void 0)},compositionEnd:function(e){o.trigger(e,vi.b.CompositionEnd,void 0)},cut:function(e){o.trigger(e,vi.b.Cut,void 0)}}:{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o._commandService.executeCommand(vi.b.Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o._commandService.executeCommand(vi.b.Type,{text:t})},replacePreviousChar:function(e,t,i){o._commandService.executeCommand(vi.b.ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o._commandService.executeCommand(vi.b.CompositionStart,{})},compositionEnd:function(e){o._commandService.executeCommand(vi.b.CompositionEnd,{})},cut:function(e){o._commandService.executeCommand(vi.b.Cut,{})}};var n=new He(e);return n.onDidContentSizeChange=function(e){return o._onDidContentSizeChange.fire(e)},n.onDidScroll=function(e){return o._onDidScrollChange.fire(e)},n.onDidGainFocus=function(){return o._editorTextFocus.setValue(!0)},n.onDidLoseFocus=function(){return o._editorTextFocus.setValue(!1)},n.onContextMenu=function(e){return o._onContextMenu.fire(e)},n.onMouseDown=function(e){return o._onMouseDown.fire(e)},n.onMouseUp=function(e){return o._onMouseUp.fire(e)},n.onMouseDrag=function(e){return o._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return o._onMouseDrop.fire(e)},n.onKeyUp=function(e){return o._onKeyUp.fire(e)},n.onMouseMove=function(e){return o._onMouseMove.fire(e)},n.onMouseLeave=function(e){return o._onMouseLeave.fire(e)},n.onMouseWheel=function(e){return o._onMouseWheel.fire(e)},n.onKeyDown=function(e){return o._onKeyDown.fire(e)},[new gi(i,this._configuration,this._themeService,e,t,n),!0]},CodeEditorWidget.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},CodeEditorWidget.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.removeChild(t),e},CodeEditorWidget.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},CodeEditorWidget.prototype.hasModel=function(){return null!==this._modelData},CodeEditorWidget=__decorate([__param(3,Si.a),__param(4,c.a),__param(5,wi.b),__param(6,bi.c),__param(7,V.c),__param(8,Li.a),__param(9,Ei.b)],CodeEditorWidget)}(a.a),Ii=function(e){function BooleanEventEmitter(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new s.a),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new s.a),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return Ri(BooleanEventEmitter,e),BooleanEventEmitter.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},BooleanEventEmitter}(a.a),Vi=function(e){function EditorContextKeysManager(t,i){var o=e.call(this)||this;return o._editor=t,i.createKey("editorId",t.getId()),o._editorSimpleInput=yi.a.editorSimpleInput.bindTo(i),o._editorFocus=yi.a.focus.bindTo(i),o._textInputFocus=yi.a.textInputFocus.bindTo(i),o._editorTextFocus=yi.a.editorTextFocus.bindTo(i),o._editorTabMovesFocus=yi.a.tabMovesFocus.bindTo(i),o._editorReadonly=yi.a.readOnly.bindTo(i),o._hasMultipleSelections=yi.a.hasMultipleSelections.bindTo(i),o._hasNonEmptySelection=yi.a.hasNonEmptySelection.bindTo(i),o._canUndo=yi.a.canUndo.bindTo(i),o._canRedo=yi.a.canRedo.bindTo(i),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromConfig()}))),o._register(o._editor.onDidChangeCursorSelection((function(){return o._updateFromSelection()}))),o._register(o._editor.onDidFocusEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidFocusEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidChangeModel((function(){return o._updateFromModel()}))),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromModel()}))),o._updateFromConfig(),o._updateFromSelection(),o._updateFromFocus(),o._updateFromModel(),o._editorSimpleInput.set(o._editor.isSimpleWidget),o}return Ri(EditorContextKeysManager,e),EditorContextKeysManager.prototype._updateFromConfig=function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(106)),this._editorReadonly.set(e.get(68))},EditorContextKeysManager.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((function(e){return!e.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},EditorContextKeysManager.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},EditorContextKeysManager.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},EditorContextKeysManager}(a.a),Pi=function(e){function EditorModeContext(t,i){var o=e.call(this)||this;o._editor=t,o._contextKeyService=i,o._langId=yi.a.languageId.bindTo(i),o._hasCompletionItemProvider=yi.a.hasCompletionItemProvider.bindTo(i),o._hasCodeActionsProvider=yi.a.hasCodeActionsProvider.bindTo(i),o._hasCodeLensProvider=yi.a.hasCodeLensProvider.bindTo(i),o._hasDefinitionProvider=yi.a.hasDefinitionProvider.bindTo(i),o._hasDeclarationProvider=yi.a.hasDeclarationProvider.bindTo(i),o._hasImplementationProvider=yi.a.hasImplementationProvider.bindTo(i),o._hasTypeDefinitionProvider=yi.a.hasTypeDefinitionProvider.bindTo(i),o._hasHoverProvider=yi.a.hasHoverProvider.bindTo(i),o._hasDocumentHighlightProvider=yi.a.hasDocumentHighlightProvider.bindTo(i),o._hasDocumentSymbolProvider=yi.a.hasDocumentSymbolProvider.bindTo(i),o._hasReferenceProvider=yi.a.hasReferenceProvider.bindTo(i),o._hasRenameProvider=yi.a.hasRenameProvider.bindTo(i),o._hasSignatureHelpProvider=yi.a.hasSignatureHelpProvider.bindTo(i),o._hasDocumentFormattingProvider=yi.a.hasDocumentFormattingProvider.bindTo(i),o._hasDocumentSelectionFormattingProvider=yi.a.hasDocumentSelectionFormattingProvider.bindTo(i),o._hasMultipleDocumentFormattingProvider=yi.a.hasMultipleDocumentFormattingProvider.bindTo(i),o._hasMultipleDocumentSelectionFormattingProvider=yi.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(i),o._isInWalkThrough=yi.a.isInEmbeddedEditor.bindTo(i);var update=function(){return o._update()};return o._register(t.onDidChangeModel(update)),o._register(t.onDidChangeModelLanguage(update)),o._register(zt.d.onDidChange(update)),o._register(zt.a.onDidChange(update)),o._register(zt.b.onDidChange(update)),o._register(zt.f.onDidChange(update)),o._register(zt.e.onDidChange(update)),o._register(zt.q.onDidChange(update)),o._register(zt.C.onDidChange(update)),o._register(zt.p.onDidChange(update)),o._register(zt.i.onDidChange(update)),o._register(zt.m.onDidChange(update)),o._register(zt.u.onDidChange(update)),o._register(zt.v.onDidChange(update)),o._register(zt.g.onDidChange(update)),o._register(zt.j.onDidChange(update)),o._register(zt.x.onDidChange(update)),update(),o}return Ri(EditorModeContext,e),EditorModeContext.prototype.dispose=function(){e.prototype.dispose.call(this)},EditorModeContext.prototype.reset=function(){var e=this;this._contextKeyService.bufferChangeEvents((function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()}))},EditorModeContext.prototype._update=function(){var e=this,t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents((function(){e._langId.set(t.getLanguageIdentifier().language),e._hasCompletionItemProvider.set(zt.d.has(t)),e._hasCodeActionsProvider.set(zt.a.has(t)),e._hasCodeLensProvider.set(zt.b.has(t)),e._hasDefinitionProvider.set(zt.f.has(t)),e._hasDeclarationProvider.set(zt.e.has(t)),e._hasImplementationProvider.set(zt.q.has(t)),e._hasTypeDefinitionProvider.set(zt.C.has(t)),e._hasHoverProvider.set(zt.p.has(t)),e._hasDocumentHighlightProvider.set(zt.i.has(t)),e._hasDocumentSymbolProvider.set(zt.m.has(t)),e._hasReferenceProvider.set(zt.u.has(t)),e._hasRenameProvider.set(zt.v.has(t)),e._hasSignatureHelpProvider.set(zt.x.has(t)),e._hasDocumentFormattingProvider.set(zt.g.has(t)||zt.j.has(t)),e._hasDocumentSelectionFormattingProvider.set(zt.j.has(t)),e._hasMultipleDocumentFormattingProvider.set(zt.g.all(t).length+zt.j.all(t).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(zt.j.all(t).length>1),e._isInWalkThrough.set(t.uri.scheme===d.b.walkThroughSnippet)})):this.reset()},EditorModeContext}(a.a),Hi=function(e){function CodeEditorWidgetFocusTracker(t){var i=e.call(this)||this;return i._onChange=i._register(new s.a),i.onChange=i._onChange.event,i._hasFocus=!1,i._domFocusTracker=i._register(n.Z(t)),i._register(i._domFocusTracker.onDidFocus((function(){i._hasFocus=!0,i._onChange.fire(void 0)}))),i._register(i._domFocusTracker.onDidBlur((function(){i._hasFocus=!1,i._onChange.fire(void 0)}))),i}return Ri(CodeEditorWidgetFocusTracker,e),CodeEditorWidgetFocusTracker.prototype.hasFocus=function(){return this._hasFocus},CodeEditorWidgetFocusTracker}(a.a),Fi=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ki=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function getSquigglySVGData(e){return Fi+encodeURIComponent(e.toString())+ki}var Bi=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ji=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(V.e)((function(e,t){var i=e.getColor(Lt.p);i&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+i+"; }");var o=e.getColor(Lt.q);o&&t.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+getSquigglySVGData(o)+'") repeat-x bottom left; }');var n=e.getColor(Lt.O);n&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+n+"; }");var r=e.getColor(Lt.P);r&&t.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+getSquigglySVGData(r)+'") repeat-x bottom left; }');var s=e.getColor(Lt.G);s&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=e.getColor(Lt.H);a&&t.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+getSquigglySVGData(a)+'") repeat-x bottom left; }');var d=e.getColor(Lt.y);d&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+d+"; }");var l=e.getColor(Lt.z);l&&t.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+function getDotDotDotSVGData(e){return Bi+encodeURIComponent(e.toString())+ji}(l)+'") no-repeat bottom left; }');var u=e.getColor(De.o);u&&t.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+u.rgba.a+"; }");var c=e.getColor(De.n);c&&t.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+c+"; }");var h=e.getColor(Lt.x)||"inherit";t.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+h+"}")}))},"nm/I":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var o=i("EffR"),n=i("pmY6"),r=i("N0LK"),s=i("bY76"),a=i("MI8n"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),l=function(e){function AbstractCodeEditorService(){var t=e.call(this)||this;return t._onCodeEditorAdd=t._register(new a.a),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new a.a),t.onCodeEditorRemove=t._onCodeEditorRemove.event,t._onDiffEditorAdd=t._register(new a.a),t._onDiffEditorRemove=t._register(new a.a),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}return d(AbstractCodeEditorService,e),AbstractCodeEditorService.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},AbstractCodeEditorService.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},AbstractCodeEditorService.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map((function(t){return e._codeEditors[t]}))},AbstractCodeEditorService.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)},AbstractCodeEditorService.prototype.removeDiffEditor=function(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)},AbstractCodeEditorService.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map((function(t){return e._diffEditors[t]}))},AbstractCodeEditorService.prototype.getFocusedCodeEditor=function(){for(var e=null,t=0,i=this.listCodeEditors();t<i.length;t++){var o=i[t];if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(e=o)}return e},AbstractCodeEditorService}(n.a),u=i("iuje"),c=i("M1Kb"),h=i("t9D7"),p=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},f=function(){function RefCountedStyleSheet(e,t,i){this._parent=e,this._editorId=t,this.styleSheet=i,this._refCount=0}return RefCountedStyleSheet.prototype.ref=function(){this._refCount++},RefCountedStyleSheet.prototype.unref=function(){var e;this._refCount--,0===this._refCount&&(null===(e=this.styleSheet.parentNode)||void 0===e||e.removeChild(this.styleSheet),this._parent._removeEditorStyleSheets(this._editorId))},RefCountedStyleSheet}(),g=function(){function GlobalStyleSheet(e){this.styleSheet=e}return GlobalStyleSheet.prototype.ref=function(){},GlobalStyleSheet.prototype.unref=function(){},GlobalStyleSheet}(),m=function(e){function CodeEditorServiceImpl(t,i){void 0===i&&(i=null);var o=e.call(this)||this;return o._decorationOptionProviders=new Map,o._editorStyleSheets=new Map,o._globalStyleSheet=i?new g(i):null,o._themeService=t,o}return p(CodeEditorServiceImpl,e),CodeEditorServiceImpl.prototype._getOrCreateGlobalStyleSheet=function(){return this._globalStyleSheet||(this._globalStyleSheet=new g(o.w())),this._globalStyleSheet},CodeEditorServiceImpl.prototype._getOrCreateStyleSheet=function(e){if(!e)return this._getOrCreateGlobalStyleSheet();var t=e.getContainerDomNode();if(!o.N(t))return this._getOrCreateGlobalStyleSheet();var i=e.getId();if(!this._editorStyleSheets.has(i)){var n=new f(this,i,o.w(t));this._editorStyleSheets.set(i,n)}return this._editorStyleSheets.get(i)},CodeEditorServiceImpl.prototype._removeEditorStyleSheets=function(e){this._editorStyleSheets.delete(e)},CodeEditorServiceImpl.prototype.registerDecorationType=function(e,t,i,o){var n=this._decorationOptionProviders.get(e);if(!n){var r=this._getOrCreateStyleSheet(o),s={styleSheet:r.styleSheet,key:e,parentTypeKey:i,options:t||Object.create(null)};n=i?new _(this._themeService,r,s):new v(this._themeService,r,s),this._decorationOptionProviders.set(e,n)}n.refCount++},CodeEditorServiceImpl.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((function(t){return t.removeDecorations(e)}))))},CodeEditorServiceImpl.prototype.resolveDecorationOptions=function(e,t){var i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)},CodeEditorServiceImpl=__decorate([__param(0,h.c)],CodeEditorServiceImpl)}(l),_=function(){function DecorationSubTypeOptionsProvider(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new C(3,i,e),this._afterContentRules=new C(4,i,e)}return DecorationSubTypeOptionsProvider.prototype.getOptions=function(e,t){var i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i},DecorationSubTypeOptionsProvider.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()},DecorationSubTypeOptionsProvider}(),v=function(){function DecorationTypeOptionsProvider(e,t,i){var o=this;this._disposables=new n.b,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;var createCSSRules=function(t){var n=new C(t,i,e);if(o._disposables.add(n),n.hasContent)return n.className};this.className=createCSSRules(0);var r=function(t){var n=new C(t,i,e);return o._disposables.add(n),n.hasContent?{className:n.className,hasLetterSpacing:n.hasLetterSpacing}:null}(1);r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=createCSSRules(3),this.afterContentClassName=createCSSRules(4),this.glyphMarginClassName=createCSSRules(2);var s=i.options;this.isWholeLine=Boolean(s.isWholeLine),this.stickiness=s.rangeBehavior;var a=s.light&&s.light.overviewRulerColor||s.overviewRulerColor,d=s.dark&&s.dark.overviewRulerColor||s.overviewRulerColor;void 0===a&&void 0===d||(this.overviewRuler={color:a||d,darkColor:d||a,position:s.overviewRulerLane||c.d.Center})}return DecorationTypeOptionsProvider.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},DecorationTypeOptionsProvider.prototype.dispose=function(){this._disposables.dispose(),this._styleSheet.unref()},DecorationTypeOptionsProvider}(),y={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},C=function(){function DecorationCSSRules(e,t,i){var o=this;this._theme=i.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var n=w.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+w.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=w.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onThemeChange((function(e){o._theme=i.getTheme(),o._removeCSS(),o._buildCSS()})):this._themeListener=null}return DecorationCSSRules.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(DecorationCSSRules.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),DecorationCSSRules.prototype._buildCSS=function(){var e,t,i,o=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(o),t=this.getCSSTextForModelDecorationClassName(o.light),i=this.getCSSTextForModelDecorationClassName(o.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(o),t=this.getCSSTextForModelDecorationInlineClassName(o.light),i=this.getCSSTextForModelDecorationInlineClassName(o.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(o),t=this.getCSSTextForModelDecorationGlyphMarginClassName(o.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(o.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(o.before),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.before),i=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(o.after),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.after),i=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var n=this._providerArgs.styleSheet.sheet,r=!1;e.length>0&&(n.insertRule(this._unThemedSelector+" {"+e+"}",0),r=!0),t.length>0&&(n.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),r=!0),i.length>0&&(n.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+i+"}",0),r=!0),this._hasContent=r},DecorationCSSRules.prototype._removeCSS=function(){o.O(this._unThemedSelector,this._providerArgs.styleSheet)},DecorationCSSRules.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(r.r(y.contentIconPath,o.r(s.a.revive(e.contentIconPath)))),"string"==typeof e.contentText){var i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(r.r(y.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return void 0!==e.gutterIconPath&&(t.push(r.r(y.gutterIconPath,o.r(s.a.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(r.r(y.gutterIconSize,e.gutterIconSize))),t.join("")},DecorationCSSRules.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(r.r("box-sizing: border-box;")),!0)},DecorationCSSRules.prototype.collectCSSText=function(e,t,i){for(var o=i.length,n=0,s=t;n<s.length;n++){var a=s[n],d=this.resolveValue(e[a]);"string"==typeof d&&i.push(r.r(y[a],d))}return i.length!==o},DecorationCSSRules.prototype.resolveValue=function(e){if(Object(u.c)(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},DecorationCSSRules}(),w=function(){function CSSNameHelper(){}return CSSNameHelper.getClassName=function(e,t){return"ced-"+e+"-"+t},CSSNameHelper.getSelector=function(e,t,i){var o=".monaco-editor ."+this.getClassName(e,i);return t&&(o=o+"."+this.getClassName(t,i)),3===i?o+="::before":4===i&&(o+="::after"),o},CSSNameHelper}()},o39E:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("pmY6"),n=i("EffR"),r=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),s=function(e){function ElementSizeObserver(t,i,o){var n=e.call(this)||this;return n.referenceDomElement=t,n.changeCallback=o,n.width=-1,n.height=-1,n.mutationObserver=null,n.windowSizeListener=null,n.measureReferenceDomElement(!1,i),n}return r(ElementSizeObserver,e),ElementSizeObserver.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},ElementSizeObserver.prototype.getWidth=function(){return this.width},ElementSizeObserver.prototype.getHeight=function(){return this.height},ElementSizeObserver.prototype.startObserving=function(){var e=this;!this.mutationObserver&&this.referenceDomElement&&(this.mutationObserver=new MutationObserver((function(){return e._onDidMutate()})),this.mutationObserver.observe(this.referenceDomElement,{attributes:!0})),this.windowSizeListener||(this.windowSizeListener=n.j(window,"resize",(function(){return e._onDidResizeWindow()})))},ElementSizeObserver.prototype.stopObserving=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.windowSizeListener&&(this.windowSizeListener.dispose(),this.windowSizeListener=null)},ElementSizeObserver.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},ElementSizeObserver.prototype._onDidMutate=function(){this.measureReferenceDomElement(!0)},ElementSizeObserver.prototype._onDidResizeWindow=function(){this.measureReferenceDomElement(!0)},ElementSizeObserver.prototype.measureReferenceDomElement=function(e,t){var i=0,o=0;t?(i=t.width,o=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),i=Math.max(5,i),o=Math.max(5,o),this.width===i&&this.height===o||(this.width=i,this.height=o,e&&this.changeCallback())},ElementSizeObserver}(o.a)},sFUC:function(e,t,i){"use strict";i.d(t,"a",(function(){return isCodeEditor}));var o=i("iuje");function isCodeEditor(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===o.a.ICodeEditor}},sswD:function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"c",(function(){return y})),i.d(t,"b",(function(){return C})),i.d(t,"j",(function(){return registerLanguageCommand})),i.d(t,"e",(function(){return registerDefaultLanguageCommand})),i.d(t,"k",(function(){return registerModelAndPositionCommand})),i.d(t,"l",(function(){return registerModelCommand})),i.d(t,"g",(function(){return registerEditorCommand})),i.d(t,"f",(function(){return registerEditorAction})),i.d(t,"i",(function(){return registerInstantiatedEditorAction})),i.d(t,"h",(function(){return registerEditorContribution})),i.d(t,"d",(function(){return o}));var o,n=i("/cxE"),r=i("bY76"),s=i("Vxe3"),a=i("cGHE"),d=i("G2kB"),l=i("t49l"),u=i("fjLI"),c=i("nnTU"),h=i("T8No"),p=i("nrhi"),f=i("ic2d"),g=i("XXUj"),m=i("746U"),_=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),v=function(){function Command(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}return Command.prototype.register=function(){var e=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t=t?h.a.and(t,this.precondition):this.precondition),p.a.registerCommandAndKeybindingRule({id:this.id,handler:function(t,i){return e.runCommand(t,i)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else c.a.registerCommand({id:this.id,handler:function(t,i){return e.runCommand(t,i)},description:this._description})},Command.prototype._registerMenuItem=function(e){u.c.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title},when:e.when,order:e.order})},Command}(),y=function(e){function EditorCommand(){return null!==e&&e.apply(this,arguments)||this}return _(EditorCommand,e),EditorCommand.bindToContribution=function(e){return function(t){function EditorControllerCommandImpl(e){var i=t.call(this,e)||this;return i._callback=e.handler,i}return _(EditorControllerCommandImpl,t),EditorControllerCommandImpl.prototype.runEditorCommand=function(t,i,o){e(i)&&this._callback(e(i),o)},EditorControllerCommandImpl}(EditorCommand)},EditorCommand.prototype.runCommand=function(e,t){var i=this,o=e.get(s.a),n=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(n)return n.invokeWithinContext((function(e){if(e.get(h.c).contextMatchesRules(Object(m.n)(i.precondition)))return i.runEditorCommand(e,n,t)}))},EditorCommand}(v),C=function(e){function EditorAction(t){var i=e.call(this,EditorAction.convertOptions(t))||this;return i.label=t.label,i.alias=t.alias,i}return _(EditorAction,e),EditorAction.convertOptions=function(e){var t;function withDefaults(t){return t.menuId||(t.menuId=7),t.title||(t.title=e.label),t.when=h.a.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push.apply(t,e.contextMenuOpts.map(withDefaults)):e.contextMenuOpts&&t.push(withDefaults(e.contextMenuOpts)),e.menuOpts=t,e},EditorAction.prototype.runEditorCommand=function(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})},EditorAction.prototype.reportTelemetry=function(e,t){e.get(g.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},EditorAction}(y);function registerLanguageCommand(e,t){c.a.registerCommand(e,(function(e,i){return t(e,i||{})}))}function registerDefaultLanguageCommand(e,t){registerLanguageCommand(e,(function(e,i){var o=i.resource,s=i.position;if(!(o instanceof r.a))throw Object(n.b)("resource");if(!a.a.isIPosition(s))throw Object(n.b)("position");var u=e.get(d.a).getModel(o);if(u){var c=a.a.lift(s);return t(u,c,i)}return e.get(l.a).createModelReference(o).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,a.a.lift(s),i))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerModelAndPositionCommand(e,t){c.a.registerCommand(e,(function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=i[0],s=i[1];Object(m.a)(r.a.isUri(n)),Object(m.a)(a.a.isIPosition(s));var u=e.get(d.a).getModel(n);if(u){var c=a.a.lift(s);return t(u,c,i.slice(2))}return e.get(l.a).createModelReference(n).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,a.a.lift(s),i.slice(2)))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerModelCommand(e,t){c.a.registerCommand(e,(function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=i[0];Object(m.a)(r.a.isUri(n));var s=e.get(d.a).getModel(n);return s?t(s,i.slice(1)):e.get(l.a).createModelReference(n).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,i.slice(1)))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerEditorCommand(e){return w.INSTANCE.registerEditorCommand(e),e}function registerEditorAction(e){w.INSTANCE.registerEditorAction(new e)}function registerInstantiatedEditorAction(e){w.INSTANCE.registerEditorAction(e)}function registerEditorContribution(e,t){w.INSTANCE.registerEditorContribution(e,t)}!function(e){e.getEditorCommand=function getEditorCommand(e){return w.INSTANCE.getEditorCommand(e)},e.getEditorActions=function getEditorActions(){return w.INSTANCE.getEditorActions()},e.getEditorContributions=function getEditorContributions(){return w.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function getSomeEditorContributions(e){return w.INSTANCE.getEditorContributions().filter((function(t){return e.indexOf(t.id)>=0}))},e.getDiffEditorContributions=function getDiffEditorContributions(){return w.INSTANCE.getDiffEditorContributions()}}(o||(o={}));var w=function(){function EditorContributionRegistry(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return EditorContributionRegistry.prototype.registerEditorContribution=function(e,t){this.editorContributions.push({id:e,ctor:t})},EditorContributionRegistry.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},EditorContributionRegistry.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)},EditorContributionRegistry.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},EditorContributionRegistry.prototype.getEditorActions=function(){return this.editorActions.slice(0)},EditorContributionRegistry.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},EditorContributionRegistry.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},EditorContributionRegistry.INSTANCE=new EditorContributionRegistry,EditorContributionRegistry}();f.a.add("editor.contributions",w.INSTANCE)},vATl:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return _})),i.d(t,"d",(function(){return v})),i.d(t,"c",(function(){return y}));var o=i("N0LK"),n=i("JQT/"),r=i("pmY6"),s=i("sswD"),a=i("T8No"),d=i("24hK"),l=i("Cg/j"),u=i("9fML"),c=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),h=Object(l.c)("IEditorCancelService"),p=new a.d("cancellableOperation",!1);Object(u.b)(h,function(){function class_1(){this._tokens=new WeakMap}return class_1.prototype.add=function(e,t){var i,o=this._tokens.get(e);return o||(o=e.invokeWithinContext((function(e){return{key:p.bindTo(e.get(a.c)),tokens:new d.a}})),this._tokens.set(e,o)),o.key.set(!0),i=o.tokens.push(t),function(){i&&(i(),o.key.set(!o.tokens.isEmpty()),i=void 0)}},class_1.prototype.cancel=function(e){var t=this._tokens.get(e);if(t){var i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},class_1}(),!0);var f=function(e){function EditorKeybindingCancellationTokenSource(t,i){var o=e.call(this,i)||this;return o.editor=t,o._unregister=t.invokeWithinContext((function(e){return e.get(h).add(t,o)})),o}return c(EditorKeybindingCancellationTokenSource,e),EditorKeybindingCancellationTokenSource.prototype.dispose=function(){this._unregister(),e.prototype.dispose.call(this)},EditorKeybindingCancellationTokenSource}(n.b);Object(s.g)(new(function(e){function class_2(){return e.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})||this}return c(class_2,e),class_2.prototype.runEditorCommand=function(e,t){e.get(h).cancel(t)},class_2}(s.c)));var g=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),m=function(){function EditorState(e,t){if(this.flags=t,0!=(1&this.flags)){var i=e.getModel();this.modelVersionId=i?o.r("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return EditorState.prototype._equals=function(e){if(!(e instanceof EditorState))return!1;var t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))},EditorState.prototype.validate=function(e){return this._equals(new EditorState(e,this.flags))},EditorState}(),_=function(e){function EditorStateCancellationTokenSource(t,i,o){var n=e.call(this,t,o)||this;return n.editor=t,n._listener=new r.b,4&i&&n._listener.add(t.onDidChangeCursorPosition((function(e){return n.cancel()}))),2&i&&n._listener.add(t.onDidChangeCursorSelection((function(e){return n.cancel()}))),8&i&&n._listener.add(t.onDidScrollChange((function(e){return n.cancel()}))),1&i&&(n._listener.add(t.onDidChangeModel((function(e){return n.cancel()}))),n._listener.add(t.onDidChangeModelContent((function(e){return n.cancel()})))),n}return g(EditorStateCancellationTokenSource,e),EditorStateCancellationTokenSource.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},EditorStateCancellationTokenSource}(f),v=function(e){function TextModelCancellationTokenSource(t,i){var o=e.call(this,i)||this;return o._listener=t.onDidChangeContent((function(){return o.cancel()})),o}return g(TextModelCancellationTokenSource,e),TextModelCancellationTokenSource.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},TextModelCancellationTokenSource}(n.b),y=function(){function StableEditorScrollState(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return StableEditorScrollState.capture=function(e){var t=null,i=0;if(0!==e.getScrollTop()){var o=e.getVisibleRanges();if(o.length>0){t=o[0].getStartPosition();var n=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-n}}return new StableEditorScrollState(t,i)},StableEditorScrollState.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},StableEditorScrollState}()},"x/UI":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var o=i("Cg/j"),n=Object(o.c)("IWorkspaceEditService")}}]);
//# sourceMappingURL=155.d5e6badc45389567370f.chunk.js.map